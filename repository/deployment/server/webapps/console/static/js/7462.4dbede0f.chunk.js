"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[7462],{77462:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var a=n(37612),i=n(55007),o=n(51314),l=n(25134),c=n(1989),r=n(60486),s=n(90302),u=n(40838),p=n(917),d=n(43974),m=n(51021),f=n(87029),v=n(21257),g=n(57095),h=n(54484),A=n(6833),E=n(82406),S=n(61444),y=n(43516),I=n(47513),T=n(90408),P=n(44194),_=n(10479),O=n(47245),C=n(73432),R=n(89141),b=n(26154),N=n(10909),U=n(6567),k=n(39709),Z=n(58379),L=n(9821),M=n(84548),x=n(51835),w=n.n(x),D=n(27975),G=n.n(D),$=n(55900),Q=n.n($),z=n(21555),V=n.n(z),F=n(3621),j=n.n(F),B=n(5062),Y=n.n(B),H=n(35075),K={};K.styleTagTransform=Y(),K.setAttributes=V(),K.insert=Q().bind(null,"head"),K.domAPI=G(),K.insertStyleElement=j();w()(H.Z,K);H.Z&&H.Z.locals&&H.Z.locals;function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,l,c=[],r=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;r=!1}else for(;!(r=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);r=!0);}catch(e){s=!0,i=e}finally{try{if(!r&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var J=[{key:1,text:S.I18n.instance.t("common:name"),value:"name"},{key:2,text:S.I18n.instance.t("common:type"),value:"type"},{key:3,text:S.I18n.instance.t("common:createdOn"),value:"createdDate"},{key:4,text:S.I18n.instance.t("common:lastUpdatedOn"),value:"lastUpdated"}],X=function(e){var t,n,S,x,w=e["data-testid"],D=(0,_.$)().t,G=(0,y.fQ)().getLink,$=(0,O.I0)(),Q=(0,p.Z)().UIConfig,z=(0,O.v9)((function(e){return e.config.ui.features})),V=(0,O.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),F=W((0,P.useState)(""),2),j=F[0],B=F[1],Y=W((0,P.useState)(J[0]),2),H=Y[0],K=Y[1],q=W((0,P.useState)(0),2),X=q[0],ee=q[1],te=W((0,P.useState)(s.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),ne=te[0],ae=te[1],ie=W((0,P.useState)(!1),2),oe=ie[0],le=ie[1],ce=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.accountApp)||void 0===t?void 0:t.tenantQualifiedPath})),re=W((0,P.useState)(r.$.DEFAULT_MY_ACCOUNT_STATUS),2),se=re[0],ue=re[1],pe=W((0,P.useState)(void 0),2),de=pe[0],me=(pe[1],W((0,P.useState)(null),2)),fe=me[0],ve=me[1],ge=W((0,P.useState)(null),2),he=ge[0],Ae=ge[1],Ee=(0,v.z)().organizationType,Se=d.l.getInstance(),ye=(0,U.Ok)("advancedConfigurations,templateId,clientId,issuer",ne,X,j,!0,!0),Ie=ye.data,Te=ye.isLoading,Pe=ye.error,_e=ye.mutate,Oe=(0,U.az)("advancedConfigurations,templateId,clientId,issuer"),Ce=Oe.data,Re=Oe.isLoading,be=Oe.error,Ne=(0,k.b)(he,!!he),Ue=Ne.data,ke=Ne.isLoading,Ze=Ne.error;(0,P.useEffect)((function(){var e;1===(null==Ce||null===(e=Ce.applications)||void 0===e?void 0:e.length)&&Ce.applications.forEach((function(e){Ae(null==e?void 0:e.id)}))}),[Ce]),(0,P.useEffect)((function(){var e=r.$.DEFAULT_MY_ACCOUNT_STATUS;Te||ke||Re||Ue&&(e=null==Ue?void 0:Ue.applicationEnabled),ue(e)}),[Te,ke,Re,he]),(0,P.useEffect)((function(){Pe&&(Pe.response&&Pe.response.data&&Pe.response.data.description?$((0,E.V_)({description:Pe.response.data.description,level:A.QU.ERROR,message:D("applications:notifications.fetchApplications.error.message")})):$((0,E.V_)({description:D("applications:notifications.fetchApplications.genericError.description"),level:A.QU.ERROR,message:D("applications:notifications.fetchApplications.genericError.message")})))}),[Pe]),(0,P.useEffect)((function(){var e;be&&(null!=be&&null!==(e=be.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?$((0,E.V_)({description:be.response.data.description,level:A.QU.ERROR,message:D("applications:notifications.fetchMyAccountApplication.error.message")})):$((0,E.V_)({description:D("applications:notifications.fetchMyAccountApplication.genericError.description"),level:A.QU.ERROR,message:D("applications:notifications.fetchMyAccountApplication.genericError.message")})))}),[be]),(0,P.useEffect)((function(){var e;if(Ze)if(null!=Ze&&null!==(e=Ze.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description){var t,n;if(404===(null===(t=Ze.response)||void 0===t?void 0:t.status))return;$((0,E.V_)({description:null!==(n=Ze.response.data.description)&&void 0!==n?n:D("applications:myaccount.fetchMyAccountStatus.error.description"),level:A.QU.ERROR,message:D("applications:myaccount.fetchMyAccountStatus.error.message")}))}else $((0,E.V_)({description:D("applications:myaccount.fetchMyAccountStatus.genericError.description"),level:A.QU.ERROR,message:D("applications:myaccount.fetchMyAccountStatus.genericError.message")}))}),[Ze]),(0,P.useEffect)((function(){if(null!=Ie&&Ie.applications){var e=(0,I.Z)(Ie);e.count=e.count-(Ie.applications.length-e.applications.length),e.totalResults=e.totalResults-(Ie.applications.length-e.applications.length),ve(e)}}),[Ie]);var Le,Me,xe,we=function(e){B(e),ee(0)},De=function(){u.m.push(r.$.getPaths().get("APPLICATIONS_SETTINGS"))};return P.createElement(h.Z,{resourceType:g.P.APPLICATIONS,categories:o.z.SUPPORTED_CATEGORIES_INFO},P.createElement(y.Xg,{pageTitle:"Applications",action:Ee!==f.$B.SUBORGANIZATION&&(null==fe?void 0:fe.totalResults)>0?P.createElement(P.Fragment,null,P.createElement(i.di,{when:null==z||null===(t=z.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create},!(null!=V&&V.includes(L.j.FEATURE_DICTIONARY.get("APPLICATIONS_SETTINGS")))&&P.createElement(y.GI,{trigger:P.createElement(N.Z,{"data-componentid":"applications-settings-button",icon:a.UG,onClick:De}),content:D("applications:forms.applicationsSettings.title"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})),P.createElement(i.di,{when:null==z||null===(n=z.applications)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create},P.createElement(y.KM,{onClick:function(){Se.publish("application-click-new-application-button"),u.m.push(r.$.getPaths().get("APPLICATION_TEMPLATES"))},"data-testid":"".concat(w,"-list-layout-add-button")},P.createElement(b.Z,{name:"add"}),D("applications:list.actions.add")))):Ee!==f.$B.SUBORGANIZATION?P.createElement(i.di,{when:null==z||null===(S=z.applications)||void 0===S||null===(S=S.scopes)||void 0===S?void 0:S.create},!(null!=V&&V.includes(L.j.FEATURE_DICTIONARY.get("APPLICATIONS_SETTINGS")))&&P.createElement(y.GI,{trigger:P.createElement(N.Z,{"data-componentid":"applications-settings-button",icon:a.UG,onClick:De}),content:D("applications:applicationsSettings.title"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})):null,title:D("console:develop.pages.applications.title"),description:Ee!==f.$B.SUBORGANIZATION?P.createElement("p",null,D("console:develop.pages.applications.subTitle"),P.createElement(y.eb,{link:G("develop.applications.learnMore")},D("common:learnMore"))):P.createElement("p",null,D("console:develop.pages.applications.alternateSubTitle"),P.createElement(y.eb,{link:G("develop.applications.learnMore")},D("common:learnMore"))),contentTopMargin:r.$.getTenant()===r.$.getSuperTenant(),"data-testid":"".concat(w,"-page-layout")},!Re&&0!==(null==Ce||null===(x=Ce.applications)||void 0===x?void 0:x.length)&&(!m.tZ.advancedConfigurations.showMyAccount||null!=Q&&null!==(Me=Q.legacyMode)&&void 0!==Me&&Me.applicationListSystemApps?null:P.createElement(y.pJ,{className:"mt-0 mb-5","data-componentid":"application-consumer-account-link"},P.createElement(C.Z,null,P.createElement(C.Z.Item,null,P.createElement(R.Z,{verticalAlign:"middle"},P.createElement(R.Z.Column,{floated:"left",mobile:16,computer:9,verticalAlign:"middle"},P.createElement(y.dn,{icon:(0,c.s_)().myAccountSolidIcon,floated:"left",size:"mini",spaced:"right",verticalAlign:"middle",inline:!0,square:!0,transparent:!0}),P.createElement(C.Z.Content,{verticalAlign:"middle"},P.createElement(C.Z.Header,{"data-componentid":"application-consumer-account-link-title",className:"my-account-title"},D("applications:myaccount.title"),(null===m.tZ||void 0===m.tZ||null===(xe=m.tZ.advancedConfigurations)||void 0===xe?void 0:xe.showMyAccountStatus)&&P.createElement(b.Z,{color:se?"green":"grey",name:se?"check circle":"minus circle",className:"middle aligned ml-1"})),P.createElement(C.Z.Description,{"data-componentid":"application-consumer-account-link-description"},D("applications:myaccount.description"),P.createElement(y.eb,{link:G("develop.applications.myaccount.learnMore")},D("common:learnMore"))))),se?P.createElement(y.GI,{trigger:P.createElement(R.Z.Column,{mobile:16,computer:6,className:"pr-0"},P.createElement(y.OR,{value:ce,"data-componentid":"application-consumer-account-link-copy-field"})),content:D("applications:myaccount.popup"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}):null,P.createElement(R.Z.Column,{mobile:16,computer:1},P.createElement(y.GI,{trigger:P.createElement(N.Z,{className:"my-account-settings-button","data-componentid":"navigate-to-my-account-settings-button",onClick:function(){var e,t,n;de?u.m.push({pathname:r.$.getPaths().get("APPLICATION_EDIT").replace(":id",null==Ce||null===(e=Ce.applications[0])||void 0===e?void 0:e.id),search:"?".concat(L.j.APP_STATE_STRONG_AUTH_PARAM_KEY,"=").concat(L.j.APP_STATE_STRONG_AUTH_PARAM_VALUE)}):u.m.push({pathname:r.$.getPaths().get("APPLICATION_EDIT").replace(":id",null==Ce||null===(t=Ce.applications[0])||void 0===t?void 0:t.id),search:(null==Ce||null===(n=Ce.applications[0])||void 0===n?void 0:n.access)===M.Ch.READ?"?".concat(L.j.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY,"=true"):""})}},P.createElement(a.UG,null)),content:D("applications:myaccount.settings"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}))))))),P.createElement(y.PS,{advancedSearch:P.createElement(l.n,{onFilter:we,filterAttributeOptions:[{key:0,text:D("common:name"),value:"name"},{key:1,text:D("common:clientId"),value:"clientId"},{key:2,text:D("common:issuer"),value:"issuer"}],filterAttributePlaceholder:D("applications:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:D("applications:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:D("applications:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:D("applications:advancedSearch.placeholder"),style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",predefinedDefaultSearchStrategy:"name co %search-value% or clientId co %search-value% or issuer co %search-value%",triggerClearQuery:oe,"data-testid":"".concat(w,"-list-advanced-search")}),currentListSize:null==fe?void 0:fe.count,isLoading:Te||Re,listItemLimit:ne,onItemsPerPageDropdownChange:function(e,t){ae(t.value)},onPageChange:function(e,t){ee((t.activePage-1)*ne)},onSortStrategyChange:function(e,t){K((0,T.Z)(J,(function(e){return t.value===e.value})))},showPagination:!0,showTopActionPanel:Te||Re||!(!j&&(null==fe?void 0:fe.totalResults)<=0),sortOptions:J,sortStrategy:H,totalPages:Math.ceil((null==fe?void 0:fe.totalResults)/ne),totalListSize:null==fe?void 0:fe.totalResults,paginationOptions:{disableNextButton:(Le=fe,!((null==Le?void 0:Le.startIndex)+(null==Le?void 0:Le.count)!==(null==Le?void 0:Le.totalResults)+1))},"data-testid":"".concat(w,"-list-layout")},P.createElement(Z.d,{advancedSearch:P.createElement(l.n,{onFilter:we,filterAttributeOptions:[{key:0,text:D("common:name"),value:"name"},{key:1,text:D("common:clientId"),value:"clientId"},{key:2,text:D("common:issuer"),value:"issuer"}],filterAttributePlaceholder:D("applications:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:D("applications:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:D("applications:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:D("applications:advancedSearch.placeholder"),style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",predefinedDefaultSearchStrategy:"name co %search-value% or clientId co %search-value% or issuer co %search-value%",triggerClearQuery:oe,"data-testid":"".concat(w,"-list-advanced-search")}),featureConfig:z,isSetStrongerAuth:de,isLoading:Te||Re,list:fe,onApplicationDelete:function(){_e()},onEmptyListPlaceholderActionClick:function(){u.m.push(r.$.getPaths().get("APPLICATION_TEMPLATES"))},onSearchQueryClear:function(){B(""),le(!oe)},searchQuery:j,"data-testid":"".concat(w,"-list"),"data-componentid":"application"}))))};X.defaultProps={"data-componentid":"applications","data-testid":"applications"};const ee=X},35075:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(51139),i=n.n(a),o=n(32234),l=n.n(o)()(i());l.push([e.id,".my-account-settings-button{padding:11px !important}.my-account-title{margin-bottom:.25rem !important;display:flex !important}",""]);const c=l}}]);