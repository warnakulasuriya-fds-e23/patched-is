"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[3424],{3424:(e,t,r)=>{r.d(t,{v:()=>w,Z:()=>B});var n=r(1989),o=r(90302),i=r(40838),a=r(6833),s=r(82406),c=r(43516),l=r(44194),u=r(10479),d=r(47245),p=r(12638),f=r(37077),m=r(26154),h=r(43151),y=r(95241),v=r(40578);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var w=function(e){var t=e.apiResourcesList,r=e.categoryId,b=e.featureConfig,w=e.isAPIResourcesListLoading,E=e.onAPIResourceDelete,R=e.onListItemClick,A=e.onSearchQueryClear,x=e.searchQuery,S=e.showListItemActions,P=e.onEmptyListPlaceholderActionClicked,I=e["data-componentid"],L=(0,u.$)().t,O=(0,d.I0)(),N=g((0,l.useState)(!1),2),k=N[0],C=N[1],j=g((0,l.useState)(!1),2),z=j[0],T=j[1],Z=g((0,l.useState)(void 0),2),_=Z[0],V=Z[1],M=(0,d.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),F=function(){return x&&t&&0===t.length?l.createElement(c.$J,{action:l.createElement(c.Qj,{onClick:A},L("console:develop.placeholders.emptySearchResult.action")),image:(0,n.jF)().emptySearch,imageSize:"tiny",title:L("console:develop.placeholders.emptySearchResult.title"),subtitle:[L("console:develop.placeholders.emptySearchResult.subtitles.0",{query:x}),L("console:develop.placeholders.emptySearchResult.subtitles.1")],"data-testid":"".concat(I,"-empty-search-placeholder-icon")}):!t||t&&0===t.length?l.createElement(c.$J,{image:(0,n.jF)().emptyList,imageSize:"tiny",subtitle:[L("extensions:develop.apiResource.empty")],"data-testid":"".concat(I,"-empty-search-placeholder-icon"),action:v.H.isAPIResourceCreateAllowed(b,M)&&P?l.createElement(c.KM,{onClick:function(){return P()},"data-testid":"".concat(I,"-add-api-resources-button")},l.createElement(m.Z,{name:"add"}),L("extensions:develop.apiResource.addApiResourceButton")):null}):null},U=function(e,t){i.m.push(y.KG.getPaths().get("API_RESOURCE_EDIT").replace(":categoryId",r).replace(":id",e.id)),R&&R(t,e)};return l.createElement(l.Fragment,null,l.createElement(c.wQ,{className:"api-resources-table",loadingStateOptions:{count:o.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},showHeader:!1,"data-componentid":I,"data-testid":I,columns:[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,r=e?e.name:"";return t=r&&""!==r?r:"",l.createElement(p.Z,{as:"h6",className:"header-with-icon","data-testid":"".concat(I,"-item-heading")},l.createElement(c.JT,{image:l.createElement(c.Xo,{name:t,size:"mini","data-testid":"".concat(I,"-item-display-name-avatar")}),size:"mini",spaced:"right","data-testid":"".concat(I,"-item-display-name")}),l.createElement(p.Z.Content,null,t,l.createElement(p.Z.Subheader,null,v.H.checkIfAPIResourcePropertyManaged(e.properties)&&l.createElement(f.Z,{size:"mini",className:"choreo-label ml-0"},L("extensions:develop.apiResource.managedByChoreoText")))))},title:L("extensions:develop.apiResource.table.name.column")},{allowToggleVisibility:!1,dataIndex:"identifier",id:"identifier",key:"identifier",render:function(e){var t=e?e.identifier:"",r="";return t&&""!==t&&(r=t),l.createElement(p.Z,{as:"h6","data-testid":"".concat(I,"-col-2-item-heading")},l.createElement(p.Z.Content,null,l.createElement(p.Z.Subheader,{"data-testid":"".concat(I,"-col-2-item-sub-heading")},r,r&&l.createElement(f.Z,{pointing:"left",size:"mini",className:"client-id-label"},L("extensions:develop.apiResource.table.identifier.label")))))},title:L("extensions:develop.apiResource.table.identifier.column")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:L("extensions:develop.apiResource.table.actions.column")}],placeholders:F(),actions:function(){if(S)return[{"data-componentid":"".concat(I,"-item-edit-button"),hidden:function(){var e=!v.H.isAPIResourceReadAllowed(b,M),t=!v.H.isAPIResourceUpdateAllowed(b,M);return e&&t},icon:function(e){var t=v.H.isAPIResourceUpdateAllowed(b,M);return!v.H.isSystemAPI(null==e?void 0:e.type)&&t?"pencil alternate":"eye"},onClick:function(e,t){U(t,e)},popupText:function(e){var t=v.H.isAPIResourceUpdateAllowed(b,M),r=v.H.isSystemAPI(null==e?void 0:e.type);return L(!r&&t?"common:edit":"common:view")},renderer:"semantic-icon"},{"data-componentid":"".concat(I,"-item-delete-button"),hidden:function(e){var t=!v.H.isAPIResourceDeleteAllowed(b,M),r=v.H.isSystemAPI(null==e?void 0:e.type);return t||r},icon:function(){return"trash alternate"},onClick:function(e,t){T(!0),V(t)},popupText:function(){return L("common:delete")},renderer:"semantic-icon"}]}(),data:t,transparent:w||null!==F(),isLoading:w,onRowClick:function(e,t){U(t,e)}}),_&&l.createElement(c.cV,{primaryActionLoading:k,onClose:function(){return T(!1)},type:"negative",open:z,assertionHint:L("extensions:develop.apiResource.confirmations.deleteAPIResource.assertionHint"),assertionType:"checkbox",primaryAction:L("common:confirm"),secondaryAction:L("common:cancel"),onSecondaryActionClick:function(){T(!1)},onPrimaryActionClick:function(){return e=_.id,C(!0),void(0,h.PF)(e).then((function(){O((0,s.V_)({description:L("extensions:develop.apiResource.notifications.deleteAPIResource.success.description"),level:a.QU.SUCCESS,message:L("extensions:develop.apiResource.notifications.deleteAPIResource.success.message")})),T(!1),E&&E()})).catch((function(){O((0,s.V_)({description:L("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.description"),level:a.QU.ERROR,message:L("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.message")}))})).finally((function(){C(!1),V(void 0)}));var e},"data-testid":"".concat(I,"-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-testid":"".concat(I,"-delete-confirmation-modal-header")},L("extensions:develop.apiResource.confirmations.deleteAPIResource.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(I,"-delete-confirmation-modal-message")},L("extensions:develop.apiResource.confirmations.deleteAPIResource.message")),l.createElement(c.cV.Content,{"data-testid":"".concat(I,"-delete-confirmation-modal-content")},L("extensions:develop.apiResource.confirmations.deleteAPIResource.content"))))};w.defaultProps={"data-componentid":"api-resources",showListItemActions:!0};var E=r(30382),R=function(e){var t=e.apiResourceData,r=e.isAPIResourceDataLoading,n=e["data-componentid"],o=(0,u.$)().t,i=(0,c.fQ)().getLink;return r?l.createElement(c.pO,{dimmer:!0}):l.createElement(l.Fragment,null,l.createElement(c.pJ,{padded:"very"},l.createElement(E.l0,{"data-componentid":"".concat(n,"-form"),onSubmit:function(){return null},id:"".concat(n,"-form"),uncontrolledForm:!1},l.createElement(E.gN.Checkbox,{ariaLabel:"authorization",name:"authorization",label:o("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.label"),hint:l.createElement(l.Fragment,null,o("extensions:develop.apiResource.tabs.authorization.form.fields.authorize.hint"),l.createElement(c.eb,{link:i("develop.apiResources.addAPIResource.requiredAuthorization.learnMore")},o("common:learnMore"))),width:16,defaultValue:t.requiresAuthorization,readOnly:!0,"data-componentid":"".concat(n,"-authorize")}))))};R.defaultProps={"data-componentid":"authorization-api-resource"};var A=r(55007),x=r(62508),S=r(10049),P=r(83646);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O="apiResource-general-details",N=function(e){var t,r=e.isReadOnly,n=e.isSubmitting,o=e.handleUpdateAPIResource,p=e.apiResourceData,f=e.isAPIResourceDataLoading,m=e["data-componentid"],h=(0,u.$)().t,y=(0,d.I0)(),v=(0,d.v9)((function(e){return e.config.ui.features})),g=I((0,l.useState)(!0),2),b=g[0],w=g[1],R=I((0,l.useState)(!1),2),L=R[0],N=R[1],k=I((0,l.useState)(!1),2),C=k[0],j=k[1],z=I((0,l.useState)(void 0),2),T=z[0],Z=z[1];return f?l.createElement(c.pO,{dimmer:!0}):l.createElement(l.Fragment,null,l.createElement(c.pJ,{padded:"very"},l.createElement(E.l0,{"data-testid":"".concat(m,"-form"),onSubmit:function(e){var t;o({name:null===(t=e.displayName)||void 0===t?void 0:t.toString().trim()})},id:O,validate:function(e){var t,r={displayName:void 0};return null!==(t=e.displayName)&&void 0!==t&&t.toString().trim()?w(!1):(r.displayName=h("extensions:develop.apiResource.tabs.general.form.fields.name.emptyValidate"),w(!0)),r},uncontrolledForm:!1},p.name&&l.createElement(E.gN.Input,{ariaLabel:"Site title input field",inputType:"name",name:"displayName",label:h("extensions:develop.apiResource.tabs.general.form.fields.name.label"),placeholder:h("extensions:develop.apiResource.tabs.general.form.fields.name.placeholder"),readOnly:r,required:!0,initialValue:p.name,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(m,"-general-form-displayName")}),p.identifier&&l.createElement(E.gN.Input,{ariaLabel:"Site title input field",inputType:"url",name:"identifier",label:h("extensions:develop.apiResource.tabs.general.form.fields.identifier.label"),readOnly:!0,required:!0,maxLength:100,minLength:0,width:16,"data-componentid":"".concat(m,"-general-form-identifier")},l.createElement(c.OR,{value:p.identifier})),l.createElement(E.gN.Button,{form:O,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button",hidden:r,disabled:n||b,loading:n,"data-componentid":"".concat(m,"-submit-button"),label:h("extensions:develop.apiResource.tabs.general.form.updateButton")}))),l.createElement(x.Z,{hidden:!0}),l.createElement(l.Fragment,null,!r&&l.createElement(A.di,{when:null==v||null===(t=v.apiResources)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.delete},l.createElement(c.v9,{sectionHeader:h("extensions:develop.apiResource.tabs.general.dangerZoneGroup.header")},l.createElement(c.cN,{"data-testid":"".concat(m,"-danger-zone"),actionTitle:h("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.button"),header:h("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.header"),subheader:h("extensions:develop.apiResource.tabs.general.dangerZoneGroup.deleteApiResource.subHeading"),onActionClick:function(){j(!0),Z(p)},isButtonDisabled:!1})))),T&&l.createElement(c.cV,{primaryActionLoading:L,onClose:function(){return j(!1)},type:"negative",open:C,assertionHint:h("extensions:develop.apiResource.confirmations.deleteAPIResource.assertionHint"),assertionType:"checkbox",primaryAction:h("common:confirm"),secondaryAction:h("common:cancel"),onSecondaryActionClick:function(){j(!1)},onPrimaryActionClick:function(){return e=T.id,N(!0),void(0,S.PF)(e).then((function(){y((0,s.V_)({description:h("extensions:develop.apiResource.notifications.deleteAPIResource.success.description"),level:a.QU.SUCCESS,message:h("extensions:develop.apiResource.notifications.deleteAPIResource.success.message")})),j(!1),i.m.push(P.KG.getPaths().get("API_RESOURCES"))})).catch((function(){y((0,s.V_)({description:h("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.description"),level:a.QU.ERROR,message:h("extensions:develop.apiResource.notifications.deleteAPIResource.genericError.message")}))})).finally((function(){N(!1),Z(void 0)}));var e},"data-testid":"".concat(m,"-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-testid":"".concat(m,"-delete-confirmation-modal-header")},h("extensions:develop.apiResource.confirmations.deleteAPIResource.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(m,"-delete-confirmation-modal-message")},h("extensions:develop.apiResource.confirmations.deleteAPIResource.message")),l.createElement(c.cV.Content,{"data-testid":"".concat(m,"-delete-confirmation-modal-content")},h("extensions:develop.apiResource.confirmations.deleteAPIResource.content"))))};N.defaultProps={"data-componentid":"general-api-resource"};var k=r(49748),C=r(96334),j=r(12950),z=r(16590);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function Z(){Z=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new N(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(k([])));R&&R!==r&&n.call(R,a)&&(w=R);var A=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==T(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(T(t)+" is not iterable")}return g.prototype=b,o(A,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},x(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function _(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var F=function(e){var t=e.permissionList,r=e.serachedPermissionList,o=e.isAPIResourceDataLoading,i=e.isSubmitting,a=e.isReadOnly,s=e.clearSearchPermission,d=e.setRemovePermission,h=e.setTriggerAddAPIResourcePermissionModal,y=e["data-componentid"],v=(0,u.$)().t,g=V((0,l.useState)(void 0),2),b=g[0],w=g[1],E=function(e){d(e)},R=function(){var e,t=(e=Z().mark((function e(t,r){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,z.CommonUtils.copyTextToClipboard(r.name);case 3:w(r);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_(i,n,o,a,s,"next",e)}function s(e){_(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();return l.createElement(c.wQ,{className:"oidc-scopes-table",columnCount:3,isLoading:o||i,loadingStateOptions:{count:10,imageType:"square"},onRowClick:R,showHeader:!1,placeholders:0===(null==t?void 0:t.length)?l.createElement(c.$J,{subtitle:[v("apiResources:tabs.scopes.empty.subTitle")],title:v("apiResources:tabs.scopes.empty.title"),image:(0,n.jF)().emptyList,action:l.createElement(c.KM,{"data-componentid":"".concat(y,"-add-permission-button"),onClick:h},l.createElement(m.Z,{name:"add"}),v("apiResources:tabs.scopes.button")),imageSize:"tiny"}):0===(null==r?void 0:r.length)?l.createElement(c.$J,{subtitle:[v("apiResources:tabs.scopes.emptySearch.subTitle.0"),v("apiResources:tabs.scopes.emptySearch.subTitle.1")],title:v("apiResources:tabs.scopes.emptySearch.title"),image:(0,n.jF)().emptySearch,action:l.createElement(c.Qj,{onClick:s},v("apiResources:tabs.scopes.emptySearch.viewAll")),imageSize:"tiny"}):null,transparent:0===(null==t?void 0:t.length)||0===(null==r?void 0:r.length),"data-testid":y,actions:[{"data-componentid":"".concat(y,"-item-copy-button"),icon:function(){return"copy"},onClick:function(e,t){R(e,t)},popupText:function(e){return(null==b?void 0:b.name)===e.name?v("apiResources:tabs.scopes.copiedPopupText"):v("apiResources:tabs.scopes.copyPopupText")},renderer:"semantic-icon"},{"data-componentid":"".concat(y,"-item-delete-button"),hidden:function(){return a},icon:function(){return"trash alternate"},onClick:function(e,t){E(t)},popupText:function(){return v("apiResources:tabs.scopes.removeScopePopupText")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){return l.createElement(p.Z,{as:"h6","data-testid":"".concat(y,"-permission-display-name")},l.createElement(p.Z.Content,null,e.displayName,l.createElement(p.Z.Subheader,null,l.createElement(f.Z,{size:"medium",className:"ml-0 mt-2"},l.createElement(f.Z.Detail,{className:"ml-0"},e.name)))))},title:v("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label"),width:3},{allowToggleVisibility:!1,dataIndex:"description",id:"description",key:"description",render:function(e){return l.createElement(p.Z,{as:"h6","data-testid":"".concat(y,"-description")},l.createElement(p.Z.Content,null,l.createElement(p.Z.Subheader,null,e.description)))},title:v("extensions:develop.apiResource.tabs.permissions.form.fields.description.label")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:v("extensions:develop.apiResource.tabs.permissions.form.fields.permission.label")}],data:r})};F.defaultProps={"data-componentid":"permission-list-api-resource"};var U=r(62953);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var H=function(e){var t=e.apiResourceData,r=e.isAPIResourceDataLoading,o=e.isSubmitting,i=e.isReadOnly,a=e.handleUpdateAPIResource,s=e.handleDeleteAPIScope,d=e["data-componentid"],p=(0,u.$)().t,f=G((0,l.useState)([]),2),h=f[0],y=f[1],v=G((0,l.useState)([]),2),g=v[0],b=v[1],w=G((0,l.useState)(null),2),E=w[0],R=w[1],A=G((0,C.cC)(),2),x=A[0],S=A[1],P=G((0,l.useState)(""),2),I=P[0],L=P[1];(0,l.useEffect)((function(){t&&(y(t.scopes),b(t.scopes))}),[t,E]);return l.createElement(l.Fragment,null,l.createElement(c.pJ,{className:"padded",loading:r},l.createElement(k.Z,{container:!0,className:"mb-1"},l.createElement(k.Z,{xs:8},l.createElement(c.X6,{as:"h4",compact:!0},p("apiResources:tabs.scopes.title")),l.createElement(c.X6,{as:"h6",color:"grey",subHeading:!0,className:"mb-5"},p("apiResources:tabs.scopes.subTitle"))),l.createElement(k.Z,{xs:4,alignItems:"flex-end"},0!==(null==h?void 0:h.length)&&!i&&l.createElement(c.KM,{"data-componentid":"".concat(d,"-add-permission-button"),size:"medium",floated:"right",onClick:function(){return S()}},l.createElement(m.Z,{name:"add"}),p("apiResources:tabs.scopes.button")))),l.createElement(c.PS,{showTopActionPanel:!r&&(null==h?void 0:h.length)>0,showPagination:!1,onPageChange:function(){return null},totalPages:100,"data-testid":"".concat(d,"-list-layout"),totalListSize:null==h?void 0:h.length,leftActionPanel:l.createElement("div",{className:"advanced-search-wrapper aligned-left fill-default"},l.createElement(j.Z,{className:"advanced-search with-add-on","data-testid":"".concat(d,"-list-search-input"),icon:"search",iconPosition:"left",onChange:function(e){var t=e.target.value;L(t),t.length>0?b(h.filter((function(e){return e.displayName.toLowerCase().includes(t.toLowerCase())}))):b(h)},placeholder:p("apiResources:tabs.scopes.search"),floated:"right",size:"small",value:I}))},h?l.createElement(F,{isAPIResourceDataLoading:r,isReadOnly:i,permissionList:h,serachedPermissionList:g,isSubmitting:o,clearSearchPermission:function(){L(""),b(h)},setRemovePermission:R,setTriggerAddAPIResourcePermissionModal:S}):l.createElement(c.$J,{subtitle:[p("extensions:develop.apiResource.apiResourceError.subtitles.0"),p("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:p("extensions:develop.apiResource.apiResourceError.title"),image:(0,n.jF)().genericError,imageSize:"tiny"}))),x&&l.createElement(U.m,{closeWizard:function(){return S()},handleUpdateAPIResource:a}),E&&l.createElement(c.cV,{primaryActionLoading:o,open:null!==E,onClose:function(){return R(null)},type:"negative",assertionHint:p("apiResources:confirmations.deleteAPIResourcePermission.assertionHint"),assertionType:"checkbox",primaryAction:p("common:confirm"),secondaryAction:p("common:cancel"),onSecondaryActionClick:function(){return R(null)},onPrimaryActionClick:function(){s(E.name,(function(){return R(null)}))},"data-testid":"".concat(d,"-delete-confirmation-modal"),closeOnDimmerClick:!1},l.createElement(c.cV.Header,{"data-testid":"".concat(d,"-delete-confirmation-modal-header")},p("apiResources:confirmations.deleteAPIResourcePermission.header")),l.createElement(c.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(d,"-delete-confirmation-modal-message")},p("apiResources:confirmations.deleteAPIResourcePermission.message")),l.createElement(c.cV.Content,{"data-testid":"".concat(d,"-delete-confirmation-modal-content")},p("apiResources:confirmations.deleteAPIResourcePermission.content"))))};function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}H.defaultProps={"data-componentid":"permission-api-resource"};var B=function(e){var t=e.featureConfig,r=e.isReadOnly,n=e.apiResourceData,o=e.isAPIResourceDataLoading,i=e.mutateAPIResource,p=(0,u.$)().t,f=(0,d.I0)(),m=q((0,l.useState)(!1),2),y=m[0],v=m[1],g=function(e,t){v(!0),(0,h.BZ)(n.id,e).then((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.success.description"),level:a.QU.SUCCESS,message:p("extensions:develop.apiResource.notifications.updateAPIResource.success.message")})),i()})).catch((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.description"),level:a.QU.ERROR,message:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.message")}))})).finally((function(){v(!1),t&&t()}))},b=function(e,t){v(!0),(0,h.j4)(n.id,e).then((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.success.description"),level:a.QU.SUCCESS,message:p("extensions:develop.apiResource.notifications.updateAPIResource.success.message")})),i()})).catch((function(){f((0,s.V_)({description:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.description"),level:a.QU.ERROR,message:p("extensions:develop.apiResource.notifications.updateAPIResource.genericError.message")}))})).finally((function(){v(!1),t&&t()}))};return l.createElement(c.M$,{isLoading:o,panes:[{menuItem:p("extensions:develop.apiResource.tabs.general.label"),render:function(){return l.createElement(c.M$.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(N,{apiResourceData:n,isAPIResourceDataLoading:o,featureConfig:t,isReadOnly:r,isSubmitting:y,handleUpdateAPIResource:g}))}},{menuItem:p("apiResources:tabs.scopes.label"),render:function(){return l.createElement(c.M$.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(H,{apiResourceData:n,isAPIResourceDataLoading:o,isSubmitting:y,isReadOnly:r,handleUpdateAPIResource:g,handleDeleteAPIScope:b}))}},{menuItem:p("extensions:develop.apiResource.tabs.authorization.label"),render:function(){return l.createElement(c.M$.Pane,{controlledSegmentation:!0,attached:!1},l.createElement(R,{apiResourceData:n,isAPIResourceDataLoading:o}))}}]})}},62953:(e,t,r)=>{r.d(t,{d:()=>ae,m:()=>fe});var n=r(40838),o=r(6833),i=r(82406),a=r(96334),s=r(43516),c=r(44194),l=r(10479),u=r(47245),d=r(47018),p=r(89141),f=r(26154),m=r(30382),h=r(59673),y=function(e){var t=e.triggerSubmission,r=e.initalRequiredAuthorizationValue,n=e.setRequiredAuthorization,o=e.submitCallback,i=e["data-componentid"],a=(0,l.$)().t,d=(0,s.fQ)().getLink,p=(0,u.v9)((function(e){return e.config.ui.productName}));return c.createElement(m.l0,{"data-testid":"".concat(i,"-form"),onSubmit:function(e){n(e.authorization),o&&o(e.authorization)},triggerSubmit:function(e){return t(e)},id:"apiResource-authorization",uncontrolledForm:!1},c.createElement(s.v0,{type:"info",content:c.createElement(c.Fragment,null,a("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.rbacMessage",{productName:p}),c.createElement(s.eb,{link:d("develop.apiResources.addAPIResource.rbacInfoBox.learnMore")},a("common:learnMore")))}),c.createElement(m.gN.Checkbox,{ariaLabel:"authorization",name:"authorization",label:a("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.fields.authorize.label"),tabIndex:3,hint:c.createElement(c.Fragment,null,c.createElement(h.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.authorization.form.fields.authorize.hint"},"If checked, it will be mandatory to add authorization when configuring the application to consume the API resource. ",c.createElement("b",null,"This field cannot be edited once created.")),c.createElement(s.eb,{link:d("develop.apiResources.addAPIResource.requiredAuthorization.learnMore")},a("common:learnMore"))),width:16,defaultValue:r,"data-componentid":"".concat(i,"-authorize")}))};y.defaultProps={"data-componentid":"add-api-resource-authorizaiton"};var v=r(43151),g=r(95241);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(){w=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:L(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function E(){}var R={};l(R,a,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(j([])));x&&x!==r&&n.call(x,a)&&(R=x);var S=E.prototype=v.prototype=Object.create(R);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==b(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=O(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function O(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,O(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(b(t)+" is not iterable")}return g.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:g,configurable:!0}),g.displayName=l(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},P(I.prototype),l(I.prototype,s,(function(){return this})),t.AsyncIterator=I,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new I(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(S),l(S,c,"Generator"),l(S,a,(function(){return this})),l(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function E(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var R=function(e){var t=e.triggerSubmission,r=e.initalBasicDetails,n=e.setBasicDetails,o=e.submitCallback,i=e.isIdentifierValidationLoading,d=e.setIdentifierValidationLoading,f=e["data-componentid"],m=(0,l.$)().t,y=(0,c.useRef)(),b=(0,u.v9)((function(e){return e.config.ui.productName}));return c.createElement(a.Es,{"data-testid":"".concat(f,"-form"),onSubmit:function(e){n({displayName:e.get("displayName").toString(),identifier:e.get("identifier").toString()}),o&&o()},submitState:t},c.createElement(p.Z,null,c.createElement(p.Z.Row,{columns:1},c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{ref:y,type:"text",name:"identifier",label:m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.label"),placeholder:m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.placeholder"),requiredErrorMessage:m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.emptyValidate"),required:!0,tabIndex:1,value:r&&r.identifier,validation:function(){var e,t=(e=w().mark((function e(t,r){var n,o,i;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),g.KG.checkValidPermissionIdentifier(t)){e.next=6;break}r.isValid=!1,r.errorMessages.push(m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.invalid")),e.next=19;break;case 6:return n="identifier eq "+t,e.prev=7,e.next=10,(0,v.J4)(n);case 10:(null==(i=e.sent)||null===(o=i.apiResources)||void 0===o?void 0:o.length)>0&&(r.isValid=!1,r.errorMessages.push(m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.alreadyExistsError"))),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(7),r.isValid=!1,r.errorMessages.push(m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.errorOccurred")),d(!1);case 19:d(!1);case 20:case"end":return e.stop()}}),e,null,[[7,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){E(i,n,o,a,s,"next",e)}function s(e){E(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),"data-testid":"".concat(f,"-basic-form-identifier"),loading:i}),c.createElement(s.kW,{className:"mb-0"},c.createElement(h.c,{i18nKey:"extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.identifier.hint",tOptions:{productName:b}},"We recommend using a URI as the identifier, but you do not need to make the URI publicly available since WSO2 Identity Server will not access your API. WSO2 Identity Server will use this identifier value as the audience(aud) claim in the issued JWT tokens. ",c.createElement("b",null,"This field should be unique; once created, it is not editable."))))),c.createElement(p.Z.Row,{columns:1},c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"displayName",label:m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.label"),placeholder:m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.placeholder"),required:!0,tabIndex:2,requiredErrorMessage:m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.emptyValidate"),value:null==r?void 0:r.displayName,"data-testid":"".concat(f,"-basic-form-displayName")}),c.createElement(s.kW,{className:"mb-0"},m("extensions:develop.apiResource.wizard.addApiResource.steps.basic.form.fields.name.hint",{productName:b}))))))};R.defaultProps={"data-componentid":"add-api-resource-basic"};var A=r(12638),x=r(37077),S=r(62508);function P(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var N=function(e){var t=e.addedPermissions,r=e.updatePermissions,n=e["data-componentid"],o=(0,l.$)().t,i=I((0,c.useState)(null),2),a=i[0],u=i[1];(0,c.useEffect)((function(){u(P(t.values()).reverse())}),[t]);var d=function(e){r(e,"delete")};return c.createElement(s.wQ,{className:"oidc-scopes-table",columnCount:3,loadingStateOptions:{count:10,imageType:"square"},onRowClick:function(){return null},showHeader:!1,placeholders:0===(null==a?void 0:a.length)?c.createElement(c.Fragment,null,c.createElement(S.Z,{className:"mb-1",hidden:!0}),c.createElement(s.$J,{subtitle:[o("apiResources:tabs.scopes.empty.title")]}),c.createElement(S.Z,{className:"mt-1",hidden:!0})):null,transparent:0===(null==a?void 0:a.length),"data-testid":n,actions:[{icon:function(){return"trash alternate"},onClick:function(e,t){d(t)},popupText:function(){return o("apiResources:tabs.scopes.removeScopePopupText")},renderer:"semantic-icon"}],columns:[{allowToggleVisibility:!1,dataIndex:"displayName",id:"displayName",key:"displayName",render:function(e){return c.createElement(A.Z,{as:"h6","data-testid":"".concat(n,"-permission-display-name")},c.createElement(A.Z.Content,null,e.displayName,c.createElement(A.Z.Subheader,null,c.createElement(x.Z,{size:"medium",className:"ml-0 mt-2"},e.name))))},title:o("apiResources:tabs.scopes.form.fields.permission.label")},{allowToggleVisibility:!1,dataIndex:"description",id:"description",key:"description",render:function(e){return c.createElement(A.Z,{as:"h6","data-testid":"".concat(n,"-description")},c.createElement(A.Z.Content,null,c.createElement(A.Z.Subheader,null,e.description)))},title:o("apiResources:tabs.scopes.form.fields.description.label")},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:o("apiResources:tabs.scopes.form.fields.permission.label"),width:1}],data:a})};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function C(){C=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new N(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(j([])));R&&R!==r&&n.call(R,a)&&(w=R);var A=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==k(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(k(t)+" is not iterable")}return g.prototype=b,o(A,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},x(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function j(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}N.defaultProps={"data-componentid":"permission-list-api-resource"};var Z="apiResource-general-details",_=function(e){var t=e.isPermissionValidationLoading,r=e.addedPermissions,n=e.triggerAddPermission,o=e.setAddPermission,i=e.updatePermissions,u=e.setLatestPermissionFormValues,d=e.setPermissionValidationLoading,f=e["data-componentid"],m=(0,l.$)().t,y=z((0,a.cC)(),2),b=y[0],w=y[1];return c.createElement(a.Es,{"data-testid":"".concat(f,"-form"),onSubmit:function(e){var t={description:e.get("description").toString(),displayName:e.get("displayName").toString(),name:e.get("identifier").toString()};i(t,"set"),u(void 0),w()},id:Z,submitState:n,uncontrolledForm:!1,resetState:b,onChange:function(e,t){return u(t)}},c.createElement(p.Z,null,c.createElement(p.Z.Row,{columns:2,padded:"vertically"},c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(a.gN,{type:"text",name:"identifier",label:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.label"),placeholder:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.placeholder"),requiredErrorMessage:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.emptyValidate"),loading:t,validation:function(){var e,t=(e=C().mark((function e(t,n){var o,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),!t){e.next=26;break}if(g.KG.checkValidPermissionIdentifier(t)){e.next=7;break}n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.invalid")),e.next=25;break;case 7:if(!r.has(t)){e.next=12;break}n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.uniqueValidate")),e.next=25;break;case 12:return o="name eq "+t,e.prev=13,e.next=16,(0,v.dH)(o);case 16:(null==(i=e.sent)?void 0:i.length)>0&&(n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.uniqueValidate"))),e.next=25;break;case 20:e.prev=20,e.t0=e.catch(13),n.isValid=!1,n.errorMessages.push(m("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.errorOccurred")),d(!1);case 25:d(!1);case 26:case"end":return e.stop()}}),e,null,[[13,20]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){j(i,n,o,a,s,"next",e)}function s(e){j(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),required:!0,tabIndex:1,"data-testid":"".concat(f,"-identifier")}),c.createElement(s.kW,null,c.createElement(h.c,{i18nKey:"apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.hint"},"A unique value that acts as the scope when requesting an access token.",c.createElement("b",null,"Note that the permission cannot be modified once created.")))),c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:8},c.createElement(a.gN,{type:"text",name:"displayName",label:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.label"),placeholder:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.placeholder"),requiredErrorMessage:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.emptyValidate"),required:!0,tabIndex:2,"data-testid":"".concat(f,"-displayName")}),c.createElement(s.kW,null,m("apiResources:wizard.addApiResource.steps.scopes.form.fields.displayName.hint")))),c.createElement(p.Z.Row,{columns:1,className:"pt-0 pb-0"},c.createElement(p.Z.Column,{width:16},c.createElement(a.gN,{type:"textarea",name:"description",label:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.label"),placeholder:m("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.placeholder"),tabIndex:3,maxLength:300,minLength:3,"data-testid":"".concat(f,"-description")}),c.createElement(s.kW,null,m("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.hint")))),c.createElement(p.Z.Row,{columns:1},c.createElement(p.Z.Column,{width:16,textAlign:"right"},c.createElement(a.gN,{type:"button",form:Z,size:"small",tabIndex:4,buttonType:"primary_btn",name:"submit-button",icon:"add",value:m("apiResources:wizard.addApiResource.steps.scopes.form.button"),loading:t,"data-testid":"".concat(f,"-add-permission-btn"),onClick:o})))))};function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}_.defaultProps={"data-componentid":"permission-mapping-list-item"};var F,U,G,D=function(e){var t=e.initialPermissions,r=e.triggerAddPermission,n=e.isPermissionValidationLoading,o=e.setAddPermission,i=e.setPermissionsList,a=e.setLatestPermissionFormValues,u=e.setPermissionValidationLoading,d=(0,l.$)().t,f=V((0,c.useState)(t||new Map),2),m=f[0],h=f[1];(0,c.useEffect)((function(){i(m)}),[m]);var y=function(e,t){var r=new Map(m);switch(t){case"set":r.set(e.name,e);break;case"delete":r.delete(e.name)}h(r)};return c.createElement(p.Z,null,c.createElement(p.Z.Row,{columns:1},c.createElement(p.Z.Column,{width:16},c.createElement(s.pJ,{className:"mb-4"},c.createElement(_,{addedPermissions:m,updatePermissions:y,triggerAddPermission:r,setAddPermission:o,setLatestPermissionFormValues:a,isPermissionValidationLoading:n,setPermissionValidationLoading:u}))),c.createElement(p.Z.Column,{width:16},c.createElement(c.Fragment,null,c.createElement(A.Z,{as:"h5",className:"bold-text mb-2"},d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permissionList.label")),c.createElement(s.pJ,{className:"mt-0"},c.createElement(N,{addedPermissions:m,updatePermissions:y}))))))},H=["title","titleId"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(null,arguments)}var $=function(e,t){var r=e.title,n=e.titleId,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,H);return c.createElement("svg",q({id:"account-policy-icon",xmlns:"http://www.w3.org/2000/svg",className:"icon",width:14,height:14,viewBox:"0 0 16.782 19.097",ref:t,"aria-labelledby":n},o),r?c.createElement("title",{id:n},r):null,F||(F=c.createElement("path",{id:"Path_233",className:"path",d:"M89.988,127.019a5.035,5.035,0,1,0,5.035-5.035A5.041,5.041,0,0,0,89.988,127.019Zm3.357,3.538v-.181a1.678,1.678,0,1,1,3.356,0v.181a3.911,3.911,0,0,1-3.356,0Zm5.594-3.538a3.9,3.9,0,0,1-1.176,2.794,2.8,2.8,0,0,0-5.481,0,3.915,3.915,0,1,1,6.656-2.794Zm0,0",transform:"translate(-86.632 -117.435)",fill:"#464646"})),U||(U=c.createElement("path",{id:"Path_234",className:"path",d:"M183.337,183.655a1.678,1.678,0,1,0-1.678,1.678A1.68,1.68,0,0,0,183.337,183.655Zm-1.678.559a.559.559,0,1,1,.559-.559A.56.56,0,0,1,181.659,184.214Zm0,0",transform:"translate(-173.267 -175.189)",fill:"#464646"})),G||(G=c.createElement("path",{id:"Path_235",className:"path",d:"M8.391,0,0,3.623V6.658A13.431,13.431,0,0,0,8.171,19l.22.094L8.612,19A13.431,13.431,0,0,0,16.782,6.658V3.623Zm7.272,6.658A12.311,12.311,0,0,1,8.391,17.877,12.311,12.311,0,0,1,1.119,6.658v-2.3l7.272-3.14,7.272,3.14Zm0,0",fill:"#464646"})))},B=(0,c.forwardRef)($);r.p;var Q,W=r(51080),K=["title","titleId"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(null,arguments)}var Y=function(e,t){var r=e.title,n=e.titleId,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,K);return c.createElement("svg",J({id:"key-icon",className:"icon",xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 14 14",style:{enableBackground:"new 0 0 14 14"},xmlSpace:"preserve",ref:t,"aria-labelledby":n},o),r?c.createElement("title",{id:n},r):null,Q||(Q=c.createElement("path",{className:"path fill primary",d:"M.292,14A.292.292,0,0,1,0,13.708V11.375a.291.291,0,0,1,.086-.206l1.081-1.082V9.625a.292.292,0,0,1,.292-.292h.463l.413-.412V8.458a.292.292,0,0,1,.292-.292h.463L3.5,7.754V7.292A.292.292,0,0,1,3.792,7h.463l.292-.292-.377-.377a.291.291,0,0,1,.076-.467L4.766,5.6a4.606,4.606,0,0,1-.1-.937A4.667,4.667,0,1,1,8.4,9.234l-.26.521a.292.292,0,0,1-.467.076l-.377-.377-4.46,4.46A.3.3,0,0,1,2.625,14ZM1.75,10.209a.294.294,0,0,1-.085.206L.583,11.5v1.921H2.5L7.086,8.835a.292.292,0,0,1,.412,0l.3.3.183-.365a.292.292,0,0,1,.334-.152A4.081,4.081,0,1,0,5.25,4.667a4.116,4.116,0,0,0,.135,1.022.293.293,0,0,1-.152.334L4.867,6.2l.3.3a.291.291,0,0,1,0,.412L4.581,7.5a.291.291,0,0,1-.206.086H4.083v.292A.291.291,0,0,1,4,8.081l-.583.583a.291.291,0,0,1-.206.086H2.917v.292a.289.289,0,0,1-.086.206l-.583.584a.294.294,0,0,1-.206.085H1.75Zm.086,1.956a.292.292,0,0,1,0-.412L5.918,7.669a.291.291,0,0,1,.412.412L2.247,12.164a.291.291,0,0,1-.412,0Zm7.5-8.956a1.458,1.458,0,1,1,1.458,1.458A1.46,1.46,0,0,1,9.333,3.209Zm.583,0a.875.875,0,1,0,.875-.875A.876.876,0,0,0,9.916,3.209Z"})))},X=(0,c.forwardRef)(Y);r.p;var ee=function(){return{authorize:B,general:W.r,permissions:X}},te=function(e){return e.BASIC_DETAILS="BasicDetails",e.AUTHORIZATION="Authorization",e.PERMISSIONS="Permission",e}({});function re(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||oe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ae=function(e){var t,r=e.closeWizard,m=e.currentStep,h=e.lastStepFormType,b=e["data-componentid"],w=(0,l.$)().t,E=(0,u.I0)(),A=ne((0,a.cC)(),2),x=A[0],S=A[1],P=ne((0,a.cC)(),2),I=P[0],L=P[1],O=ne((0,c.useState)(!1),2),N=O[0],k=O[1],C=ne((0,c.useState)(void 0),2),j=C[0],z=C[1],T=ne((0,c.useState)(void 0),2),Z=T[0],_=T[1],V=ne((0,c.useState)(!0),2),M=V[0],F=V[1],U=ne((0,c.useState)(new Map),2),G=U[0],H=U[1],q=ne((0,c.useState)(m),2),$=q[0],B=q[1],Q=ne((0,c.useState)(te.BASIC_DETAILS),2),W=Q[0],K=Q[1],J=ne((0,c.useState)(!1),2),Y=J[0],X=J[1],oe=ne((0,c.useState)(!1),2),ie=oe[0],ae=oe[1],se=function(){switch(W){case te.BASIC_DETAILS:S();break;case te.PERMISSIONS:var e,r;(null==j||null===(e=j.get("displayName"))||void 0===e?void 0:e.toString().trim())!==(null==j||null===(r=j.get("identifier"))||void 0===r?void 0:r.toString().trim())&&L(),ce();break;case te.AUTHORIZATION:t()}},ce=function(){var e=$+1;B(e),K(le[e].addAPIResourceWizardStepsFormType)},le=[{addAPIResourceWizardStepsFormType:te.BASIC_DETAILS,content:c.createElement(R,{initalBasicDetails:Z,setBasicDetails:_,triggerSubmission:x,submitCallback:ce,isIdentifierValidationLoading:Y,setIdentifierValidationLoading:X}),icon:ee().general,title:w("extensions:develop.apiResource.wizard.addApiResource.steps.basic.stepTitle")},{addAPIResourceWizardStepsFormType:te.PERMISSIONS,content:c.createElement(D,{setPermissionsList:H,initialPermissions:G,triggerAddPermission:I,setAddPermission:L,setLatestPermissionFormValues:z,isPermissionValidationLoading:ie,setPermissionValidationLoading:ae}),icon:ee().permissions,title:w("apiResources:wizard.addApiResource.steps.scopes.stepTitle")},{addAPIResourceWizardStepsFormType:te.AUTHORIZATION,content:c.createElement(y,{triggerSubmission:function(e){t=e},initalRequiredAuthorizationValue:M,setRequiredAuthorization:F,submitCallback:function(e){k(!0);var t={identifier:Z.identifier,name:Z.displayName,requiresAuthorization:e,scopes:re(G.values())};(0,v.tI)(t).then((function(e){E((0,i.V_)({description:w("extensions:develop.apiResource.notifications.addAPIResource.success.description"),level:o.QU.SUCCESS,message:w("extensions:develop.apiResource.notifications.addAPIResource.success.message")})),n.m.push(g.KG.getPaths().get("API_RESOURCE_EDIT").replace(":id",e.id))})).catch((function(){E((0,i.V_)({description:w("extensions:develop.apiResource.notifications.addAPIResource.genericError.description"),level:o.QU.ERROR,message:w("extensions:develop.apiResource.notifications.addAPIResource.genericError.message")}))})).finally((function(){k(!1),r()}))}}),icon:ee().authorize,title:w("extensions:develop.apiResource.wizard.addApiResource.steps.authorization.stepTitle")}];return c.createElement(d.Z,{"data-testid":b,open:!0,className:"wizard api-resource-create-wizard",dimmer:"blurring",onClose:r,closeOnDimmerClick:!1,closeOnEscape:!0},c.createElement(d.Z.Header,{className:"wizard-header"},w("extensions:develop.apiResource.wizard.addApiResource.title"),c.createElement(s.X6,{as:"h6"},w("extensions:develop.apiResource.wizard.addApiResource.subtitle"))),c.createElement(d.Z.Content,{scrolling:!0,className:"steps-container"},c.createElement(s.Rg.Group,{current:$},le.map((function(e){return c.createElement(s.Rg.Step,{key:e.title,icon:e.icon,title:e.title})})))),c.createElement(d.Z.Content,{className:"content-container",scrolling:!0},le[$].content),c.createElement(d.Z.Actions,null,c.createElement(p.Z,null,c.createElement(p.Z.Row,{column:1},c.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{tabIndex:6,"data-testid":"".concat(b,"-cancel-button"),floated:"left",onClick:function(){return r()}},w("extensions:develop.apiResource.wizard.addApiResource.cancelButton"))),c.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},W!==h&&c.createElement(s.KM,{tabIndex:7,"data-testid":"".concat(b,"-next-button"),floated:"right",onClick:function(){return se()},loading:Y,disabled:Y},w("extensions:develop.apiResource.wizard.addApiResource.nextButton"),c.createElement(f.Z,{name:"arrow right"})),W===h&&c.createElement(s.KM,{tabIndex:8,"data-testid":"".concat(b,"-finish-button"),floated:"right",onClick:function(){return se()},loading:N||ie},w("extensions:develop.apiResource.wizard.addApiResource.submitButton")),$>0&&c.createElement(s.Qj,{tabIndex:9,"data-testid":"".concat(b,"-previous-button"),floated:"right",onClick:function(){return B(e=$-1),void K(le[e].addAPIResourceWizardStepsFormType);var e},loading:N},c.createElement(f.Z,{name:"arrow left"}),w("extensions:develop.apiResource.wizard.addApiResource.previousButton")))))))};function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function ce(){ce=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new N(n||[]);return o(a,"_invoke",{value:P(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",h="completed",y={};function v(){}function g(){}function b(){}var w={};l(w,a,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(k([])));R&&R!==r&&n.call(R,a)&&(w=R);var A=b.prototype=v.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==se(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,r,n){var o=p;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=I(s,n);if(c){if(c===y)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?h:f,l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=h,n.method="throw",n.arg=l.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function k(t){if(t||""===t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(se(t)+" is not iterable")}return g.prototype=b,o(A,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},x(S.prototype),l(S.prototype,s,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(u(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(A),l(A,c,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=k,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return s.type="throw",s.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:k(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function le(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}ae.defaultProps={currentStep:0,"data-componentid":"add-api-resource",lastStepFormType:te.AUTHORIZATION};var ue=function(e){var t=e.permissionValidationLoading,r=e.triggerAddPermission,n=e.addPermission,o=e.setIsSubmitting,i=e.setPermissionValidationLoading,u=e["data-componentid"],d=(0,l.$)().t;return c.createElement(a.Es,{"data-componentid":"".concat(u,"-form"),onSubmit:function(e){var t={description:e.get("description").toString(),displayName:e.get("displayName").toString(),name:e.get("identifier").toString()};o(!0),n(t)},id:"apiResource-general-details",submitState:r,uncontrolledForm:!1},c.createElement(p.Z,null,c.createElement(p.Z.Row,{columns:1},c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"identifier",label:d("apiResources:tabs.scopes.form.fields.scope.label"),placeholder:d("apiResources:tabs.scopes.form.fields.scope.placeholder"),required:!0,tabIndex:1,requiredErrorMessage:d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.emptyValidate"),validation:function(){var e,t=(e=ce().mark((function e(t,r){var n,o;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),!t){e.next=20;break}if(g.KG.checkValidPermissionIdentifier(t)){e.next=7;break}r.isValid=!1,r.errorMessages.push(d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.invalid")),e.next=20;break;case 7:return n="name eq "+t,e.prev=8,e.next=11,(0,v.dH)(n);case 11:(null==(o=e.sent)?void 0:o.length)>0&&(r.isValid=!1,r.errorMessages.push(d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.uniqueValidate"))),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(8),r.isValid=!1,r.errorMessages.push(d("apiResources:wizard.addApiResource.steps.scopes.form.fields.permission.errorOccurred")),i(!1);case 20:i(!1);case 21:case"end":return e.stop()}}),e,null,[[8,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){le(i,n,o,a,s,"next",e)}function s(e){le(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),"data-testid":"".concat(u,"-identifier"),loading:t}),c.createElement(s.kW,null,c.createElement(h.c,{i18nKey:"apiResources:wizard.addApiResource.steps.scopes.form.fields.scope.hint"},"A unique value that acts as the scope when requesting an access token.\xa0",c.createElement("b",null,"Note that the scope cannot be modified once created."))))),c.createElement(p.Z.Row,{columns:1},c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"displayName",label:d("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.label"),placeholder:d("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.placeholder"),required:!0,tabIndex:2,requiredErrorMessage:d("extensions:develop.apiResource.tabs.permissions.form.fields.displayName.emptyValidate"),"data-testid":"".concat(u,"-displayName")}),c.createElement(s.kW,null,d("extensions:develop.apiResource.wizard.addApiResource.steps.permissions.form.fields.displayName.hint")))),c.createElement(p.Z.Row,{columns:1},c.createElement(p.Z.Column,{mobile:16,tablet:16,computer:12},c.createElement(a.gN,{type:"text",name:"description",label:d("apiResources:tabs.scopes.form.fields.description.label"),placeholder:d("apiResources:tabs.scopes.form.fields.description.placeholder"),tabIndex:3,"data-testid":"".concat(u,"-description")}),c.createElement(s.kW,null,d("apiResources:wizard.addApiResource.steps.scopes.form.fields.description.hint"))))))};function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}ue.defaultProps={"data-componentid":"add-api-resource-permission-form"};var fe=function(e){var t=e.closeWizard,r=e.handleUpdateAPIResource,n=e["data-componentid"],o=(0,l.$)().t,i=de((0,a.cC)(),2),u=i[0],f=i[1],m=de((0,c.useState)(!1),2),h=m[0],y=m[1],v=de((0,c.useState)(!1),2),g=v[0],b=v[1];return c.createElement(d.Z,{"data-testid":n,open:!0,className:"wizard api-resource-permission-create-wizard",dimmer:"blurring",size:"small",onClose:t,closeOnDimmerClick:!1,closeOnEscape:!0},c.createElement(d.Z.Header,{className:"wizard-header"},o("apiResources:tabs.scopes.form.title"),c.createElement(s.X6,{as:"h6"},o("apiResources:tabs.scopes.form.subTitle"))),c.createElement(d.Z.Content,{className:"content-container"},c.createElement(ue,{triggerAddPermission:u,addPermission:function(e){r({addedScopes:[e]},(function(){t(),y(!1)}))},setIsSubmitting:y,permissionValidationLoading:g,setPermissionValidationLoading:b})),c.createElement(d.Z.Actions,null,c.createElement(p.Z,null,c.createElement(p.Z.Row,{column:1},c.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.Qj,{"data-testid":"".concat(n,"-cancel-button"),floated:"left",onClick:function(){return t()}},o("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(p.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(s.KM,{"data-testid":"".concat(n,"-finish-button"),floated:"right",onClick:function(){return f()},loading:h},o("apiResources:tabs.scopes.form.submitButton")))))))};fe.defaultProps={"data-componentid":"add-api-resource-permission"}}}]);