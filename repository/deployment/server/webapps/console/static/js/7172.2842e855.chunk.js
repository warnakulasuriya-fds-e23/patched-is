"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[7172],{27743:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oa});var i=n(88248),a=n(30325),o=n(84882),l=n(46461),r=n(49748),c=n(63068),s=n(93139),u=n(11192),d=n(89497),p=n(55007),m=n(41444),f=n(80893),v=n(51924),g=n(14092),b=n(60486),h=n(40838),E=n(51472),y=n(5545),A=n(57095),C=n(86105),S=n(6833),I=n(82406),O=n(96334),R=n(43516),w=n(22557),P=n.n(w),T=n(47513),N=n(50699),Z=n(44194),U=n(10479),L=n(59673),_=n(47245),j=n(37077),k=n(26154),D=n(6567),M=n(39709),x=n(90236),F=n(48773),V=n(94071),H=n(28676),z=n(83230),q=n(18237),G=n(73502),B=n(51314),W=n(2e4),$=n(19731),Q=n(37559),K=n(12993);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=X(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){var t=e.tab,n=e.application,i=e.protocolName,a=e.inboundProtocolConfigurations,o=e.isLoading,l=e.onUpdate,r=e.onProtocolUpdate,c=e.readOnly,s=e["data-componentid"],u=void 0===s?"application-edit-form":s,d=(0,K.Z)().customValidations,p=(0,$.Z)().customInitializers,m=(0,Q.Z)().customSubmissionHandlers,f=(0,W.Z)(),v=f.template,g=f.isTemplateRequestLoading,b=(0,U.$)().t,h=(0,_.I0)(),E=(0,Z.useMemo)((function(){if(!a||!n||!i)return null;var e=(0,T.Z)(n),t=i;return F.AI.WS_FEDERATION===t?t=B.z.APPLICATION_INBOUND_PROTOCOL_KEYS[G.RE.WS_FEDERATION]:F.AI.WS_TRUST===t&&(t=B.z.APPLICATION_INBOUND_PROTOCOL_KEYS[G.RE.WS_TRUST]),F.AI.SAML===t?e.inboundProtocolConfiguration=Y({},t,{manualConfiguration:a}):e.inboundProtocolConfiguration=Y({},t,a),e}),[a,n]);return Z.createElement(V.h,{customValidations:d,customInitializers:p,customSubmissionHandlers:m,form:null==t?void 0:t.form,initialFormValues:E,templatePayload:null==v?void 0:v.payload,buttonText:b("common:update"),onFormSubmit:function(e,o){var c,s,u,d=i;F.AI.WS_FEDERATION===d?d=B.z.APPLICATION_INBOUND_PROTOCOL_KEYS[G.RE.WS_FEDERATION]:F.AI.WS_TRUST===d&&(d=B.z.APPLICATION_INBOUND_PROTOCOL_KEYS[G.RE.WS_TRUST]);var p,m,f=null==t||null===(c=t.form)||void 0===c||null===(c=c.fields)||void 0===c?void 0:c.map((function(e){return null==e?void 0:e.name}));if(null!=e&&null!==(s=e.inboundProtocolConfiguration)&&void 0!==s&&s[d]){var v,g,E,y,A,C;if(F.AI.SAML===d)if(null!=e&&null!==(v=e.inboundProtocolConfiguration)&&void 0!==v&&null!==(v=v[d])&&void 0!==v&&v.manualConfiguration){if(!(0,H.Z)(null==e||null===(g=e.inboundProtocolConfiguration)||void 0===g||null===(g=g[d])||void 0===g?void 0:g.manualConfiguration,a))p=null==e||null===(E=e.inboundProtocolConfiguration)||void 0===E?void 0:E[d]}else p=null==e||null===(y=e.inboundProtocolConfiguration)||void 0===y?void 0:y[d];else if(!(0,H.Z)(null==e||null===(A=e.inboundProtocolConfiguration)||void 0===A?void 0:A[d],a))p=null==e||null===(C=e.inboundProtocolConfiguration)||void 0===C?void 0:C[d];(0,q.Z)(e,"inboundProtocolConfiguration")}e.id=null==n?void 0:n.id,(0,H.Z)(e,n)||(f.push("id"),m=(0,z.Z)(e,f));var O=function(){(0,D.lp)(null==n?void 0:n.id,p,i).then((function(){r(),h((0,I.V_)({description:b("applications:notifications.updateApplication.success.description"),level:S.QU.SUCCESS,message:b("applications:notifications.updateApplication.success.message")}))})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?h((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:b("applications:notifications.updateInboundProtocolConfig.error.message")})):h((0,I.V_)({description:b("applications:notifications.updateInboundProtocolConfig.genericError.description"),level:S.QU.ERROR,message:b("applications:notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){return o()}))};m&&(null===(u=Object.keys(m))||void 0===u?void 0:u.length)>0?(0,D.hN)(m).then((function(){l(null==n?void 0:n.id),p?O():(o(),h((0,I.V_)({description:b("applications:notifications.updateApplication.success.description"),level:S.QU.SUCCESS,message:b("applications:notifications.updateApplication.success.message")})))})).catch((function(e){var t;o(),null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?h((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:b("applications:notifications.updateApplication.error.message")})):h((0,I.V_)({description:b("applications:notifications.updateApplication.genericError.description"),level:S.QU.ERROR,message:b("applications:notifications.updateApplication.genericError.message")}))})):p&&O()},isLoading:o||g,readOnly:c,"data-componentid":u})},ee=n(95125),te=n(2446),ne=function(e){var t=e.application,n=e.inboundProtocolConfigurations,i=e.content,a=e.isLoading,o=e.protocolName,l=e["data-componentid"],r=void 0===l?"application-markdown-guide":l,c=(0,_.v9)((function(e){var t;return null==e||null===(t=e.application)||void 0===t?void 0:t.samlConfigurations})),s=(0,_.v9)((function(e){var t;return null==e||null===(t=e.application)||void 0===t?void 0:t.oidcConfigurations})),u=(0,_.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.tenantDomain})),d=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.clientOrigin})),p=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.idpConfigs)||void 0===t?void 0:t.serverOrigin})),m=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName})),f=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.accountApp)||void 0===t?void 0:t.tenantQualifiedPath}));var v=function(){var e,t,n,i={};return null!=c&&c.certificate&&(i.pemCertificate=btoa((e=null==c?void 0:c.certificate,n=(null===(t=e.match(new RegExp(".{1,64}","g")))||void 0===t?void 0:t.join("\n"))||"","".concat("-----BEGIN CERTIFICATE-----","\n").concat(n,"\n").concat("-----END CERTIFICATE-----")))),i},g=(0,Z.useMemo)((function(){if(!(t&&n&&c&&s&&u&&d&&p))return null;var e=o;F.AI.WS_FEDERATION===e?e=B.z.APPLICATION_INBOUND_PROTOCOL_KEYS[G.RE.WS_FEDERATION]:F.AI.WS_TRUST===e&&(e=B.z.APPLICATION_INBOUND_PROTOCOL_KEYS[G.RE.WS_TRUST]);var i={};return i.general=t,(0,te.Z)(i,"protocol.".concat(e),n),(0,te.Z)(i,"metadata.saml",c),(0,te.Z)(i,"metadata.oidc",c),i.tenantDomain=u,i.clientOrigin=d,i.serverOrigin=p,i.productName=m,i.accountAppURL=f,i.moderatedData=v(),i}),[t,n,c,s,u,d,p]);return Z.createElement(ee.P,{data:g,content:i,isLoading:a,"data-componentid":r})},ie=n(62415),ae=n(32358),oe=n(28077),le=n(5262),re=n(917),ce=n(43974),se=n(51021),ue=n(80883),de=n(87029),pe=n(21257),me=n(76004),fe=n.n(me),ve=n(62508),ge=n(71551),be=n(77757),he=n(89141),Ee=n(16662);const ye=function(e){var t=e["data-componentid"],n=void 0===t?"my-account-overview":t,i=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.accountApp)||void 0===t?void 0:t.tenantQualifiedPath})),a=(0,U.$)().t,o=(0,R.fQ)().getLink;return Z.createElement(R.pJ,{padded:"very"},Z.createElement("div",{"data-componentid":n,className:"form-container"},Z.createElement(R.X6,{"data-componentid":n,bold:!0,as:"h4"},a("applications:myaccount.overview.heading")),Z.createElement(R.xv,null,a("applications:myaccount.overview.contentIntro"),Z.createElement(R.eb,{link:o("develop.applications.myaccount.overview.learnMore")},Z.createElement(L.c,{i18nKey:"common:learnMore"},"Learn More"))),Z.createElement(R.xv,null,Z.createElement(L.c,{i18nKey:"applications:myaccount.overview.contentDescription"},"You can configure the login flow of the My Account, apply custom",Z.createElement(R.rU,{external:!1,onClick:function(){h.m.push(b.$.getPaths().get("BRANDING"))}}," Branding configurations"),"and share access to it with B2B organizations.")),Z.createElement(r.Z,{container:!0,alignItems:"center"},Z.createElement(r.Z,{xs:6},Z.createElement(R.X6,{as:"h6",compact:!0},a("applications:myaccount.overview.shareApplication"))),Z.createElement(R.GI,{trigger:Z.createElement(r.Z,{xs:6,className:"pr-0"},Z.createElement(R.OR,{value:i,"data-componentid":"application-consumer-account-link-copy-field"})),content:a("applications:myaccount.popup"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0}))))};var Ae=n(70393),Ce=n(1989),Se=n(30382),Ie=n(9821),Oe=n(55813),Re=n(51835),we=n.n(Re),Pe=n(27975),Te=n.n(Pe),Ne=n(55900),Ze=n.n(Ne),Ue=n(21555),Le=n.n(Ue),_e=n(3621),je=n.n(_e),ke=n(5062),De=n.n(ke),Me=n(95863),xe={};xe.styleTagTransform=De(),xe.setAttributes=Le(),xe.insert=Ze().bind(null,"head"),xe.domAPI=Te(),xe.insertStyleElement=je();we()(Me.Z,xe);Me.Z&&Me.Z.locals&&Me.Z.locals;function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var He="application-advanced-configuration-form",ze=function(e){var t,n,a,o,l,r,c,s,u,d,p,m,f,v,g,b,h,E,y=e.config,A=e.onSubmit,I=e.readOnly,O=e.template,w=e.isSubmitting,P=e.onAlertFired,T=e["data-testid"],j=e["data-componentid"],k=(0,U.$)().t,D=(0,re.Z)().UIConfig,M=(0,R.fQ)().getLink,x=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),F=(0,C.cr)(null==x?void 0:x.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_NATIVE_AUTHENTICATION")),V=(0,C.cr)(null==x?void 0:x.applications,Ie.j.FEATURE_DICTIONARY.get("TRUSTED_APPS")),H=(0,Z.useRef)(null),z=Fe((0,Z.useState)(null==y?void 0:y.enableAPIBasedAuthentication),2),q=z[0],G=z[1],B=Fe((0,Z.useState)(null==y||null===(t=y.attestationMetaData)||void 0===t?void 0:t.enableClientAttestation),2),W=B[0],$=B[1],Q=Fe((0,Z.useState)(!1),2),K=Q[0],X=Q[1],Y=Fe((0,Z.useState)(null==y||null===(n=y.trustedAppConfiguration)||void 0===n?void 0:n.isFIDOTrustedApp),2),J=Y[0],ee=Y[1],te=Fe((0,Z.useState)(null==y||null===(a=y.trustedAppConfiguration)||void 0===a?void 0:a.isConsentGranted),2),ne=te[0],ie=te[1],ae=Fe((0,Z.useState)(!1),2),oe=ae[0],le=ae[1],ce=Fe((0,Z.useState)(!1),2),ue=ce[0],de=ce[1],pe=Fe((0,Z.useState)(!1),2),me=pe[0],fe=pe[1],ge=Fe((0,Z.useState)(null==y||null===(o=y.trustedAppConfiguration)||void 0===o||null===(o=o.androidThumbprints)||void 0===o?void 0:o.join(",")),2),be=ge[0],Ee=ge[1],ye=function(e){var t;try{(0,N.Z)(e.androidAttestationServiceCredentials)||(t=JSON.parse(e.androidAttestationServiceCredentials))}catch(a){return void P({description:"Unable to update the application configuration",level:S.QU.ERROR,message:k("Improper JSON format for Android Attestation Service Credentials")})}var n=!!e.enableAPIBasedAuthentication&&e.enableClientAttestation,i={advancedConfigurations:{attestationMetaData:{androidAttestationServiceCredentials:t,androidPackageName:n?e.androidPackageName:"",appleAppId:n?e.appleAppId:"",enableClientAttestation:n},enableAPIBasedAuthentication:!!e.enableAPIBasedAuthentication,enableAuthorization:!!e.enableAuthorization,returnAuthenticatedIdpList:!!e.returnAuthenticatedIdpList,saas:!!e.saas,skipLoginConsent:!!e.skipConsentLogin,skipLogoutConsent:!!e.skipConsentLogout,trustedAppConfiguration:{androidPackageName:e.enableFIDOTrustedApps?e.androidPackageName:"",androidThumbprints:e.enableFIDOTrustedApps?(0,N.Z)(be)?[]:be.split(","):[],appleAppId:e.enableFIDOTrustedApps?e.appleAppId:"",isConsentGranted:ne,isFIDOTrustedApp:e.enableFIDOTrustedApps}}};!se.tZ.advancedConfigurations.showSaaS&&delete i.advancedConfigurations.saas,!se.tZ.advancedConfigurations.showEnableAuthorization&&delete i.advancedConfigurations.enableAuthorization,!se.tZ.advancedConfigurations.showReturnAuthenticatedIdPs&&delete i.advancedConfigurations.returnAuthenticatedIdpList,A(i)},Ae=!q,Re=!W||Ae,we=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isTrustedAppConsentRequired})),Pe=!W&&!J,Te=function(){return X(Ae)},Ne=(0,Z.useCallback)((function(e){var t,n,i,a={androidAttestationServiceCredentials:void 0,androidPackageName:void 0,androidThumbprints:void 0};if(e.enableClientAttestation)try{var o,l;(0,N.Z)(e.androidAttestationServiceCredentials)||(t=JSON.parse(e.androidAttestationServiceCredentials)),null!==(o=e.androidPackageName)&&void 0!==o&&o.toString().trim()||!Object.keys(t).length?null!==(l=e.androidPackageName)&&void 0!==l&&l.toString().trim()&&!Object.keys(t).length&&(a.androidAttestationServiceCredentials=k("applications:forms.advancedConfig.sections.clientAttestation.fields.androidAttestationServiceCredentials.validations.empty")):a.androidPackageName=k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.androidPackageName.validations.emptyForAttestation")}catch(r){a.androidAttestationServiceCredentials=k("applications:forms.advancedConfig.sections.clientAttestation.fields.androidAttestationServiceCredentials.validations.invalid")}e.enableFIDOTrustedApps?null!==(n=e.androidPackageName)&&void 0!==n&&n.toString().trim()||null==be||!be.toString().trim()?null===(i=e.androidPackageName)||void 0===i||!i.toString().trim()||null!=be&&be.toString().trim()?fe(!0):de(!0):a.androidPackageName=k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.androidPackageName.validations.emptyForFIDO"):fe(!0);return a}),[be]);return Z.createElement(Z.Fragment,null,Z.createElement(Se.l0,{id:He,uncontrolledForm:!0,ref:H,validate:Ne,validateOnBlur:!1,onSubmit:function(e){ye(e)},initialValues:{androidAttestationServiceCredentials:JSON.stringify((null==y||null===(l=y.attestationMetaData)||void 0===l?void 0:l.androidAttestationServiceCredentials)||""),androidPackageName:(null==y||null===(r=y.attestationMetaData)||void 0===r?void 0:r.androidPackageName)||(null==y||null===(c=y.trustedAppConfiguration)||void 0===c?void 0:c.androidPackageName),appleAppId:(null==y||null===(s=y.trustedAppConfiguration)||void 0===s?void 0:s.appleAppId)||(null==y||null===(u=y.attestationMetaData)||void 0===u?void 0:u.appleAppId)}},Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Skip consent login",name:"skipConsentLogin",label:k("applications:forms.advancedConfig.fields.skipConsentLogin.label"),required:!1,value:null!=y&&y.skipLoginConsent?["skipLoginConsent"]:[],readOnly:I,"data-testid":"".concat(T,"-skip-login-consent-checkbox"),"data-componentid":"".concat(T,"-skip-login-consent-checkbox"),hint:k("applications:forms.advancedConfig.fields.skipConsentLogin.hint")}),(null==Oe?void 0:Oe.id)!==(null==O?void 0:O.id)&&Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Skip consent logout",name:"skipConsentLogout",label:k("applications:forms.advancedConfig.fields.skipConsentLogout.label"),required:!1,value:null!=y&&y.skipLogoutConsent?["skipLogoutConsent"]:[],readOnly:I,"data-testid":"".concat(T,"-skip-logout-consent-checkbox"),"data-componentid":"".concat(T,"-skip-logout-consent-checkbox"),hint:k("applications:forms.advancedConfig.fields.skipConsentLogout.hint")}),Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Return authenticated IDP list",name:"returnAuthenticatedIdpList",label:k("applications:forms.advancedConfig.fields.returnAuthenticatedIdpList.label"),required:!1,value:null!=y&&y.returnAuthenticatedIdpList?["returnAuthenticatedIdpList"]:[],readOnly:I,"data-testid":"".concat(T,"-return-authenticated-idp-list-checkbox"),"data-componentid":"".concat(T,"-return-authenticated-idp-list-checkbox"),hidden:!se.tZ.advancedConfigurations.showReturnAuthenticatedIdPs,hint:k("applications:forms.advancedConfig.fields.returnAuthenticatedIdpList.hint")}),Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Enable authorization",name:"enableAuthorization",label:k("applications:forms.advancedConfig.fields.enableAuthorization.label"),required:!1,value:null!=y&&y.enableAuthorization?["enableAuthorization"]:[],readOnly:I,"data-testid":"".concat(T,"-enable-authorization-checkbox"),"data-componentid":"".concat(T,"-enable-authorization-checkbox"),hidden:!se.tZ.advancedConfigurations.showEnableAuthorization||!(null!=D&&D.isXacmlConnectorEnabled),hint:k("applications:forms.advancedConfig.fields.enableAuthorization.hint")}),F&&((null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION||(null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION_OIDC||(null==O?void 0:O.id)===Ie.j.MOBILE||(null==O?void 0:O.id)===Ie.j.TEMPLATE_IDS.get("oidcWeb"))&&Z.createElement(he.Z,null,Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ve.Z,null),Z.createElement(ve.Z,{hidden:!0})),Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(R.X6,{as:"h4"},k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.heading")),Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Enable apiBasedAuthentication",name:"enableAPIBasedAuthentication",label:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableAPIBasedAuthentication.label"),required:!1,readOnly:I,value:q?["enableAPIBasedAuthentication"]:[],listen:function(e){G(e),X(!e&&W)},"data-testid":"".concat(T,"-enable-api-based-authentication"),"data-componentid":"".concat(T,"-enable-api-based-authentication"),hidden:!se.tZ.advancedConfigurations.showEnableAuthorization,hint:k("applications:forms.advancedConfig.sections.applicationNativeAuthentication.fields.enableAPIBasedAuthentication.hint")})))),F&&((null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION||(null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION_OIDC||(null==O?void 0:O.id)===Ie.j.MOBILE)&&Z.createElement(he.Z,null,Z.createElement(he.Z.Row,{columns:1,onClick:Te},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ve.Z,null),Z.createElement(R.X6,{as:"h4"},k("applications:forms.advancedConfig.sections.clientAttestation.heading")),Ae&&K&&Z.createElement(i.Z,{severity:"info",className:"client-attestation-info-alert"},k("applications:forms.advancedConfig.sections.clientAttestation.alerts.clientAttestationAlert")),Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Enable attestation",name:"enableClientAttestation",label:k("applications:forms.advancedConfig.sections.clientAttestation.fields.enableClientAttestation.label"),required:!1,readOnly:I,value:null!=y&&null!==(d=y.attestationMetaData)&&void 0!==d&&d.enableClientAttestation?["enableClientAttestation"]:[],listen:$,"data-testid":"".concat(T,"-enable-client-attestation"),"data-componentid":"".concat(T,"-enable-api-based-authentication"),disabled:Ae,hint:Z.createElement(L.c,{i18nKey:"applications:forms.advancedConfig.sections.clientAttestation.fields.enableClientAttestation.hint"},"Select to verify the integrity of the application by calling the attestation service of the hosting platform. To enable this you will be required to setup ",Z.createElement("strong",null,"Platform Settings"),".")}))),Z.createElement(he.Z.Row,{columns:1,onClick:Te},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Textarea,{ariaLabel:"Android service account credentials",inputType:"description",name:"androidAttestationServiceCredentials",label:Z.createElement(Z.Fragment,null,Z.createElement(R.dn,{size:"micro",icon:(0,Ce.r2)().android,floated:"left",verticalAlign:"middle",spaced:"right"}),k("applications:forms.advancedConfig.sections.clientAttestation.fields.androidAttestationServiceCredentials.label")),placeholder:k("applications:forms.advancedConfig.sections.clientAttestation.fields.androidAttestationServiceCredentials.placeholder"),value:null!=y&&null!==(p=y.attestationMetaData)&&void 0!==p&&p.androidAttestationServiceCredentials?[JSON.stringify(null==y||null===(m=y.attestationMetaData)||void 0===m?void 0:m.androidAttestationServiceCredentials,null,4)]:[],hint:k("applications:forms.advancedConfig.sections.clientAttestation.fields.androidAttestationServiceCredentials.hint"),type:"text",maxLength:5e3,minLength:30,width:16,"data-testid":"".concat(T,"-client-attestation-android-account-credentials"),"data-componentid":"".concat(T,"-client-attestation-android-account-credentials"),disabled:Re,readOnly:I})))),V&&((null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION||(null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION_OIDC||(null==O?void 0:O.id)===Ie.j.MOBILE)&&Z.createElement(he.Z,null,Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ve.Z,null),Z.createElement(R.X6,{as:"h4"},k("applications:forms.advancedConfig.sections.trustedApps.heading")),Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Enable FIDO Trusted Apps",name:"enableFIDOTrustedApps",label:k("applications:forms.advancedConfig.sections.trustedApps.fields.enableFIDOTrustedApps.label"),required:!1,readOnly:I,checked:J,value:J?["isFIDOTrustedApp"]:[],listen:function(e){e?we?le(!0):ee(!0):ee(!1)},"data-componentid":"".concat(j,"-enable-fido-trusted-apps"),hint:Z.createElement(L.c,{i18nKey:"applications:forms.advancedConfig.sections.trustedApps.fields.enableFIDOTrustedApps.hint"},"Select to trust the app for user login with passkey. Provide the details of the application under",Z.createElement("strong",null," Platform Settings"),".")}),se.tZ.advancedConfigurations.showTrustedAppConsentWarning&&Z.createElement(i.Z,{severity:"warning",className:"fido-enabled-warn-alert"},Z.createElement(Z.Fragment,null,Z.createElement(L.c,{i18nKey:"applications:forms.advancedConfig.sections.trustedApps.alerts.trustedAppSettingsAlert"},"Enabling this feature will publish details under",Z.createElement("strong",null," Platform Settings")," to a public endpoint accessible to all Asgardeo organizations. Consequently, other organizations can view information about your application and its associated organization. This option is not applicable if you are using custom domains."),Z.createElement(R.eb,{link:M("develop.applications.editApplication.common.advanced.trustedApps.learnMore")},k("common:learnMore"))))))),((null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION||(null==O?void 0:O.id)===Ie.j.CUSTOM_APPLICATION_OIDC||(null==O?void 0:O.id)===Ie.j.MOBILE)&&Z.createElement(he.Z,null,Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ve.Z,null),Z.createElement(R.X6,{as:"h4"},k("applications:forms.advancedConfig.sections.platformSettings.heading")),Z.createElement(R.X6,{subHeading:!0,as:"h6"},k("applications:forms.advancedConfig.sections.platformSettings.subTitle")))),Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,null,Z.createElement(R.X6,{as:"h5",bold:"500"},Z.createElement(R.dn,{size:"micro",icon:(0,Ce.r2)().android,verticalAlign:"middle",floated:"left"}),k("applications:forms.advancedConfig.sections.platformSettings.fields.android.heading")),Z.createElement(Se.gN.Input,{ariaLabel:"Android package name",inputType:"default",name:"androidPackageName",label:k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.androidPackageName.label"),required:!1,readOnly:I,value:null!==(f=(null==y||null===(v=y.attestationMetaData)||void 0===v?void 0:v.androidPackageName)||(null==y||null===(g=y.trustedAppConfiguration)||void 0===g?void 0:g.androidPackageName))&&void 0!==f?f:"",placeholder:k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.androidPackageName.placeholder"),maxLength:200,minLength:3,width:16,"data-componentid":"".concat(j,"-platform-settings-android-package-name"),disabled:Pe}),Z.createElement(R.kW,{disabled:Pe},k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.androidPackageName.hint")))),V&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(R.wE,{isAllowEnabled:!1,onlyOrigin:!1,labelEnabled:!1,urlState:be,setURLState:function(e){return Ee(e)},labelName:k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.keyHashes.label"),required:!1,value:be,validation:function(e){return!(null!=e&&e.includes(","))},placeholder:k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.keyHashes.placeholder"),validationErrorMsg:k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.keyHashes.validations.invalidOrEmpty"),showError:ue,setShowError:de,clearError:me,setClearError:fe,readOnly:I,addURLTooltip:k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.keyHashes.tooltip"),duplicateURLErrorMessage:k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.keyHashes.validations.duplicate"),showPredictions:!1,showLessContent:k("common:showLess"),showMoreContent:k("common:showMore"),"data-componentid":"".concat(j,"-platform-settings-android-thumbprints"),disabled:Pe||!J,skipInternalValidation:!0}),Z.createElement(R.kW,{disabled:Pe||!J},k("applications:forms.advancedConfig.sections.platformSettings.fields.android.fields.keyHashes.hint")))),Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,null,Z.createElement(R.X6,{as:"h5",bold:"500"},Z.createElement(R.dn,{size:"micro",icon:(0,Ce.r2)().apple,floated:"left",verticalAlign:"middle"}),k("applications:forms.advancedConfig.sections.platformSettings.fields.apple.heading")),Z.createElement(Se.gN.Input,{ariaLabel:"Apple App Id",inputType:"default",name:"appleAppId",label:k("applications:forms.advancedConfig.sections.platformSettings.fields.apple.fields.appleAppId.label"),required:!1,placeholder:k("applications:forms.advancedConfig.sections.platformSettings.fields.apple.fields.appleAppId.placeholder"),value:null!==(b=(null==y||null===(h=y.attestationMetaData)||void 0===h?void 0:h.appleAppId)||(null==y||null===(E=y.trustedAppConfiguration)||void 0===E?void 0:E.appleAppId))&&void 0!==b?b:"",maxLength:200,minLength:3,width:16,"data-componentid":"".concat(j,"-platform-settings-apple-app-id"),disabled:Pe,readOnly:I}),Z.createElement(R.kW,{disabled:Pe},k("applications:forms.advancedConfig.sections.platformSettings.fields.apple.fields.appleAppId.hint"))))),Z.createElement(Se.gN.Button,{form:He,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(T,"-submit-button"),"data-componentid":"".concat(T,"-submit-button"),disabled:w,loading:w,hidden:I,label:k("common:update")})),Z.createElement(R.cV,{onClose:function(){return le(!1)},type:"warning",assertionHint:k("applications:forms.advancedConfig.sections.trustedApps.modal.assertionHint"),assertionType:"checkbox",open:oe,primaryAction:k("common:confirm"),secondaryAction:k("common:cancel"),onPrimaryActionClick:function(){ee(!0),ie(!0),le(!1)},onSecondaryActionClick:function(){ee(!1),ie(!1),le(!1)},closeOnDimmerClick:!1,"data-componentid":"".concat(j,"-trusted-apps-confirmation-modal")},Z.createElement(R.cV.Header,{"data-testid":"".concat(T,"-trusted-apps-confirmation-modal-header")},k("applications:forms.advancedConfig.sections.trustedApps.modal.header")),Z.createElement(R.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(j,"-trusted-apps-confirmation-modal-message")},k("applications:forms.advancedConfig.sections.trustedApps.modal.message")),Z.createElement(R.cV.Content,{"data-componentid":"".concat(j,"-trusted-apps-confirmation-modal-content")},k("applications:forms.advancedConfig.sections.trustedApps.modal.content"))))};function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}ze.defaultProps={"data-componentid":"application-advanced-configurations-form","data-testid":"application-advanced-configurations-form"};var Be=function(e){var t,n=e.appId,i=e.advancedConfigurations,a=e.featureConfig,o=e.onUpdate,l=e.readOnly,r=e.template,c=e["data-componentid"],s=(0,U.$)().t,u=(0,_.I0)(),d=(0,p.EV)(null==a||null===(t=a.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),m=qe((0,Z.useState)(!1),2),f=m[0],v=m[1];return Z.createElement(R.pJ,{className:"advanced-configuration-section",padded:"very"},Z.createElement(ze,{config:i,onSubmit:function(e){v(!0),(0,D.TH)(n,e).then((function(){u((0,I.V_)({description:s("applications:notifications.updateAdvancedConfig.success.description"),level:S.QU.SUCCESS,message:s("applications:notifications.updateAdvancedConfig.success.message")})),o(n)})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?u((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:s("applications:notifications.updateAdvancedConfig.error.message")})):u((0,I.V_)({description:s("applications:notifications.updateAdvancedConfig.genericError.description"),level:S.QU.ERROR,message:s("applications:notifications.updateAdvancedConfig.genericError.message")}))})).finally((function(){v(!1)}))},readOnly:l||!d,template:r,onAlertFired:function(e){u((0,I.V_)(e))},"data-testid":"".concat(c,"-form"),isSubmitting:f}))};Be.defaultProps={"data-componentid":"application-advanced-settings"};var We=n(6894),$e=n(66528),Qe=n(12950),Ke=n(10909),Xe=n(19980),Ye=function(e){var t=e.attribute,n=e.updateMapping,i=e.mapping,a=e.placeholder,o=e.isReadOnly,l=e["data-testid"],r=(0,U.$)().t;return Z.createElement($e.Z.Row,{"data-testid":l},Z.createElement($e.Z.Cell,null,null==t?void 0:t.displayName),Z.createElement(Z.Fragment,null,Z.createElement($e.Z.Cell,{error:(0,N.Z)(i)},Z.createElement(Qe.Z,{placeholder:a,value:(0,N.Z)(i)?"":i,onChange:function(e){var i=e.target.value;n({claim:t,mappedValue:i})},required:!0,"data-testid":"".concat(l,"-input"),readOnly:o}),(0,N.Z)(i)&&Z.createElement(j.Z,{basic:!0,color:"red",pointing:"left"},r("authenticationProvider:forms.attributeSettings.attributeListItem.validation.empty")))))};Ye.defaultProps={"data-testid":"attribute-list-item"};var Je=n(90408),et=n(23744),tt=n(65397),nt=n(47018);function it(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){if(e){if("string"==typeof e)return lt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var rt=function(e){var t=e.selectedAttributes,n=e.setSelectedAttributes,i=e.showAddModal,a=e.setShowAddModal,o=e.attributesList,l=e["data-testid"],r=(0,U.$)().t,c=at((0,Z.useState)([]),2),s=c[0],u=c[1],d=at((0,Z.useState)([]),2),p=d[0],m=d[1],f=at((0,Z.useState)([]),2),v=f[0],g=f[1],b=at((0,Z.useState)([]),2),h=b[0],E=b[1],y=at((0,Z.useState)([]),2),A=y[0],C=y[1],S=at((0,Z.useState)([]),2),I=S[0],O=S[1],w=at((0,Z.useState)(!1),2),P=w[0],T=w[1],L=at((0,Z.useState)(!1),2),_=L[0],j=L[1];(0,Z.useEffect)((function(){O(_?v:[])}),[_]),(0,Z.useEffect)((function(){C(P?s:[])}),[P]),(0,Z.useEffect)((function(){if(i){var e=o.filter((function(e){return(0,N.Z)((0,Je.Z)(t,(function(t){return t.claim.uri===e.uri})))}));u(e),m(e),g(t.map((function(e){return e.claim}))),E(t.map((function(e){return e.claim})))}else u([]),m([]),g([]),E([]);O([]),C([]),j(!1),T(!1)}),[i]);return Z.createElement(nt.Z,{open:i,size:"small",className:"user-attributes","data-testid":"".concat(l,"-modal")},Z.createElement(nt.Z.Header,{"data-testid":"".concat(l,"-modal-header")},r("authenticationProvider:modals.attributeSelection.title"),Z.createElement(R.X6,{subHeading:!0,ellipsis:!0,as:"h6"},r("authenticationProvider:modals.attributeSelection.subTitle"))),Z.createElement(nt.Z.Content,{image:!0,"data-testid":"".concat(l,"-modal-content")},Z.createElement(R.IX,{searchPlaceholder:r("authenticationProvider:modals.attributeSelection.content.searchPlaceholder"),addItems:function(){var e=it(v);(null==A?void 0:A.length)>0&&A.map((function(t){null!=e&&e.includes(t)||e.push(t)})),g(e),E(e),u(s.filter((function(t){return!(null!=e&&e.includes(t))}))),m(p.filter((function(t){return!(null!=e&&e.includes(t))}))),C(A.filter((function(t){return!(null!=e&&e.includes(t))}))),T(!1)},removeItems:function(){var e=it(s);(null==I?void 0:I.length)>0&&I.map((function(t){null!=e&&e.includes(t)||e.push(t)})),u(e),m(e),g(null==v?void 0:v.filter((function(t){return!(null!=e&&e.includes(t))}))),E(null==h?void 0:h.filter((function(t){return!(null!=e&&e.includes(t))}))),O(I.filter((function(t){return!(null!=e&&e.includes(t))}))),j(!1)},handleUnelectedListSearch:function(e){var t=e.target.value;if(t.length>0){var n=s.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(t.toLowerCase())})),i=s.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}));m((0,et.Z)((0,tt.Z)(n,i),"displayName"))}else m(s)},handleSelectedListSearch:function(e){var t=e.target.value;t.length>0?E(h.filter((function(e){return-1!==e.uri.toLowerCase().indexOf(t.toLowerCase())}))):E(v)},"data-testid":"".concat(l,"-modal-content")},Z.createElement(R.Jv,{isListEmpty:!(p.length>0),listType:"unselected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){T(!P)},isHeaderCheckboxChecked:P,"data-testid":"".concat(l,"-modal-content-unselected-list"),emptyPlaceholderDefaultContent:r("transferList:list.emptyPlaceholders.default")},null==p?void 0:p.map((function(e){return Z.createElement(R.qT,{handleItemChange:function(){return function(e){var t=it(A);null!=t&&t.includes(e)?(t.splice(t.indexOf(e),1),C(t)):(t.push(e),C(t))}(e)},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:A.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(l,"-modal-content-unselected-list-item-").concat(e.id)})}))),Z.createElement(R.Jv,{isListEmpty:!(h.length>0),listType:"selected",listHeaders:["Attribute"],handleHeaderCheckboxChange:function(){j(!_)},isHeaderCheckboxChecked:_,"data-testid":"".concat(l,"-modal-content-selected-list"),emptyPlaceholderDefaultContent:r("transferList:list.emptyPlaceholders.default")},null==h?void 0:h.map((function(e){return Z.createElement(R.qT,{handleItemChange:function(){return t=e,void(null!=(n=it(I))&&n.includes(t)?(n.splice(n.indexOf(t),1),O(n)):(n.push(t),O(n)));var t,n},key:e.uri,listItem:e.displayName,listItemId:e.id,listItemIndex:e.uri,isItemChecked:I.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:e.uri===e.displayName?"":e.uri,"data-testid":"".concat(l,"-modal-content-selected-list-item-").concat(e.id)})}))))),Z.createElement(nt.Z.Actions,{"data-testid":"".concat(l,"-modal-actions")},Z.createElement(R.Qj,{onClick:function(){a(!1)},"data-testid":"".concat(l,"-modal-cancel-button")},r("common:cancel")),Z.createElement(R.KM,{onClick:function(){n(v.map((function(e){var n=t.find((function(t){return t.claim.uri===e.uri}));return(0,N.Z)(n)?{claim:e,mappedValue:""}:n}))),a(!1)},"data-testid":"".concat(l,"-modal-save-button")},r("common:save"))))};rt.defaultProps={"data-testid":"idp-edit-attribute-settings-attribute-selection-wizard"};var ct=n(90955);n(9183),n(7231),n(27772);var st=function(e){var t=e.claimURI,n=e.displayName,i=e.localClaimDisplayName,a=e["data-testid"];return Z.createElement($e.Z.Row,{"data-testid":a},Z.createElement($e.Z.Cell,null,Z.createElement("div",null,n||i),Z.createElement(R.GI,{content:t,inverted:!0,trigger:Z.createElement(R.EK,{compact:!0,withBackground:!1},t),position:"bottom left"})))},ut=n(61331),dt=n(64704),pt=n(27298),mt=n(16590),ft=n(39114),vt=n(84548);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=gt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=gt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ct=function(e){var t,n,i,a,o,l,r,c,s,u,d,p,m,f,v=e.applicationTemplateId,g=e.claimConfigurations,b=e.dropDownOptions,h=e.setSubmissionValues,E=e.setSelectedValue,y=e.defaultSubjectAttribute,A=e.triggerSubmission,C=e.initialSubject,S=e.initialRole,I=e.claimMappingOn,O=e.readOnly,w=e.technology,P=e.onlyOIDCConfigured,T=e.oidcInitialValues,j=e["data-componentid"],D=(0,U.$)().t,M=(0,re.Z)().UIConfig,x=(0,_.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),F=yt((0,Z.useState)(),2),V=F[0],H=F[1],z=yt((0,Z.useState)(),2),q=z[0],G=z[1],B=yt((0,Z.useState)(null!=T&&T.subject?T.subject.subjectType:vt.UH.PUBLIC),2),W=B[0],$=B[1],Q=yt((0,Z.useState)(!1),2),K=Q[0],X=Q[1],Y=yt((0,Z.useState)(null==C?void 0:C.useMappedLocalSubject),2),J=Y[0],ee=Y[1],te=yt((0,Z.useState)(null==C?void 0:C.mappedLocalSubjectMandatory),2),ne=te[0],ie=te[1];(0,Z.useEffect)((function(){if(I&&b&&b.length>0)if(q){var e=b.findIndex((function(e){return(null==e?void 0:e.key)===q}));if(e>-1){var t;H(null===(t=b[e])||void 0===t?void 0:t.value)}else{var n,i,a=b.findIndex((function(e){return(null==e?void 0:e.key)===y}));H(a>-1?null===(n=b[a])||void 0===n?void 0:n.value:null===(i=b[0])||void 0===i?void 0:i.value)}}else if(V){var o,l=null===(o=b.find((function(e){return(null==e?void 0:e.value)===V})))||void 0===o?void 0:o.key;l&&(G(l),H(V))}else{var r,c;H((null==C||null===(r=C.claim)||void 0===r?void 0:r.uri)||(null===(c=b[0])||void 0===c?void 0:c.value))}else if(V)b&&b.length>0&&b.findIndex((function(e){return(null==e?void 0:e.value)===V}))<0&&H(y);else{var s,u;H((null==C||null===(s=C.claim)||void 0===s?void 0:s.uri)||(null===(u=b[0])||void 0===u?void 0:u.value))}}),[b]),(0,Z.useEffect)((function(){W||$(vt.UH.PUBLIC)}),[]),(0,Z.useEffect)((function(){V&&(E(V),X(V!==y))}),[V]),(0,Z.useEffect)((function(){if(V&&b){var e,t=null===(e=b.find((function(e){return(null==e?void 0:e.value)===V})))||void 0===e?void 0:e.key;G(t)}}),[V]);var ae,oe,le=function(e,t){var n=y;return K&&(n=ce(e,t)),n},ce=function(e,t){var n="";return e.map((function(e){e.value===t&&(n=t)})),n},ue=function(){return de()||(0,N.Z)(b)},de=function(){return!se.tZ.attributeSettings.advancedAttributeSettings.showSubjectAttribute||P&&!K};return S&&C?Z.createElement(Se.l0,{id:"application-attributes-advance-settings-form",uncontrolledForm:!0,initialValues:!P&&{oidcInitialValues:T,subjectAttribute:V},validate:function(e){var t={sectorIdentifierURI:void 0};return null!=e&&e.sectorIdentifierURI&&!mt.URLUtils.isHttpsUrl(e.sectorIdentifierURI)&&(t.sectorIdentifierURI=D("applications:forms.advancedAttributeSettings.sections.subject.fields.sectorIdentifierURI.validations.invalid")),t},onSubmit:function(e){!function(e){var t,n,i={oidc:ht(ht({},T),{},{subject:{sectorIdentifierUri:e.sectorIdentifierURI,subjectType:W}}),role:{claim:ce(b,e.roleAttribute),includeUserDomain:!!e.role,mappings:[]},subject:{claim:le(b,e.subjectAttribute),includeTenantDomain:!!e.subjectIncludeTenantDomain,includeUserDomain:!!e.subjectIncludeUserDomain,mappedLocalSubjectMandatory:ne,useMappedLocalSubject:J}},a=se.tZ.attributeSettings.advancedAttributeSettings;!a.showIncludeUserstoreDomainSubject&&delete i.subject.includeUserDomain,!a.showIncludeTenantDomain&&delete i.subject.includeTenantDomain,!a.showValidateLinkedLocalAccount&&delete i.subject.useMappedLocalSubject,!a.showMandateLinkedLocalAccount&&delete i.subject.mappedLocalSubjectMandatory,!a.showRoleMapping&&delete i.role.mappings,!a.showIncludeUserstoreDomainRole&&i.role.includeUserDomain,!a.showRoleAttribute&&delete i.role.claim,null!=i&&null!==(t=i.subject)&&void 0!==t&&t.claim&&""!==(null==i||null===(n=i.subject)||void 0===n?void 0:n.claim)||(i.subject.claim=g.subject.claim.uri),h(i)}(e)},triggerSubmit:function(e){return A(e)}},Z.createElement(he.Z,null,Z.createElement(pt.l,{tabId:se.N0.USER_ATTRIBUTES},(!(null!=x&&x.includes("applications.attributes.alternativeSubjectIdentifier"))||!(null!=x&&x.includes("applications.attributes.subjectType")))&&(null===se.tZ||void 0===se.tZ||null===(t=se.tZ.attributeSettings)||void 0===t||null===(t=t.advancedAttributeSettings)||void 0===t?void 0:t.showSubjectAttribute)&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ve.Z,null),Z.createElement(R.X6,{as:"h4"},D("applications:forms.advancedAttributeSettings.sections.subject.heading")))),P&&!(null!=x&&x.includes("applications.attributes.alternativeSubjectIdentifier"))&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ft.Z,{name:"enableAlternativeSubjectIdentifier",ariaLabel:D("applications:forms.advancedAttributeSettings.sections.subject.fields.alternateSubjectAttribute.label"),"data-componentid":"".concat(j,"-reassign-subject-attribute-checkbox"),checked:K,label:D("applications:forms.advancedAttributeSettings.sections.subject.fields.alternateSubjectAttribute.label"),onClick:function(e,t){return n=null==t?void 0:t.checked,X(n),void H(y);var n},disabled:O}),Z.createElement(R.kW,null,Z.createElement(L.c,{i18nKey:D("applications:forms.advancedAttributeSettings.sections.subject.fields.hint")},"This option will allow to use an alternate attribute as the subject identifier instead of the ",Z.createElement(R.EK,{withBackground:!0},"userid"),".")))),!de()&&(0,N.Z)(b)&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(R.v0,{info:!0},Z.createElement(k.Z,{name:"info circle"}),D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.info")))),!ue()&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Dropdown,{ariaLabel:"Subject attribute",name:"subjectAttribute",label:D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.label"),placeholder:D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.placeholder"),required:I,value:V,options:b,readOnly:O,"data-testid":"".concat(j,"-subject-attribute-dropdown"),"data-componentid":"".concat(j,"-subject-attribute-dropdown"),listen:function(e){H(e?null==e?void 0:e.toString():e)},enableReinitialize:!0,hint:1!==w.length&&v!==Ie.j.CUSTOM_APPLICATION_OIDC&&v!==Ie.j.CUSTOM_APPLICATION_SAML?Z.createElement(R.kW,{compact:!0},D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint")):"oauth2"===(null===(ae=w[0])||void 0===ae?void 0:ae.type)||v===Ie.j.CUSTOM_APPLICATION_OIDC?Z.createElement(R.kW,{compact:!0},Z.createElement(L.c,{i18nKey:"applications:forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintOIDC"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",Z.createElement(R.EK,{withBackground:!0},"sub")," claim of the",Z.createElement(R.EK,{withBackground:!0},"id_token"),".")):"samlsso"===(null===(oe=w[0])||void 0===oe?void 0:oe.type)||v===Ie.j.CUSTOM_APPLICATION_SAML?Z.createElement(R.kW,{compact:!0},Z.createElement(L.c,{i18nKey:"applications:forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hintSAML"},"Select which of the shared attributes you want to use as the subject identifier of the user. This represents the ",Z.createElement(R.EK,{withBackground:!0},"subject")," element of the SAML assertion.")):Z.createElement(R.kW,{compact:!0},D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectAttribute.hint"))}))),!(null!=x&&x.includes("applications.attributes.alternativeSubjectIdentifier")||ue())&&Z.createElement(he.Z.Row,{columns:1,"data-componentid":"application-edit-user-attributes-include-user-domain"},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Subject include user domain",name:"subjectIncludeUserDomain",label:D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.label"),required:!1,value:null!=C&&C.includeUserDomain?["includeUserDomain"]:[],readOnly:O,"data-testid":"".concat(j,"-subject-iInclude-user-domain-checkbox"),hint:D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeUserDomain.hint")}))),!(null!=x&&x.includes("applications.attributes.alternativeSubjectIdentifier")||ue())&&Z.createElement(he.Z.Row,{columns:1,"data-componentid":"application-edit-user-attributes-include-tenant-domain"},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Subject include tenant domain",name:"subjectIncludeTenantDomain",label:D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.label"),required:!1,value:null!=C&&C.includeTenantDomain?["includeTenantDomain"]:[],readOnly:O,"data-testid":"".concat(j,"-subject-include-tenant-domain-checkbox"),hint:D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectIncludeTenantDomain.hint")}))),P&&!(null!=x&&x.includes("applications.attributes.subjectType"))&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(R.xv,null,D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectType.label")),Object.keys(vt.UH).map((function(e,t){var n=vt.UH[e];return Z.createElement(Z.Fragment,null,Z.createElement(Se.gN.Radio,{key:t,ariaLabel:"Subject type ".concat(n),name:"subjectType",value:n,label:D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectType."+n+".label"),hint:n===vt.UH.PAIRWISE&&D("applications:forms.advancedAttributeSettings.sections.subject.fields.subjectType."+n+".hint"),checked:W===n,listen:function(){$(n)},readOnly:O,"data-componentId":"".concat(j,"-subject")+"-type-".concat(n,"-radio")}))})))),W===vt.UH.PAIRWISE&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Input,{ariaLabel:"Sector Identifier URI",inputType:"url",name:"sectorIdentifierURI",label:D("applications:forms.advancedAttributeSettings.sections.subject.fields.sectorIdentifierURI.label"),required:!1,placeholder:D("applications:forms.advancedAttributeSettings.sections.subject.fields.sectorIdentifierURI.placeholder"),hint:D("applications:forms.advancedAttributeSettings.sections.subject.fields.sectorIdentifierURI.hint"),readOnly:O,maxLength:200,minLength:3,width:16,initialValue:null==T||null===(n=T.subject)||void 0===n?void 0:n.sectorIdentifierUri,"data-componentId":"".concat(j,"-sector-identifier-uri")}))),(null===se.tZ||void 0===se.tZ||null===(i=se.tZ.attributeSettings)||void 0===i||null===(i=i.advancedAttributeSettings)||void 0===i?void 0:i.isLinkedAccountsEnabled(v))&&Z.createElement(he.Z.Row,{columns:1,"data-componentid":"application-edit-user-attributes-linked-accounts"},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ve.Z,null),Z.createElement(R.X6,{as:"h4"},D("applications:forms.advancedAttributeSettings.sections.linkedAccounts.heading")),Z.createElement(R.X6,{as:"h6",color:"grey"},D("applications:forms.advancedAttributeSettings.sections.linkedAccounts.descriptionFederated")))),(null===se.tZ||void 0===se.tZ||null===(a=se.tZ.attributeSettings)||void 0===a||null===(a=a.advancedAttributeSettings)||void 0===a?void 0:a.isLinkedAccountsEnabled(v))&&(null===se.tZ||void 0===se.tZ||null===(o=se.tZ.attributeSettings)||void 0===o||null===(o=o.advancedAttributeSettings)||void 0===o?void 0:o.showValidateLinkedLocalAccount)&&Z.createElement(he.Z.Row,{columns:1,"data-componentid":"application-edit-user-attributes--validate-linked-local-accounts"},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.CheckboxLegacy,{listen:function(e){ee(e)},disabled:ne,ariaLabel:"Validate linked local account",name:"validateLinkedLocalAccount",label:D("applications:forms.advancedAttributeSettings.sections.linkedAccounts.fields.validateLocalAccount.label"),required:!1,value:J?["useMappedLocalSubject"]:[],readOnly:O,"data-testid":"".concat(j,"-validate-linked-local-account-checkbox"),hint:D("applications:forms.advancedAttributeSettings.sections.linkedAccounts.fields.validateLocalAccount.hint")}))),null!==se.tZ&&void 0!==se.tZ&&null!==(l=se.tZ.attributeSettings)&&void 0!==l&&null!==(l=l.advancedAttributeSettings)&&void 0!==l&&l.isLinkedAccountsEnabled(v)&&null!==se.tZ&&void 0!==se.tZ&&null!==(r=se.tZ.attributeSettings)&&void 0!==r&&null!==(r=r.advancedAttributeSettings)&&void 0!==r&&r.showMandateLinkedLocalAccount?Z.createElement("div",{className:"ml-3"},Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.CheckboxLegacy,{listen:function(e){ie(e)},disabled:!J,ariaLabel:"Mandate linked local account",name:"mandateLinkedLocalAccount",label:D("applications:forms.advancedAttributeSettings.sections.linkedAccounts.fields.mandateLocalAccount.label"),required:!1,value:ne?["mappedLocalSubjectMandatory"]:[],readOnly:O,"data-testid":"".concat(j,"-mandate-linked-local-account-checkbox"),hint:D("applications:forms.advancedAttributeSettings.sections.linkedAccounts.fields.mandateLocalAccount.hint")})))):null,(null===se.tZ||void 0===se.tZ||null===(c=se.tZ.attributeSettings)||void 0===c||null===(c=c.advancedAttributeSettings)||void 0===c?void 0:c.showRoleAttribute)&&(null==M||null===(s=M.legacyMode)||void 0===s?void 0:s.roleMapping)&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(ve.Z,null),Z.createElement(R.X6,{as:"h4"},D("applications:forms.advancedAttributeSettings.sections.role.heading")))),(null===se.tZ||void 0===se.tZ||null===(u=se.tZ.attributeSettings)||void 0===u||null===(u=u.advancedAttributeSettings)||void 0===u?void 0:u.showRoleAttribute)&&(null==M||null===(d=M.legacyMode)||void 0===d?void 0:d.roleMapping)&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Dropdown,{ariaLabel:"Role attribute",name:"roleAttribute",label:D("applications:forms.advancedAttributeSettings.sections.role.fields.roleAttribute.label"),required:I,value:null==S||null===(p=S.claim)||void 0===p?void 0:p.uri,options:b,readOnly:O,"data-testid":"".concat(j,"-role-attribute-dropdown"),hint:D("applications:forms.advancedAttributeSettings.sections.role.fields.roleAttribute.hint")}))),(null===se.tZ||void 0===se.tZ||null===(m=se.tZ.attributeSettings)||void 0===m||null===(m=m.advancedAttributeSettings)||void 0===m?void 0:m.showIncludeUserstoreDomainRole)&&(null==M||null===(f=M.legacyMode)||void 0===f?void 0:f.roleMapping)&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Role",name:"role",label:D("applications:forms.advancedAttributeSettings.sections.role.fields.role.label"),required:!1,value:null!=S&&S.includeUserDomain?["includeUserDomain"]:[],readOnly:O,"data-testid":"".concat(j,"-role-checkbox"),hint:D("applications:forms.advancedAttributeSettings.sections.role.fields.role.hint")})))))):null};Ct.defaultProps={"data-componentid":"application-advanced-attribute-settings-form"};var St=n(12252),It=n(95865),Ot=n(70104);function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Rt.apply(null,arguments)}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Tt=[Ot.Q.GROUPS_CLAIM_NAME,Ot.Q.ROLES_CLAIM_NAME,Ot.Q.APPLICATION_ROLES_CLAIM_NAME,Ot.Q.GROUPS_CLAIM_URI,Ot.Q.ROLES_CLAIM_URI,Ot.Q.APPLICATION_ROLES_CLAIM_URI],Nt=function(e){var t=e.claimURI,n=e.displayName,i=e.localClaimDisplayName,a=e.localDialect,o=e.updateMapping,l=e.addToMapping,r=e.selectMandatory,c=e.selectRequested,s=e.isDefaultMappingChanged,u=e.mapping,d=e.initialMandatory,p=e.initialRequested,m=e.claimMappingOn,f=e.claimMappingError,v=e.readOnly,g=e.deleteAttribute,b=e.subject,h=e.label,E=e.isOIDCMapping,y=e.duplicatedMappingValues,A=e.onlyOIDCConfigured,C=e["data-testid"],S=(0,U.$)().t,I=wt((0,Z.useState)(!1),2),O=I[0],w=I[1],P=wt((0,Z.useState)(!1),2),T=P[0],L=P[1],_=wt((0,Z.useState)(!1),2),j=_[0],D=_[1],M=wt((0,Z.useState)(!0),2),x=M[0],F=M[1],V=wt((0,Z.useState)(t),2),H=V[0],z=V[1],q=wt((0,Z.useState)(H),1)[0],G="http://wso2.org/claims";(0,Z.useEffect)((function(){D(d)}),[d]),(0,Z.useEffect)((function(){F(p)}),[p]),(0,Z.useEffect)((function(){(0,N.Z)(null==u?void 0:u.applicationClaim)&&(0,N.Z)(u)&&L(f)}),[f]),(0,Z.useEffect)((function(){w(m),z(t),u&&(l(t,m),null!=u&&u.applicationClaim?(z(null==u?void 0:u.applicationClaim),o(t,null==u?void 0:u.applicationClaim),s(!0)):o(t,q))}),[m]);var B=function(){return!(!t||!Tt.includes(t))||(A?b&&j||v||E:b||v||E)};return Z.createElement($e.Z.Row,{"data-testid":C},!a&&Z.createElement($e.Z.Cell,null),Z.createElement($e.Z.Cell,null,Z.createElement("div",null,a?n:i),E?Z.createElement(R.kW,{warning:!0,popup:!0},S("applications:edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMappingHint")):"",Z.createElement(R.GI,{content:E&&t.startsWith(G)?S("applications:edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t,inverted:!0,trigger:a?Z.createElement(R.EK,{compact:!0,withBackground:!1},E&&t.startsWith(G)?S("applications:edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t):Z.createElement(R.EK,null,E&&t.startsWith(G)?S("applications:edit.sections.attributes.selection.mappingTable.listItem.faultyAttributeMapping"):t),position:"bottom left"}),Z.createElement(R.kW,{warning:!0,hidden:!h},h)),a&&O&&Z.createElement(Z.Fragment,null,Z.createElement($e.Z.Cell,{error:T},Z.createElement(Qe.Z,{placeholder:S("applications:edit.sections.attributes.selection.mappingTable.listItem.fields.claim.placeholder",{name:n}),value:O?H:q,onChange:!v&&function(e){var n,i=null===(n=e.target)||void 0===n?void 0:n.value.replace(/[^\w+$:/.]/g,"");z(i),o(t,i,!0),L((0,N.Z)(i)),f&&!(0,N.Z)(i)&&L(!1),s(!0)},disabled:!O,readOnly:v,required:!0,error:T||y.includes(H)||y.includes(q)}))),!a&&Z.createElement($e.Z.Cell,Rt({},a&&!O&&{textAlign:"center"},a&&O&&{textAlign:"center"},!a&&{textAlign:"center"}),Z.createElement(ft.Z,{checked:p||x||b,onClick:v||b?function(){return null}:function(){a||(x?(c(t,!1),F(!1),r(t,!1),D(!1)):(F(!0),c(t,!0)))},disabled:!!O&&!j,readOnly:b||v||E})),Z.createElement($e.Z.Cell,Rt({},a&&!O&&{textAlign:"center"},a&&O&&{textAlign:"center"},!a&&{textAlign:"center"}),Z.createElement(ft.Z,{checked:d||j||b&&!A,onClick:B()?function(){return null}:function(){a?j?(r(t,!1),D(!1)):(D(!0),r(t,!0)):j?(r(t,!1),D(!1)):(D(!0),r(t,!0),F(!0),c(t,!0))},disabled:!!O&&!x,readOnly:B()})),v&&!E||!g?null:Z.createElement($e.Z.Cell,{textAlign:"right"},Z.createElement(R.GI,{trigger:Z.createElement(k.Z,{link:!0,className:"list-icon pr-4",size:"large",color:"grey",name:"trash alternate",onClick:g}),position:"top right",content:S("common:remove"),inverted:!0})))};function Zt(e){return function(e){if(Array.isArray(e))return _t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||Lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){if(e){if("string"==typeof e)return _t(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var jt=function(e){var t=e.selectedClaims,n=e.showAddModal,i=e.setShowAddModal,a=e.availableClaims,o=e.setAvailableClaims,l=e.setInitialSelectedClaims,r=e.updateMappings,c=e["data-testid"],s=(0,U.$)().t,u=Ut((0,Z.useState)([]),2),d=u[0],p=u[1],m=Ut((0,Z.useState)([]),2),f=m[0],v=m[1],g=Ut((0,Z.useState)([]),2),b=g[0],h=g[1],E=Ut((0,Z.useState)(!1),2),y=E[0],A=E[1];(0,Z.useEffect)((function(){v(y?b:[])}),[y]),(0,Z.useEffect)((function(){if(n){if(t.length>0){var e=(0,et.Z)((0,tt.Z)(t,a),"displayName");p(e),h(e)}else{var i=(0,et.Z)(a,"displayName");p(i),h(i)}v(t)}else p([]),h([]),v([])}),[n]);return Z.createElement(nt.Z,{open:n,size:"large",className:"user-roles attribute-modal","data-testid":c},Z.createElement(nt.Z.Header,null,s("applications:edit.sections.attributes.selection.addWizard.header"),Z.createElement(R.X6,{subHeading:!0,ellipsis:!0,as:"h6"},s("applications:edit.sections.attributes.selection.addWizard.subHeading"))),Z.createElement(nt.Z.Content,{image:!0},Z.createElement(R.IX,{selectionComponent:!0,searchPlaceholder:s("applications:edit.sections.attributes.selection.addWizard.steps.select.transfer.searchPlaceholders.attribute"),handleHeaderCheckboxChange:function(){A(!y)},isHeaderCheckboxChecked:y,handleUnelectedListSearch:function(e){var n=e.target.value;if(n.length>0){var i=d.filter((function(e){return-1!==e.displayName.toLowerCase().indexOf(n.toLowerCase())})),o=d.filter((function(e){return-1!==e.claimURI.toLowerCase().indexOf(n.toLowerCase())}));h((0,et.Z)((0,tt.Z)(i,o),"displayName"))}else t.length>0?h((0,et.Z)((0,tt.Z)(t,a),"displayName")):h((0,et.Z)(d,"displayName"))},"data-testid":"".concat(c,"-transfer-component")},Z.createElement(R.Jv,{selectionComponent:!0,isListEmpty:!(b.length>0),listType:"unselected","data-testid":"".concat(c,"-unselected-transfer-list"),emptyPlaceholderDefaultContent:s("transferList:list.emptyPlaceholders.default")},null==b?void 0:b.map((function(e,t){return Z.createElement(R.qT,{handleItemChange:function(){return function(e){var t=Zt(f);null!=t&&t.includes(e)?(t.splice(t.indexOf(e),1),v(t)):(e.requested=!0,t.push(e),v(t))}(e)},key:e.claimURI,listItem:e.displayName,listItemId:e.id,listItemIndex:e.claimURI,isItemChecked:f.includes(e),showSecondaryActions:!1,showListSubItem:!0,listSubItem:Z.createElement(R.EK,{compact:!0,withBackground:!1},e.claimURI),"data-testid":"".concat(c,"-unselected-transfer-list-item-").concat(t)})}))))),Z.createElement(nt.Z.Actions,null,Z.createElement(R.Qj,{onClick:function(){i(!1)},"data-testid":"".concat(c,"-cancel-button")},s("common:cancel")),Z.createElement(R.KM,{onClick:function(){var e=Zt(f),n=t.filter((function(t){return!(null!=e&&e.includes(t))})),a=e.filter((function(e){return!(null!=t&&t.includes(e))}));r(a,n),l(e),o(Zt(d)),i(!1)},"data-testid":"".concat(c,"-save-button")},s("common:save"))))};function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=kt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){return function(e){if(Array.isArray(e))return zt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||Ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){if(e){if("string"==typeof e)return zt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}jt.defaultProps={"data-testid":"application-attribute-selection-wizard"};var qt=function(e){var t=e.claims,n=e.setClaims,i=e.externalClaims,a=e.selectedClaims,o=e.setExternalClaims,l=e.selectedExternalClaims,r=e.setSelectedClaims,c=e.setSelectedExternalClaims,s=e.selectedDialect,u=e.selectedSubjectValue,d=e.setClaimMapping,p=e.createMapping,m=e.removeMapping,f=e.getCurrentMapping,v=e.updateClaimMapping,g=e.addToClaimMapping,E=e.claimConfigurations,y=e.claimMappingOn,A=e.defaultSubjectAttribute,C=e.showClaimMappingRevertConfirmation,S=e.setClaimMappingOn,I=e.claimMappingError,O=e.readOnly,w=e.updateMappings,P=e.isUserAttributesLoading,T=e.setUserAttributesLoading,N=e.onlyOIDCConfigured,j=e.duplicatedMappingValues,D=e["data-testid"],M=(0,U.$)().t,x=(0,R.fQ)().getLink,F=Vt((0,Z.useState)([]),2),V=F[0],H=F[1],z=Vt((0,Z.useState)([]),2),q=z[0],G=z[1],B=Vt((0,Z.useState)(!1),2),W=B[0],$=B[1],Q=Vt((0,Z.useState)([]),2),K=Q[0],X=Q[1],Y=Vt((0,Z.useState)([]),2),J=Y[0],ee=Y[1],te=Vt((0,Z.useState)(!1),2),ne=te[0],ie=te[1],ae=Vt((0,Z.useState)(!1),2),oe=ae[0],le=ae[1],re=Vt((0,Z.useState)(!1),2),ue=re[0],de=re[1],pe=Vt((0,Z.useState)(),2),me=pe[0],fe=pe[1],ve=(0,Z.useRef)(!1),ge=ce.l.getInstance(),be=(0,_.v9)((function(e){return e.config})),Ee=Vt((0,Z.useState)(i),1)[0];(0,Z.useEffect)((function(){var e,t=Ft(J);null==E||null===(e=E.claimMappings)||void 0===e||e.map((function(e){if(!J.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))){var n=q.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}));n&&t.push(n)}})),c(t),ee(t)}),[E]),(0,Z.useEffect)((function(){ne&&E&&(s.localDialect&&(V.length>0||a.length>0)&&T(!1),!s.localDialect&&(q.length>0||l.length>0)&&T(!1))}),[V,q,E,ne]);var ye=function(e,t){if(s.localDialect){var n=Ft(a);n.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),r(n)}else{var i=Ft(l);i.forEach((function(n){n.claimURI===e&&(n.mandatory=t)})),c(i)}},Ae=function(e,t){if(s.localDialect){var n=Ft(a);n.forEach((function(n){n.claimURI===e&&(n.requested=t)})),r(n)}},Se=function(){var e,t=[];"CUSTOM"===(null==E?void 0:E.dialect)?null===(e=E.claimMappings)||void 0===e||e.map((function(e){t.push(e.localClaim.uri)})):"LOCAL"===(null==E?void 0:E.dialect)&&E.requestedClaims.map((function(e){t.push(e.claim.uri)}));return t},Ie=function(e){var t;if("CUSTOM"===E.dialect){var n,i=null===(n=E.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim;if(i){var a=E.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===i}));if(a)return a.mandatory}}return null===(t=E.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.mandatory},Oe=function(e){if("CUSTOM"===E.dialect){var t,n=null===(t=E.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.applicationClaim;return!!(n?E.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===n})):E.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))}return!0},Re=function(){var e,t;return(null==E||null===(e=E.subject)||void 0===e||null===(e=e.claim)||void 0===e?void 0:e.uri)===A&&(null===(t=E.requestedClaims)||void 0===t?void 0:t.findIndex((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===A})))<0},we=function(){ge.publish("application-user-attribute-click-add"),le(!0)};(0,Z.useEffect)((function(){t&&H(Ft(se.tZ.attributeSettings.attributeSelection.getClaims(t))),i&&G(Ft(se.tZ.attributeSettings.attributeSelection.getExternalClaims(i)))}),[t,i]),(0,Z.useEffect)((function(){a&&X(Ft(a)),l&&ee(Ft(l))}),[a,l]),(0,Z.useEffect)((function(){ve.current||(ie(!1),function(){if(T(!0),s.localDialect){var e=Se(),a=[],l=[];if(se.tZ.attributeSettings.attributeSelection.getClaims(t).map((function(t){if(!e.includes(t.claimURI)||t.claimURI===A&&Re())l.push(t);else{var n=Mt(Mt({},t),{},{mandatory:Ie(t.claimURI),requested:Oe(t.claimURI)});a.push(n)}})),r(a),n(l),H(l),"CUSTOM"===(null==E?void 0:E.dialect)){var u=[];E.claimMappings.map((function(e){if(e&&e.localClaim&&(e.localClaim.uri!==A||!Re())){var t={addMapping:!0,applicationClaim:e.applicationClaim,localClaim:{displayName:e.localClaim.displayName,id:e.localClaim.id,uri:e.localClaim.uri}};u.push(t)}})),d(u)}else{var p=[];a.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};p.push(t)})),d(p)}ie(!0)}else{var m,f=Se(),v=[],g=[];se.tZ.attributeSettings.attributeSelection.getExternalClaims(i).map((function(e){if(f.includes(e.mappedLocalClaimURI)){var t=Mt(Mt({},e),{},{mandatory:Ie(e.mappedLocalClaimURI),requested:!0});v.push(t)}else g.push(e)}));var b=Ft(J);null==E||null===(m=E.claimMappings)||void 0===m||m.map((function(e){null==t||t.map((function(t){if(e.localClaim.uri===t.claimURI){var n={claimDialectURI:t.dialectURI,claimURI:t.claimURI,id:t.id,localClaimDisplayName:t.displayName,mandatory:t.mandatory,mappedLocalClaimURI:e.localClaim.uri,requested:t.requested};v.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))||v.push(n)}}))})),ee(b),c(v),o(g),G(g),ie(!0)}}(),ve.current=!0)}),[E]);var Pe,Te,Ne=function(e){if(s.localDialect){var u=a.find((function(t){return t.claimURI===e}));r(a.filter((function(t){return t.claimURI!==e}))),t.find((function(t){return t.claimURI===e}))||n([u].concat(Ft(t))),y&&m(e)}else{var d=l.find((function(t){return t.mappedLocalClaimURI===e}));c(l.filter((function(t){return t.mappedLocalClaimURI!==e}))),ee(J.filter((function(t){return t.mappedLocalClaimURI!==e})));var p=i.find((function(t){return t.mappedLocalClaimURI===e}));p||o([d].concat(Ft(i)))}},Ze=function(e){fe(e),u===Ue(e)&&A!==e?de(!0):Ne(e)},Ue=function(e){if(y){var t=f(e);return void 0!==t?t.applicationClaim:e}return e},Le=function(e){var t=!1;return null==Ee||Ee.map((function(n){n.mappedLocalClaimURI!==e.mappedLocalClaimURI&&e.mappedLocalClaimURI!==A||(t=!0)})),t};return!P&&E&&ne?Z.createElement(Z.Fragment,null,Z.createElement(he.Z.Row,{"data-testid":D},Z.createElement(he.Z.Column,{computer:16,tablet:16,largeScreen:12,widescreen:12},Z.createElement(R.X6,{as:"h4"},M("applications:edit.sections.attributes.selection.heading")),Z.createElement(R.X6,{as:"h6",color:"grey"},M("applications:edit.sections.attributes.selection.description"),(Te=void 0,Te=s.localDialect?x("develop.applications.editApplication.samlApplication.attributes.learnMore"):x("develop.applications.editApplication.oidcApplication.attributes.learnMore"),Z.createElement(R.eb,{link:Te},M("common:learnMore")))),a.length>0||l.length>0?Z.createElement(Z.Fragment,null,Z.createElement(he.Z.Row,{className:"user-role-edit-header-segment clearing attributes"},Z.createElement($e.Z,{"data-testid":"".concat(D,"-action-bar"),basic:"very",compact:!0},Z.createElement($e.Z.Body,null,Z.createElement($e.Z.Row,null,Z.createElement($e.Z.Cell,{collapsing:!0,width:"6"},Z.createElement(Qe.Z,{icon:Z.createElement(k.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value;t.length>0?function(e){if(s.localDialect){var t=a.filter((function(t){return-1!==t.displayName.toLowerCase().indexOf(e.toLowerCase())})),n=a.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));X((0,et.Z)((0,tt.Z)(t,n),"displayName"))}else{var i=l.filter((function(t){return-1!==t.localClaimDisplayName.toLowerCase().indexOf(e.toLowerCase())})),o=l.filter((function(t){return-1!==t.claimURI.toLowerCase().indexOf(e.toLowerCase())}));ee((0,et.Z)((0,tt.Z)(i,o),"localClaimDisplayName"))}}(t):s.localDialect?X(a):ee(l)},placeholder:M("applications:edit.sections.attributes.selection.mappingTable.searchPlaceholder"),floated:"left",size:"small","data-testid":"".concat(D,"-search")})),s.localDialect&&Z.createElement($e.Z.Cell,{textAlign:"right"},Z.createElement(ft.Z,{toggle:!0,checked:y,onChange:function(){y?W?C(!0):S(!1):S(!0)},label:M("applications:edit.sections.attributes.selection.mappingTable.actions.enable"),readOnly:O,"data-testid":"".concat(D,"-cliam-mapping-toggle")})),!O&&Z.createElement($e.Z.Cell,{textAlign:"right"},Z.createElement(Ke.Z,{size:"medium",icon:"pencil",floated:"right",onClick:we,"data-testid":"".concat(D,"-update-button")})))))),j.length>0&&Z.createElement(R.v0,{type:"error",content:M("applications:notifications.updateClaimConfig.error.description")}),Z.createElement(Xe.Z,{className:"user-role-edit-header-segment attributes"},Z.createElement(he.Z.Row,null,s.localDialect?Z.createElement($e.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(D,"-list"),fixed:!0},Z.createElement($e.Z.Header,null,y?Z.createElement($e.Z.Row,null,Z.createElement($e.Z.HeaderCell,{width:"8"},Z.createElement("strong",null,M("applications:edit.sections.attributes.selection.mappingTable.columns.attribute"))),Z.createElement($e.Z.HeaderCell,{width:"8"},Z.createElement("strong",null,M("applications:edit.sections.attributes.selection.mappingTable.columns.appAttribute")),Z.createElement(R.kW,{icon:"info circle",popup:!0},M("applications:edit.sections.attributes.selection.mappingTable.mappedAtributeHint"))),Z.createElement($e.Z.HeaderCell,{width:"4",textAlign:"center"},Z.createElement("strong",null,M("applications:edit.sections.attributes.selection.mappingTable.columns.mandatory")),Z.createElement(R.kW,{icon:"info circle",popup:!0},M("applications:edit.sections.attributes.selection.mandatoryAttributeHint",{productName:be.ui.productName}))),Z.createElement($e.Z.HeaderCell,{width:"2"})):Z.createElement($e.Z.Row,null,Z.createElement($e.Z.HeaderCell,{width:"10"},Z.createElement("strong",null,M("applications:edit.sections.attributes.selection.mappingTable.columns.attribute"))),Z.createElement($e.Z.HeaderCell,{width:"8",textAlign:"center"},Z.createElement("strong",null,M("applications:edit.sections.attributes.selection.mappingTable.columns.mandatory")),Z.createElement(R.kW,{icon:"info circle",popup:!0},M("applications:edit.sections.attributes.selection.mandatoryAttributeHint",{productName:be.ui.productName}))),Z.createElement($e.Z.HeaderCell,{width:"2"}))),Z.createElement($e.Z.Body,null,null==K?void 0:K.map((function(e){return Z.createElement(Nt,{key:e.id,claimURI:e.claimURI,displayName:e.displayName,mappedURI:e.claimURI,localDialect:s.localDialect,updateMapping:v,addToMapping:g,mapping:f(e.claimURI),isDefaultMappingChanged:$,initialMandatory:u===Ue(e.claimURI)||e.mandatory,initialRequested:e.requested,selectMandatory:ye,selectRequested:Ae,claimMappingOn:y,claimMappingError:I,readOnly:O,subject:u===Ue(e.claimURI),deleteAttribute:function(){Ze(e.claimURI)},duplicatedMappingValues:j,"data-testid":e.claimURI})})))):Z.createElement($e.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(D,"-list"),fixed:!0},Z.createElement($e.Z.Header,null,Z.createElement($e.Z.Row,null,Z.createElement($e.Z.HeaderCell,{width:"10"},Z.createElement("strong",null,M("applications:edit.sections.attributes.selection.mappingTable.columns.attribute"))),Z.createElement($e.Z.HeaderCell,{textAlign:"center",width:"8"},Z.createElement("strong",null,M("applications:edit.sections.attributes.selection.mappingTable.columns.mandatory")),Z.createElement(R.kW,{icon:"info circle",popup:!0},M("applications:edit.sections.attributes.selection.mandatoryAttributeHint",{productName:be.ui.productName}))),Z.createElement($e.Z.HeaderCell,{width:"2"}))),Z.createElement($e.Z.Body,null,null==J?void 0:J.map((function(e){return Z.createElement(Nt,{key:e.id,claimURI:e.claimURI,displayName:e.claimURI,mappedURI:e.mappedLocalClaimURI,localDialect:s.localDialect,initialMandatory:u===e.mappedLocalClaimURI&&!N||e.mandatory,selectMandatory:ye,initialRequested:e.requested,"data-testid":e.claimURI,readOnly:u===e.mappedLocalClaimURI&&!N||!Le(e)||O,localClaimDisplayName:e.localClaimDisplayName,deleteAttribute:function(){return Ze(e.mappedLocalClaimURI)},subject:u===e.mappedLocalClaimURI&&!N,isOIDCMapping:!Le(e)})}))))))):Z.createElement(Xe.Z,null,Z.createElement(R.$J,{title:se.tZ.attributeSettings.attributeSelection.showAttributePlaceholderTitle&&M("applications:placeholders.emptyAttributesList.title"),subtitle:[M("applications:placeholders.emptyAttributesList.subtitles")],action:!O&&Z.createElement(R.KM,{basic:!0,onClick:we},Z.createElement(k.Z,{name:"plus"}),M("applications:placeholders.emptyAttributesList.action")),image:(0,Ce.jF)().emptyList,imageSize:"tiny","data-testid":"".concat(D,"-empty-placeholder")})),!O&&se.tZ.attributeSettings.attributeSelection.showShareAttributesHint(s)?Z.createElement(R.kW,null,Z.createElement(L.c,{i18nKey:"applications:edit.sections.attributes.selection.attributeComponentHint"},"Manage the user attributes you want to share with this application via",Z.createElement(R.rU,{external:!1,onClick:function(){h.m.push(b.$.getPaths().get("OIDC_SCOPES"))}}," OpenID Connect Scopes."),"You can map additional attributes under",Z.createElement(R.rU,{external:!1,onClick:function(){h.m.push(b.$.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",St.Q.OIDC))}}," Attribute."))):Z.createElement(R.kW,null,Z.createElement(L.c,{i18nKey:"applications:edit.sections.attributes.selection.attributeComponentHintAlt"},"Manage the user attributes you want to share with this application. You can add new attributes and mappings by navigating to",Z.createElement(R.rU,{external:!1,onClick:function(){h.m.push(b.$.getPaths().get("LOCAL_CLAIMS"))}}," Attribute."))))),s.localDialect?Z.createElement(jt,{selectedClaims:a,setSelectedClaims:X,setInitialSelectedClaims:r,showAddModal:oe,setShowAddModal:le,availableClaims:se.tZ.attributeSettings.attributeSelection.getClaims(t),setAvailableClaims:n,createMapping:p,removeMapping:m,updateMappings:w,"data-testid":"".concat(D,"-wizard")}):Z.createElement(It.K,{selectedExternalClaims:l,setSelectedExternalClaims:ee,setInitialSelectedExternalClaims:c,showAddModal:oe,setShowAddModal:le,availableExternalClaims:se.tZ.attributeSettings.attributeSelection.getExternalClaims(i),setAvailableExternalClaims:o,"data-testid":"".concat(D,"-wizard-other-dialects")}),(Pe=t.find((function(e){return e.claimURI===A})),Z.createElement(R.cV,{onClose:function(){return de(!1)},type:"negative",open:ue,primaryAction:M("common:confirm"),secondaryAction:M("common:cancel"),onSecondaryActionClick:function(){de(!1)},onPrimaryActionClick:function(){Ne(me),de(!1)},"data-testid":"".concat(D,"-delete-confirmation-modal"),closeOnDimmerClick:!1},Z.createElement(R.cV.Header,{"data-testid":"".concat(D,"-delete-confirmation-modal-header")},M("applications:confirmations.removeApplicationUserAttribute.header")),Z.createElement(R.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(D,"-delete-confirmation-modal-message")},M("applications:confirmations.removeApplicationUserAttribute.subHeader")),Z.createElement(R.cV.Content,{"data-testid":"".concat(D,"-delete-confirmation-modal-content")},Z.createElement(L.c,{i18nKey:"applications:confirmations.removeApplicationUserAttribute.content",i18nOptions:{default:null==Pe?void 0:Pe.displayName}},"If you remove this, the subject attribute will be set to the ",Z.createElement("strong",null,null==Pe?void 0:Pe.displayName)))))):null};qt.defaultProps={"data-testid":"application-attribute-selection"};var Gt=n(12638),Bt=n(35407);function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Wt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Wt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Wt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xt(e){return function(e){if(Array.isArray(e))return en(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||Jt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var tn=function(e){var t=e.claims,n=e.externalClaims,i=e.externalClaimsGroupedByScopes,a=e.setExternalClaimsGroupedByScopes,o=e.setExternalClaims,l=e.unfilteredExternalClaimsGroupedByScopes,r=e.setUnfilteredExternalClaimsGroupedByScopes,c=e.selectedExternalClaims,s=e.selectedDialect,u=e.setSelectedExternalClaims,d=e.selectedSubjectValue,p=e.claimConfigurations,m=e.defaultSubjectAttribute,f=e.readOnly,v=e.isUserAttributesLoading,g=e.setUserAttributesLoading,E=e.onlyOIDCConfigured,y=e.appVersion,A=e["data-testid"],S=e["data-componentid"],I=(0,U.$)().t,O=(0,R.fQ)().getLink,w="openid",P=Yt((0,Z.useState)([]),2),T=P[0],N=P[1],j=Yt((0,Z.useState)([]),2),D=j[0],M=j[1],x=Yt((0,Z.useState)([]),2),F=x[0],V=x[1],H=Yt((0,Z.useState)(""),2),z=H[0],q=H[1],G=Yt((0,Z.useState)(!1),2),B=G[0],W=G[1],$=(0,Z.useRef)(!1),Q=(0,_.v9)((function(e){return e.config})),K=Yt((0,Z.useState)(n),1)[0],X=Yt((0,Z.useState)([w]),2),Y=X[0],J=X[1],ee=(0,_.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.applications}));(0,Z.useEffect)((function(){var e,t=Xt(D);null==p||null===(e=p.claimMappings)||void 0===e||e.map((function(e){if(!D.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}))){var n=T.find((function(t){return(null==t?void 0:t.mappedLocalClaimURI)===e.localClaim.uri}));n&&t.push(n)}})),u(t),M(t)}),[p]),(0,Z.useEffect)((function(){if(0!=l.length){var e=[w];l.map((function(t){t.selected&&""!==t.name&&e.push(t.name)})),J(e)}}),[l]),(0,Z.useEffect)((function(){B&&p&&(T.length>0||c.length>0)&&g(!1)}),[T,p,B]),(0,Z.useEffect)((function(){n&&N(Xt(se.tZ.attributeSettings.attributeSelection.getExternalClaims(n)))}),[n]),(0,Z.useEffect)((function(){c&&M(Xt(c))}),[c]),(0,Z.useEffect)((function(){$.current||(W(!1),re(),$.current=!0)}),[p]);var te,ne=function(e,t){var n=Xt(l);n.forEach((function(n){n.claims.forEach((function(n){n.claimURI===e&&(n.mandatory=t)}))})),a(n),r(n),le(z)},ie=function(e,t){var n=Xt(l);n.forEach((function(n){var i=!1;n.claims.forEach((function(n){n.claimURI===e&&(n.requested=t),n.requested&&(i=!0)})),n.selected=i})),a(n),r(n),le(z)},ae=function(e,t){var n;null===(n=Xt(l).find((function(e){if(e.name===t.value)return e.selected=t.checked,e})))||void 0===n||n.claims.map((function(e){ie(e.claimURI,t.checked),t.checked||ne(e.claimURI,t.checked)}))},oe=function(e){var t;if("CUSTOM"===p.dialect){var n,i=null===(n=p.claimMappings.find((function(t){var n;return(null==t||null===(n=t.localClaim)||void 0===n?void 0:n.uri)===e})))||void 0===n?void 0:n.applicationClaim;if(i){var a=p.requestedClaims.find((function(e){var t;return(null==e||null===(t=e.claim)||void 0===t?void 0:t.uri)===i}));if(a)return a.mandatory}}return null===(t=p.requestedClaims.find((function(t){var n;return(null==t||null===(n=t.claim)||void 0===n?void 0:n.uri)===e})))||void 0===t?void 0:t.mandatory},le=function(e){if(""!==e){var t=l.filter((function(t){var n,i;return-1!==(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(i=t.displayName)||void 0===i?void 0:i.toLowerCase().indexOf(e.toLowerCase()))})),n=Xt(l),i=[],o=[];n.forEach((function(n){var a=n.claims.filter((function(t){var n,i,a,o;return-1!==(null===(n=t.claimURI)||void 0===n?void 0:n.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(i=t.claimDialectURI)||void 0===i?void 0:i.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(a=t.localClaimDisplayName)||void 0===a?void 0:a.toLowerCase().indexOf(e.toLowerCase()))||-1!==(null===(o=t.mappedLocalClaimURI)||void 0===o?void 0:o.toLowerCase().indexOf(e.toLowerCase()))}));if(void 0!==a&&0!==a.length){i.includes(n.name)||i.push(n.name);var l=Qt(Qt({},n),{},{claims:a});o.push(l)}t.map((function(e){e.name===n.name&&0===a.length&&o.push(n)}))})),a(o),V(i)}},re=function(){var e;g(!0);var i,a,l=(a=[],"CUSTOM"===(null==p?void 0:p.dialect)?null===(i=p.claimMappings)||void 0===i||i.map((function(e){a.push(e.localClaim.uri)})):"LOCAL"===(null==p?void 0:p.dialect)&&p.requestedClaims.map((function(e){a.push(e.claim.uri)})),a),r=[],c=[];se.tZ.attributeSettings.attributeSelection.getExternalClaims(n).map((function(e){if(l.includes(e.mappedLocalClaimURI)){var t=Qt(Qt({},e),{},{mandatory:oe(e.mappedLocalClaimURI),requested:!0});r.push(t)}else c.push(e)}));var s=Xt(D);null==p||null===(e=p.claimMappings)||void 0===e||e.map((function(e){null==t||t.map((function(t){if(e.localClaim.uri===t.claimURI){var n={claimDialectURI:t.dialectURI,claimURI:t.claimURI,id:t.id,localClaimDisplayName:t.displayName,mandatory:t.mandatory,mappedLocalClaimURI:t.claimURI,requested:t.requested};r.find((function(t){var n;return(null==t?void 0:t.mappedLocalClaimURI)===(null==e||null===(n=e.localClaim)||void 0===n?void 0:n.uri)}))||r.push(n)}}))})),M(s),u(r),N(c),o(c.concat(r)),W(!0)},ce=function(e){var t=!1;return null==K||K.map((function(n){n.mappedLocalClaimURI!==e.mappedLocalClaimURI&&e.mappedLocalClaimURI!==m||(t=!0)})),t},ue=function(e){return e.claims.map((function(e){return e.mappedLocalClaimURI})).includes(d)&&d!==m},de=function(e){var t=e.claims.find((function(e){return e.mappedLocalClaimURI==d})).localClaimDisplayName;return t.charAt(0).toUpperCase()+t.slice(1)},pe=function(e){var t;return Z.createElement(Gt.Z,{image:!0,as:"h6",className:"header-with-icon","data-testid":"".concat(A,"-item-heading"),"data-componentId":"".concat(S,"-item-heading")},Z.createElement(R.JT,{image:Z.createElement(R.Xo,{name:e.displayName,size:"mini","data-testid":"".concat(A,"-item-image-inner"),"data-componentId":"".concat(S,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(A,"-item-image"),"data-componentId":"".concat(S,"-item-image")}),""===e.name?Z.createElement(Gt.Z.Content,{className:"align-self-center"},Z.createElement(R.kW,{warning:!0,popup:!0,compact:!0},I("applications:edit.sections.attributes.selection.scopelessAttributes.hint")),e.displayName,Z.createElement(Gt.Z.Subheader,null," "+(null!==(t=e.description)&&void 0!==t?t:""))):Z.createElement(Gt.Z.Content,{className:ue(e)?"align-self-center":null},ue(e)&&Z.createElement(R.kW,{warning:!0,popup:!0,compact:!0},Z.createElement(L.c,{i18nKey:"applications:edit.sections.attributes.selection.subjectAttributeSelectedHint",tOptions:{subjectattribute:de(e)}})),e.displayName,Z.createElement(Gt.Z.Subheader,null,Z.createElement(R.EK,{withBackground:!0},e.name))))},me=function(e){return Z.createElement($e.Z,{singleLine:!0,compact:!0,"data-testid":"".concat(A,"-list"),"data-componentId":"".concat(S,"-list"),fixed:!0},Z.createElement($e.Z.Header,{className:"table-header-oidc-user-attribute"},Z.createElement($e.Z.Row,null,Z.createElement($e.Z.HeaderCell,{width:"1"}),Z.createElement($e.Z.HeaderCell,{width:"10"},I("applications:edit.sections.attributes.selection.mappingTable.columns.attribute")),Z.createElement($e.Z.HeaderCell,{textAlign:"center",width:"4"},I("applications:edit.sections.attributes.selection.mappingTable.columns.requested")),Z.createElement($e.Z.HeaderCell,{width:"4"},I("applications:edit.sections.attributes.selection.mappingTable.columns.mandatory"),Z.createElement(R.kW,{icon:"info circle",popup:!0},I("applications:edit.sections.attributes.selection.mandatoryAttributeHint",{productName:Q.ui.productName}))))),Z.createElement($e.Z.Body,null,Z.createElement(Z.Fragment,null,e.map((function(e){return Z.createElement(Nt,{key:e.id,"data-testid":"".concat(A,"-").concat(e.claimURI),claimURI:e.claimURI,displayName:e.claimURI,mappedURI:e.mappedLocalClaimURI,localDialect:s.localDialect,initialMandatory:d===e.mappedLocalClaimURI&&!E||e.mandatory,selectMandatory:ne,selectRequested:ie,initialRequested:e.requested,readOnly:d===e.mappedLocalClaimURI&&!E||!ce(e)||f,localClaimDisplayName:e.localClaimDisplayName,subject:d===e.mappedLocalClaimURI&&d!==m,isOIDCMapping:!ce(e),onlyOIDCConfigured:E})})))))},fe=function(e){var t=Xt(F);null!=F&&F.includes(e.name)?t=t.filter((function(t){return t!==e.name})):t.push(e.name),V(t)},ve=function(e){return[{checked:e.selected,defaultChecked:e.selected,disabled:ue(e),onChange:ae,popoverText:e.selected?I("applications:edit.sections.attributes.selection.mappingTable.listItem.actions.removeScopeRequested"):I("applications:edit.sections.attributes.selection.mappingTable.listItem.actions.makeScopeRequested"),type:"checkbox popup",value:e.name}]};return!v&&p&&B?Z.createElement(Z.Fragment,null,Z.createElement(he.Z.Row,{"data-testid":A,"data-componentid":S},Z.createElement(he.Z.Column,{computer:16,tablet:16,largeScreen:12,widescreen:12},Z.createElement(R.X6,{as:"h4"},I("applications:edit.sections.attributes.selection.heading")),Z.createElement(R.X6,{as:"h6",color:"grey"},I("applications:edit.sections.attributes.selection.description"),(te=O("develop.applications.editApplication.oidcApplication.attributes.learnMore"),Z.createElement(R.eb,{link:te},I("common:learnMore")))),Z.createElement(Z.Fragment,null,Z.createElement(he.Z.Row,{className:"user-role-edit-header-segment clearing attributes"},Z.createElement($e.Z,{"data-testid":"".concat(A,"-action-bar"),"data-componentid":"".concat(S,"-action-bar"),basic:"very",compact:!0},Z.createElement($e.Z.Body,null,Z.createElement($e.Z.Row,null,Z.createElement($e.Z.Cell,{collapsing:!0,width:"16"},Z.createElement(Qe.Z,{icon:Z.createElement(k.Z,{name:"search"}),iconPosition:"left",onChange:function(e){var t=e.target.value;q(t),t.length>0?le(t):(V([]),a(l))},placeholder:I("applications:edit.sections.attributes.selection.mappingTable.searchPlaceholder"),floated:"left",size:"small","data-testid":"".concat(A,"-search"),"data-componentid":"".concat(S,"-search")})),Z.createElement($e.Z.Cell,{textAlign:"right"}))))),(0,C.cr)(ee,"applications.accessTokenAttributes")&&Bt.y.isAppVersionAllowed(y,Ie.j.APP_VERSION_2)&&Z.createElement(R.v0,{type:"info",content:Z.createElement(L.c,{i18nKey:I("applications:edit.sections.attributes.selection.note")},"Please note that the user attributes added from this section will only be included in the ID token.")}),Z.createElement(he.Z.Row,{className:"mb-5"},0!==i.length?Z.createElement(R.el,{fluid:!0,"data-testid":"".concat(A,"-oidc-scopes"),"data-componentid":"".concat(S,"-oidc-scopes"),viewType:"table-view"},i.map((function(e){if(""!==e.name)return Z.createElement(Z.Fragment,{key:e.name},Z.createElement(R.el.Title,{id:e.name,"data-testid":"".concat(A,"-").concat(e.name,"-title"),"data-componentid":"".concat(S,"-").concat(e.name,"\n                                                                                    -title"),active:(null==F?void 0:F.includes(e.name))||!1,accordionIndex:e.name,onClick:function(){return fe(e)},content:pe(e),hideChevron:!1,actions:ve(e),disabled:f}),Z.createElement(R.el.Content,{active:(null==F?void 0:F.includes(e.name))||!1,"data-testid":"".concat(A,"-").concat(e.name,"-content"),"data-componentid":"".concat(S,"-").concat(e.name,"\n                                                                                    -content"),children:me(e.claims),disabled:f}))}))):Z.createElement(R.$J,{image:(0,Ce.jF)().emptySearch,imageSize:"tiny",title:I("applications:edit.sections.attributes.emptySearchResults.title"),subtitle:[I("applications:edit.sections.attributes.emptySearchResults.subtitles.0",{searchQuery:z}),I("applications:edit.sections.attributes.emptySearchResults.subtitles.1")],"data-testid":"".concat(A,"-empty-search-placeholder")})),Z.createElement(he.Z.Row,null,Z.createElement(R.el,{fluid:!0,"data-testid":"".concat(A,"-oidc-scopes"),"data-componentid":"".concat(S,"-oidc-scopes"),viewType:"table-view"},i.map((function(e){if(""===e.name)return Z.createElement(Z.Fragment,{key:e.name},Z.createElement(R.el.Title,{id:e.name,"data-testid":"".concat(A,"-").concat(e.name,"-title"),"data-componentid":"".concat(S,"-").concat(e.name,"\n                                                                    -title"),active:(null==F?void 0:F.includes(e.name))||!1,accordionIndex:e.name,onClick:function(){return fe(e)},content:pe(e),hideChevron:!1,actions:ve(e),disabled:f}),Z.createElement(R.el.Content,{active:(null==F?void 0:F.includes(e.name))||!1,"data-testid":"".concat(A,"-").concat(e.name,"-content"),"data-componentid":"".concat(S,"-").concat(e.name,"\n                                                                    -content"),children:me(e.claims),disabled:f}))}))))),Z.createElement(R.kW,null,Z.createElement(L.c,{i18nKey:"applications:edit.sections.attributes.selection.attributeComponentHint"},"Use",Z.createElement(R.rU,{external:!1,onClick:function(){h.m.push(b.$.getPaths().get("OIDC_SCOPES"))}}," OpenID Connect Scopes"),"to manage user attribute to a scope. You can add new attributes by navigating to",Z.createElement(R.rU,{external:!1,onClick:function(){h.m.push(b.$.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",St.Q.OIDC))}},"Attributes."))))),Z.createElement(he.Z.Row,{className:"mt-5"},Z.createElement(he.Z.Column,null,Z.createElement(he.Z.Row,null,Z.createElement(be.Z,null,Z.createElement(be.Z.Field,null,Z.createElement("div",{className:"display-flex"},Z.createElement(R.OR,{className:"copy-input spaced",value:Y.join(" "),"data-componentid":"".concat(S,"-selected-scope-area")}))))))),Z.createElement(R.kW,null,Z.createElement(L.c,{i18nKey:"applications:edit.sections.attributes.selection.selectedScopesComponentHint"},"Request these scopes from your application to retrieve the user attributes you selected."),O("develop.applications.editApplication.attributeManagement.manageOIDCScopes")&&Z.createElement(R.eb,{link:O("develop.applications.editApplication.attributeManagement.manageOIDCScopes")},I("applications:edit.sections.attributes.selection.howToUseScopesHint")))):null};tn.defaultProps={"data-componentid":"application-attribute-selection-oidc","data-testid":"application-attribute-selection-oidc"};var nn=n(46501);function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return on(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ln=function(e){var t,n=e.initialMappings,i=e.readOnly,a=e.onChange,o=e["data-testid"],l=(0,U.$)().t,r=(0,re.Z)().UIConfig,c=(0,_.I0)(),s=an((0,Z.useState)(),2),u=s[0],d=s[1];return(0,Z.useEffect)((function(){(0,nn.Sd)(null).then((function(e){if(200===e.status){var t=e.data;d(t.Resources)}})).catch((function(){c((0,I.V_)({description:l("roles:notifications.fetchRoles.genericError.description"),level:S.QU.ERROR,message:l("roles:notifications.fetchRoles.genericError.message")}))}))}),[n]),Z.createElement(Z.Fragment,null,(null==r||null===(t=r.legacyMode)||void 0===t?void 0:t.roleMapping)&&Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:10},Z.createElement(R.X6,{as:"h5"},l("applications:edit.sections.attributes.roleMapping.heading")),Z.createElement(O.e9,{bottomMargin:!1,data:n?n.map((function(e){return{key:e.localRole.includes("/")?e.localRole.split("/")[1]:e.localRole,value:e.applicationRole}})):[],keyType:"dropdown",keyData:u?u.filter((function(e){return!(e.displayName.includes("Application/")||e.displayName.includes("Internal/"))})).map((function(e){return{id:e.displayName,value:e.displayName}})):[],keyName:l("applications:edit.sections.attributes.forms.fields.dynamic.localRole.label"),valueName:l("applications:edit.sections.attributes.forms.fields.dynamic.applicationRole.label"),keyRequiredMessage:l("applications:edit.sections.attributes.forms.fields.dynamic.localRole.validations.empty"),valueRequiredErrorMessage:l("applications:edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.empty"),duplicateKeyErrorMsg:l("applications:edit.sections.attributes.forms.fields.dynamic.applicationRole.validations.duplicate"),readOnly:i,"data-testid":"".concat(o,"-dynamic-field"),listen:function(e){if(a){var t,n=null!==(t=null==e?void 0:e.map((function(e){return{applicationRole:e.value,localRole:e.key.includes("/")?e.key:"Internal/"+e.key}})))&&void 0!==t?t:[];a(n)}}}))))};function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function un(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=rn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e){return function(e){if(Array.isArray(e))return fn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||mn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){if(e){if("string"==typeof e)return fn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}ln.defaultProps={"data-testid":"application-role-mapping"};var vn="http://wso2.org/claims/userid",gn=function(e){var t,n,i,a,o,l=e.appId,r=e.appVersion,c=e.applicationTemplateId,s=e.technology,u=e.featureConfig,d=e.claimConfigurations,m=e.onlyOIDCConfigured,f=e.onUpdate,v=e.readOnly,g=e.inboundProtocolConfig,b=e["data-componentid"],h=(0,U.$)().t,E=(0,_.I0)(),y=(0,p.EV)(null==u||null===(t=u.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),A=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.enableIdentityClaims})),C=pn((0,Z.useState)(""),2),O=C[0],w=C[1],P=pn((0,Z.useState)([]),2),T=P[0],L=P[1],j=pn((0,Z.useState)(),2),k=j[0],M=j[1],x=pn((0,Z.useState)(null),2),V=x[0],H=x[1],z=pn((0,Z.useState)(null),2),q=z[0],G=z[1],B=pn((0,Z.useState)([]),2),W=B[0],$=B[1],Q=pn((0,Z.useState)(!0),2),K=Q[0],X=Q[1],Y=pn((0,Z.useState)([]),2),J=Y[0],ee=Y[1],te=pn((0,Z.useState)([]),2),ne=te[0],ie=te[1],ae=pn((0,Z.useState)([]),2),oe=ae[0],le=ae[1],re=pn((0,Z.useState)(!0),2),ue=re[0],de=re[1],pe=pn((0,Z.useState)([]),2),me=pe[0],fe=pe[1],ge=pn((0,Z.useState)([]),2),be=ge[0],Ee=ge[1],ye=pn((0,Z.useState)(!1),2),Ae=ye[0],Ce=ye[1],Se=pn((0,Z.useState)([]),2),Ie=Se[0],Oe=Se[1],Re=pn((0,Z.useState)(!1),2),we=Re[0],Pe=Re[1],Te=pn((0,Z.useState)(!1),2),Ne=Te[0],Ze=Te[1],Ue=pn((0,Z.useState)(),2),Le=Ue[0],_e=Ue[1],je=pn((0,Z.useState)(),2),ke=je[0],De=je[1],Me=pn((0,Z.useState)(null!==(n=null==d||null===(i=d.role)||void 0===i?void 0:i.mappings)&&void 0!==n?n:[]),2),xe=Me[0],Fe=Me[1],Ve=pn((0,Z.useState)(!0),2),He=Ve[0],ze=Ve[1],qe=pn((0,Z.useState)(void 0),2),Ge=qe[0],Be=qe[1],$e=ce.l.getInstance(),Qe=(0,ut.KD)(),Xe=Qe.data,Ye=Qe.isLoading,Je=Qe.isValidating,tt=pn((0,Z.useState)([]),2),nt=tt[0],it=tt[1];(0,Z.useEffect)((function(){var e=oe.filter((function(e){return 0!==J.filter((function(t){return t.claimURI===e.mappedLocalClaimURI})).length}));e.forEach((function(e){var t=e.mappedLocalClaimURI,n=J.filter((function(e){return e.claimURI===t}));n&&n[0]&&n[0].displayName&&(e.localClaimDisplayName=n[0].displayName)})),ie(e)}),[J,oe]),(0,Z.useEffect)((function(){if(!Ye&&!Je)return H(Xe),ct(),pt(),void ft()}),[Ye,Je,Xe]),(0,Z.useEffect)((function(){rt()}),[ne]),(0,Z.useEffect)((function(){(0,N.Z)(T)||(X(!0),m?mt("http://wso2.org/oidc/claim"):(X(!1),mt(O)))}),[m,T]),(0,Z.useEffect)((function(){if(Le){var e=gt();null!==e&&Et(e)}}),[Le]),(0,Z.useEffect)((function(){"CUSTOM"===(null==d?void 0:d.dialect)&&Pe(!0)}),[d]);var at,ot=function(e){var t=ne.find((function(t){return t.claimURI===e}));if(t){var n,i=null===(n=d.requestedClaims.find((function(e){var n;return(null==e||null===(n=e.claim)||void 0===n?void 0:n.uri)===t.mappedLocalClaimURI})))||void 0===n?void 0:n.mandatory;if(void 0!==i)return i}return!1},lt=function(e){var t=ne.find((function(t){return t.claimURI===e}));return!!t&&void 0!==d.requestedClaims.find((function(e){var n;return(null==e||null===(n=e.claim)||void 0===n?void 0:n.uri)===t.mappedLocalClaimURI}))},rt=function(){var e=dn(ne),t=[],n=[];if(null!=V&&0!==V.length&&0!==J.length){V.map((function(i){if("openid"!==i.name){var a=[],o=!1;i.claims.map((function(t){e.map((function(e){if(t===e.claimURI){var i=sn(sn({},e),{},{mandatory:ot(e.claimURI),requested:lt(e.claimURI)});i.requested&&(o=!0),a.push(i),n.push(e)}}))}));var l=sn(sn({},i),{},{claims:a,selected:o});t.push(l)}}));var i=e.filter((function(e){return!n.includes(e)})),a=[],o=!1;i.map((function(e){var t=lt(e.claimURI);a.push(sn(sn({},e),{},{mandatory:ot(e.claimURI),requested:lt(e.claimURI)})),o=t})),t.push({claims:a,description:h("applications:edit.sections.attributes.selection.scopelessAttributes.description"),displayName:h("applications:edit.sections.attributes.selection.scopelessAttributes.displayName"),name:h("applications:edit.sections.attributes.selection.scopelessAttributes.name"),selected:o})}$((0,et.Z)(t,"name")),G((0,et.Z)(t,"name")),de(!1)},ct=function(){ze(!0);var e={"exclude-identity-claims":!A,filter:null,limit:null,offset:null,sort:null};(0,We.WN)(e).then((function(e){ee(e)})).catch((function(){E((0,I.V_)({description:h("claims:local.notifications.fetchLocalClaims.genericError.description"),level:S.QU.ERROR,message:h("claims:local.notifications.fetchLocalClaims.genericError.message")}))})).finally((function(){ze(!1)}))},pt=function(){(0,We.jp)(null).then((function(e){L(e)})).catch((function(){E((0,I.V_)({description:h("claims:dialects.notifications.fetchDialects.genericError.description"),level:S.QU.ERROR,message:h("claims:dialects.notifications.fetchDialects.genericError.message")}))}))},mt=function(e){if(null!==e){var t=(a=e,o="",T.map((function(e){e.dialectURI===a&&(o=e.id)})),o),n=!0;e!==O&&(n=!1),M({dialectURI:e,id:t,localDialect:n}),n||null!==(i=t)&&(0,We.gR)(i,null).then((function(e){X(!0),de(!0),le(e)})).catch((function(){E((0,I.V_)({description:h("claims:external.notifications.fetchExternalClaims.genericError.description"),level:S.QU.ERROR,message:h("claims:external.notifications.fetchExternalClaims.genericError.message")}))})).finally((function(){X(!1)}))}var i,a,o},ft=function(){var e;(0,N.Z)(O)&&w((e="http://wso2.org/claims",(0,We.WN)(null).then((function(t){var n=t.slice(0,1)[0].dialectURI;(0,N.Z)(n)||(e=n)})),e))},vt=function(){var e=[];if(k.localDialect){if(we){var t=!1,n=[],i=dn(Ie);if(Ie.map((function(e){if(e&&e.localClaim){var i={key:null==e?void 0:e.localClaim.uri,text:Z.createElement(st,{key:e.localClaim.id,displayName:e.applicationClaim?e.applicationClaim:e.localClaim.uri,claimURI:e.localClaim.uri,value:e.applicationClaim}),value:e.applicationClaim};e.localClaim.uri===vn&&(t=!0),n.push(i)}})),0===i.length||!t){var a=J.filter((function(e){return e.claimURI===vn}))[0];if(null!=a){var o={key:a.claimURI,text:Z.createElement(st,{key:a.id,displayName:a.displayName,claimURI:a.claimURI,value:a.claimURI}),value:a.claimURI};n.push(o)}}return(0,et.Z)(n,"key")}var l=!1;if(me.map((function(t){var n={key:t.claimURI,text:Z.createElement(st,{key:t.id,displayName:t.displayName,claimURI:t.claimURI,value:t.claimURI}),value:t.claimURI};e.push(n),t.claimURI===vn&&(l=!0)})),!l){var r=J.filter((function(e){return e.claimURI===vn}))[0];if(null!=r){var c={key:r.claimURI,text:Z.createElement(st,{key:r.id,displayName:r.displayName,claimURI:r.claimURI,value:r.claimURI}),value:r.claimURI};e.push(c)}}}else{var s=!1;if(W.map((function(t){null==t||t.claims.map((function(t){if(t.requested){var n={key:t.claimURI,text:Z.createElement(st,{key:t.id,displayName:t.localClaimDisplayName,claimURI:t.claimURI,value:t.mappedLocalClaimURI}),value:t.mappedLocalClaimURI};e.push(n),t.mappedLocalClaimURI===vn&&(s=!0)}}))})),!s){var u=[].concat(dn(ne),dn(be)).filter((function(e){return e.mappedLocalClaimURI===vn}))[0];if(null!=u){var d={key:u.claimURI,text:Z.createElement(st,{key:u.id,displayName:u.localClaimDisplayName,claimURI:u.claimURI,value:u.mappedLocalClaimURI}),value:u.mappedLocalClaimURI};e.push(d)}}}return(0,et.Z)(e,"value")},gt=function(){var e=[],t=!0;return Ze(!1),dn(Ie).map((function(n){if(n.addMapping)if((0,N.Z)(null==n?void 0:n.applicationClaim))Ze(!0),t=!1;else{var i,a={applicationClaim:null==n?void 0:n.applicationClaim,localClaim:{uri:null==n||null===(i=n.localClaim)||void 0===i?void 0:i.uri}};e.push(a)}})),t?e:null},bt=function(e){var t,n,i=null==e?void 0:e.subject.includeUserDomain;return m&&"string"==typeof(null==e||null===(t=e.subject)||void 0===t?void 0:t.claim)&&(null==e||null===(n=e.subject)||void 0===n?void 0:n.claim)===vn&&(i=!1),i},ht=function(e){var t,n,i=null==e?void 0:e.subject.includeTenantDomain;return m&&"string"==typeof(null==e||null===(t=e.subject)||void 0===t?void 0:t.claim)&&(null==e||null===(n=e.subject)||void 0===n?void 0:n.claim)===vn&&(i=!1),i},Et=function(e){var t,n,i,a=!1,o=[],r=null==Le||null===(t=Le.subject)||void 0===t?void 0:t.claim;if(k.localDialect?me.map((function(t){var n,i,a,l,c=e.length>0?(n=t.claimURI,l=n,(i=e).length>0&&(l=null===(a=i.find((function(e){var t;return(null==e||null===(t=e.localClaim)||void 0===t?void 0:t.uri)===n})))||void 0===a?void 0:a.applicationClaim),l):null;if(c){if(t.requested){var s={claim:{uri:c},mandatory:r&&c===r.toString()?se.tZ.attributeSettings.makeSubjectMandatory:t.mandatory};o.push(s)}}else{var u={claim:{uri:t.claimURI},mandatory:r&&t.claimURI===r.toString()?se.tZ.attributeSettings.makeSubjectMandatory:t.mandatory};o.push(u)}})):W.map((function(e){null==e||e.claims.map((function(e){if(e.requested){var t={claim:{uri:e.mappedLocalClaimURI},mandatory:e.mandatory};o.find((function(e){return e.claim.uri===t.claim.uri}))||o.push(t)}}))})),e.findIndex((function(e){return e.localClaim.uri===vn}))<0&&r&&r.toString()===vn&&(a=!0),e.length>0&&a){var c={applicationClaim:vn,localClaim:{uri:vn}};e.push(c)}var u={claimConfiguration:{claimMappings:e.length>0?e:[],dialect:e.length>0?"CUSTOM":"LOCAL",requestedClaims:o,role:{claim:{uri:null==Le?void 0:Le.role.claim},includeUserDomain:null==Le?void 0:Le.role.includeUserDomain,mappings:xe.length>0?xe:[]},subject:{claim:{uri:null==Le?void 0:Le.subject.claim},includeTenantDomain:ht(Le),includeUserDomain:bt(Le),mappedLocalSubjectMandatory:null==Le?void 0:Le.subject.mappedLocalSubjectMandatory,useMappedLocalSubject:null==Le?void 0:Le.subject.useMappedLocalSubject}}},d=null==Le?void 0:Le.oidc;(0,N.Z)(u.claimConfiguration.claimMappings)&&delete u.claimConfiguration.claimMappings,(0,N.Z)(u.claimConfiguration.role.mappings)&&delete u.claimConfiguration.role.mappings,se.tZ.attributeSettings.roleMapping||delete u.claimConfiguration.role,se.tZ.excludeSubjectClaim&&m&&delete u.claimConfiguration.subject;var p;null!=(null==d||null===(n=d.clientAuthentication)||void 0===n?void 0:n.tokenEndpointAuthMethod)&&"private_key_jwt"==(null==d||null===(i=d.clientAuthentication)||void 0===i?void 0:i.tokenEndpointAuthMethod)||(null==d||null===(p=d.clientAuthentication)||void 0===p||delete p.tokenEndpointAllowReusePvtKeyJwt);var v=function(){E((0,I.V_)({description:h("applications:notifications.updateClaimConfig.genericError.description"),level:S.QU.ERROR,message:h("applications:notifications.updateClaimConfig.genericError.message")}))},g=function(){f(l),E((0,I.V_)({description:h("applications:notifications.updateClaimConfig.success.description"),level:S.QU.SUCCESS,message:h("applications:notifications.updateClaimConfig.success.message")}))};if(!m||u.claimConfiguration.subject.claim.uri===vn||u.claimConfiguration.requestedClaims.map((function(e){return e.claim.uri})).includes(u.claimConfiguration.subject.claim.uri)){var b=!(null==s||!s.find((function(e){return e.type===F.AI.OAUTH2})));(0,D.aA)(l,u).then((function(){b?(0,D.lp)(l,d,F.AI.OIDC).then(g).catch(v):g()})).catch(v)}else E((0,I.V_)({description:h("applications:notifications.updateClaimConfig.mistmatchAlternativesubjectIdentifierError.description"),level:S.QU.ERROR,message:h("applications:notifications.updateClaimConfig.mistmatchAlternativesubjectIdentifierError.message")}))},yt=function(e){e?(Pe(!0),Ce(!1)):(Pe(!1),Ce(!1))};return K||!k||He&&(0,N.Z)(ne)||ue?Z.createElement(R.pJ,{padded:"very"},Z.createElement(R.pO,{inline:"centered",active:!0})):Z.createElement(R.pJ,{padded:"very"},Z.createElement(he.Z,{className:"claim-mapping"},Z.createElement("div",{className:"form-container with-max-width"},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:12},m?Z.createElement(tn,{claims:J,externalClaims:ne,externalClaimsGroupedByScopes:q,setExternalClaimsGroupedByScopes:G,unfilteredExternalClaimsGroupedByScopes:W,setUnfilteredExternalClaimsGroupedByScopes:$,setExternalClaims:ie,selectedExternalClaims:be,setSelectedExternalClaims:Ee,selectedDialect:k,selectedSubjectValue:ke,claimMapping:Ie,claimConfigurations:d,defaultSubjectAttribute:vn,readOnly:v||!y,isUserAttributesLoading:Ge,setUserAttributesLoading:Be,onlyOIDCConfigured:m,"data-testid":"".concat(b,"-attribute-selection-oidc"),"data-componentid":"".concat(b,"-attribute-selection-oidc"),appVersion:r}):Z.createElement(qt,{claims:J,setClaims:ee,externalClaims:ne,setExternalClaims:ie,selectedClaims:me,selectedExternalClaims:be,setSelectedClaims:fe,setSelectedExternalClaims:Ee,selectedDialect:k,selectedSubjectValue:ke,claimMapping:Ie,setClaimMapping:Oe,createMapping:function(e){if(k.localDialect){var t=dn(Ie);e.map((function(e){var n={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};t.some((function(t){return t.localClaim.uri===e.claimURI}))||t.push(n),Oe(t)}))}},removeMapping:function(e){var t,n=dn(Ie);n.map((function(n){n.localClaim.uri===e&&(t=n)})),t&&(n.splice(n.indexOf(t),1),Oe(n))},updateMappings:function(e,t){if(k.localDialect){var n=dn(Ie);e.map((function(e){var t={addMapping:!1,applicationClaim:"",localClaim:{displayName:e.displayName,id:e.id,uri:e.claimURI}};n.some((function(t){return t.localClaim.uri===e.claimURI}))||n.push(t)})),t.map((function(e){var t;n.map((function(n){n.localClaim.uri===e.claimURI&&(t=n)})),t&&n.splice(n.indexOf(t),1)})),Oe(n)}},getCurrentMapping:function(e){var t;return dn(Ie).map((function(n){n.localClaim.uri===e&&(t=n)})),t},updateClaimMapping:function(e,t,n){var i=dn(Ie),a={},o=[];i.forEach((function(i){i.localClaim.uri===e&&(i.applicationClaim=t),n&&(a[i.applicationClaim]?o.push(i.applicationClaim):a[i.applicationClaim]=!0)})),n&&it(o),Oe(i)},addToClaimMapping:function(e,t){var n=dn(Ie);n.forEach((function(n){n.localClaim.uri===e&&(n.addMapping=t)})),Oe(n)},claimConfigurations:d,claimMappingOn:we,defaultSubjectAttribute:vn,showClaimMappingRevertConfirmation:Ce,setClaimMappingOn:Pe,claimMappingError:Ne,readOnly:v||!y,isUserAttributesLoading:Ge,setUserAttributesLoading:Be,onlyOIDCConfigured:m,duplicatedMappingValues:nt,"data-testid":"".concat(b,"-attribute-selection")})))),!1===Ge?Z.createElement(he.Z,null,Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Ct,{dropDownOptions:function(){var e=[];if(e=vt(),m){var t=e.findIndex((function(e){return(null==e?void 0:e.value)===vn}));e=e.filter((function(e,n){return n!==t}))}return e}(),triggerSubmission:function(e){at=e},claimConfigurations:d,setSubmissionValues:_e,setSelectedValue:De,defaultSubjectAttribute:vn,initialRole:null==d?void 0:d.role,initialSubject:null==d?void 0:d.subject,claimMappingOn:we,readOnly:v||!y,technology:s,applicationTemplateId:c,onlyOIDCConfigured:m,oidcInitialValues:(0,dt.Z)(g,F.AI.OIDC)?g[F.AI.OIDC]:void 0,"data-testid":"".concat(b,"-advanced-attribute-settings-form")}))),Z.createElement(R.cV,{onClose:function(){return Ce(!1)},type:"warning",open:Ae,primaryAction:h("applications:edit.sections.attributes.selection.mappingTable.mappingRevert.confirmPrimaryAction"),secondaryAction:h("applications:edit.sections.attributes.selection.mappingTable.mappingRevert.confirmSecondaryAction"),onSecondaryActionClick:function(){return yt(!0)},onPrimaryActionClick:function(){return yt(!1)}},Z.createElement(R.cV.Header,null,h("applications:edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationHeading")),Z.createElement(R.cV.Message,{warning:!0},h("applications:edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationMessage")),Z.createElement(R.cV.Content,null,h("applications:edit.sections.attributes.selection.mappingTable.mappingRevert.confirmationContent"))),!v&&se.tZ.attributeSettings.roleMapping&&Z.createElement(ln,{onChange:Fe,initialMappings:null==d||null===(a=d.role)||void 0===a?void 0:a.mappings,readOnly:v||!y,"data-testid":"".concat(b,"-role-mapping")}),!v&&Z.createElement(p.di,{when:null==u||null===(o=u.applications)||void 0===o||null===(o=o.scopes)||void 0===o?void 0:o.update},Z.createElement(ve.Z,{hidden:!0}),Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Ke.Z,{primary:!0,size:"small",onClick:function(){$e.publish("application-user-attribute-click-update-button");var e=new Set(Ie.map((function(e){return e.applicationClaim})));we&&e.size!==Ie.length?E((0,I.V_)({description:h("applications:notifications.updateClaimConfig.error.description",{description:"Mapped user attributes cannot be duplicated."}),level:S.QU.ERROR,message:h("applications:notifications.updateClaimConfig.error.message")})):at()},"data-testid":"".concat(b,"-submit-button")},h("common:update")))))):null)};gn.defaultProps={"data-componentid":"application-attribute-settings"};var bn=n(89801),hn=n(37612),En=n(66132),yn=n(90375),An=n(34194);function Cn(e){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cn(e)}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function In(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Cn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Cn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Cn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var wn="application-general-details",Pn=function(e){var t,n,i,a=e.appId,o=e.name,l=e.description,r=e.discoverability,c=e.hiddenFields,s=e.imageUrl,u=e.accessUrl,d=e.onSubmit,p=e.readOnly,m=e.hasRequiredScope,f=e.isSubmitting,v=e.isManagementApp,g=e.application,E=e.isBrandingSectionHidden,y=e["data-testid"],A=(0,U.$)().t,C=(0,R.fQ)().getLink,S=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),I=null==S||null===(t=S.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.featureFlags,O=(0,_.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),w=On((0,Z.useState)(r),2),P=w[0],T=w[1],N=On((0,Z.useState)(b.$.DEFAULT_MY_ACCOUNT_STATUS),2),j=N[0],k=N[1],M=On((0,Z.useState)(!1),2),x=M[0],F=M[1],V=window.AppUtils.getConfig().organizationName,H=O===de.$B.SUBORGANIZATION,z=(0,D.pv)(!V&&(null===se.tZ||void 0===se.tZ||null===(n=se.tZ.advancedConfigurations)||void 0===n?void 0:n.showMyAccountStatus)),q=z.data,G=z.isLoading,B=(null==g||null===(i=g.advancedConfigurations)||void 0===i?void 0:i.fragment)||!1,W=(0,Z.useMemo)((function(){var e="";return Ie.j.FORM_FIELD_CONSTRAINTS.ACCESS_URL_ALLOWED_PLACEHOLDERS.forEach((function(t,n){e+=0==n?t:"|".concat(t)})),new RegExp(e,"g")}),[]),$=function(e){var t,n,i,o;d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({accessUrl:null===(t=e.accessUrl)||void 0===t?void 0:t.toString(),advancedConfigurations:{discoverableByEndUsers:e.discoverableByEndUsers},description:null===(n=e.description)||void 0===n?void 0:n.toString().trim(),id:a,name:null===(i=e.name)||void 0===i?void 0:i.toString()},!(null!=c&&c.includes("imageUrl"))&&{imageUrl:null===(o=e.imageUrl)||void 0===o?void 0:o.toString()}))};return(0,Z.useEffect)((function(){F((null==g?void 0:g.templateId)===Ie.j.M2M_APP_TEMPLATE_ID)}),[g]),(0,Z.useEffect)((function(){var e=b.$.DEFAULT_MY_ACCOUNT_STATUS;if(q){var t=q.value;t&&"false"===t&&(e=!1)}k(e)}),[G]),G?Z.createElement(R.pJ,{padded:"very"},Z.createElement(R.pO,{inline:"centered",active:!0})):Z.createElement(Se.l0,{id:wn,uncontrolledForm:!0,onSubmit:function(e){$(e)},initialValues:{accessUrl:u,description:l,name:o},validate:function(e){var t={accessUrl:void 0};return P&&!e.accessUrl&&(t.accessUrl=A("applications:forms.generalDetails.fields.accessUrl.validations.empty")),t}},Z.createElement(he.Z,null,Z.createElement(pt.l,{tabId:se.N0.GENERAL},v&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(R.v0,{type:"info",content:Z.createElement(Z.Fragment,null,A("applications:forms.generalDetails.managementAppBanner"),Z.createElement(R.eb,{link:C("develop.applications.managementApplication.learnMore")},A("common:learnMore")))}))),!S.systemAppsIdentifiers.includes(o)&&!B&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Input,{ariaLabel:"Application name",inputType:"name",name:"name",label:A("applications:forms.generalDetails.fields.name.label"),required:!0,placeholder:A("applications:forms.generalDetails.fields.name.placeholder"),value:o,readOnly:p,validation:function(e){return function(e){if(!e||!e.match(Ie.j.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:Ie.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,"data-testid":"".concat(y,"-application-name-input"),width:16}))),o!==Ie.j.MY_ACCOUNT_APP_NAME&&!B&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Textarea,{ariaLabel:"Application description",name:"description",label:A("applications:forms.generalDetails.fields.description.label"),required:!1,placeholder:A("applications:forms.generalDetails.fields.description.placeholder"),value:l,readOnly:p,validation:function(e){return function(e){if(!e||!e.match(Ie.j.FORM_FIELD_CONSTRAINTS.APP_DESCRIPTION_PATTERN))return"Please enter a valid input."}(e.toString().trim())},maxLength:300,minLength:3,"data-testid":"".concat(y,"-application-description-textarea"),width:16}))),!B&&!(null!=c&&c.includes("imageUrl"))&&Z.createElement(he.Z.Row,{columns:1,"data-componentid":"application-edit-general-details-form-image-url"},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Input,{ariaLabel:"Application image URL",inputType:"url",name:"imageUrl",label:A("applications:forms.generalDetails.fields.imageUrl.label"),required:!1,placeholder:A("applications:forms.generalDetails.fields.imageUrl.placeholder"),value:s,readOnly:p,"data-testid":"".concat(y,"-application-image-url-input"),maxLength:200,minLength:3,hint:A("applications:forms.generalDetails.fields.imageUrl.hint"),width:16}))),x||!j&&!V||H?null:Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Checkbox,{ariaLabel:"Make application discoverable by end users",name:"discoverableByEndUsers",required:!1,label:A("applications:forms.generalDetails.fields.discoverable.label"),initialValue:P,readOnly:p,"data-testid":"".concat(y,"-application-discoverable-checkbox"),listen:function(e){return T(e)},hint:Z.createElement(L.c,{i18nKey:g.templateId===Ie.j.MOBILE?"applications:forms.inboundOIDC.mobileApp.discoverableHint":"applications:forms.generalDetails.fields.discoverable.hint",tOptions:{myAccount:"My Account"}}," ",void 0===C("develop.applications.managementApplication.selfServicePortal")?Z.createElement("strong",{"data-testid":"application-name-assertion"},"My Account"):Z.createElement("strong",{className:"link pointing","data-testid":"application-name-assertion",onClick:function(){return window.open(C("develop.applications.managementApplication.selfServicePortal"),"_blank")}},"My Account")),width:16}))),!x&&!H&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},Z.createElement(Se.gN.Input,{ariaLabel:A("applications:forms.generalDetails.fields.accessUrl.ariaLabel"),inputType:"url",name:"accessUrl",label:A("applications:forms.generalDetails.fields.accessUrl.label"),required:P,placeholder:A("applications:forms.generalDetails.fields.accessUrl.placeholder"),value:u,readOnly:!m||p&&se.tZ.generalSettings.getFieldReadOnlyStatus(g,"ACCESS_URL"),validation:function(e){var t,n,i=null==e||null===(t=e.trim())||void 0===t?void 0:t.replace(W,"");return!i||mt.URLUtils.isURLValid(i,!0)&&An.I.url(i)||(n=A("applications:forms.generalDetails.fields.accessUrl.validations.invalid")),n},maxLength:Ie.j.FORM_FIELD_CONSTRAINTS.ACCESS_URL_MAX_LENGTH,minLength:Ie.j.FORM_FIELD_CONSTRAINTS.ACCESS_URL_MIN_LENGTH,"data-testid":"".concat(y,"-application-access-url-input"),hint:A("applications:forms.generalDetails.fields.accessUrl.hint"),width:16}))),Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:16},!E&&!x&&!B&&Z.createElement(ve.Z,null),!E&&!x&&Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{as:"h4"},A("applications:forms.generalDetails.sections.branding.title"),Z.createElement(En.Z,{featureFlags:I,featureKey:yn.Z.FEATURE_FLAG_KEY_MAP.APPLICATION_EDIT_BRANDING_LINK,type:"chip"})),Z.createElement(hn.kh,{fill:"#ff7300"})," \xa0",Z.createElement(bn.Z,{className:"application-branding-link",color:"primary","data-componentid":"".concat(y,"-application-branding-link"),onClick:function(){h.m.push({pathname:b.$.getPaths().get("BRANDING"),state:a})}},A("applications:forms.generalDetails.brandingLink.label")),Z.createElement(R.kW,null,A("applications:forms.generalDetails.brandingLink.hint"))))))),Z.createElement(Se.gN.Button,{form:wn,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(y,"-submit-button"),disabled:f,loading:f,label:A("common:update"),hidden:B||!m||p&&se.tZ.generalSettings.getFieldReadOnlyStatus(g,"ACCESS_URL")}))};function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Pn.defaultProps={"data-testid":"application-general-settings-form"};var Zn=function(e){var t,n,i,a,o,l,r=e.appId,c=e.name,s=e.description,u=e.discoverability,d=e.featureConfig,m=e.imageUrl,f=e.accessUrl,v=e.isLoading,g=e.onDelete,E=e.onUpdate,y=e.readOnly,A=e.isManagementApp,C=e.application,O=e.isBrandingSectionHidden,w=e["data-componentid"],P=(0,_.I0)(),T=(0,U.$)().t,N=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t?void 0:t.ui})),j=(0,p.EV)(null==d||null===(t=d.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),k=Tn((0,Z.useState)(!1),2),M=k[0],x=k[1],F=Tn((0,Z.useState)(!1),2),V=F[0],H=F[1],z=Tn((0,Z.useState)(!1),2),q=z[0],G=z[1],B=Tn((0,Z.useState)(!1),2),W=B[0],$=B[1],Q=Tn((0,Z.useState)(!1),2),K=Q[0],X=Q[1],Y=Tn((0,Z.useState)(!1),2),J=Y[0],ee=Y[1],te=function(e,t){ee(!t.checked),H(!0)};return v?Z.createElement(R.pJ,{padded:"very"},Z.createElement(R.pO,{inline:"centered",active:!0})):Z.createElement(Z.Fragment,null,Z.createElement(R.pJ,{padded:"very"},Z.createElement(Pn,{name:c,appId:r,application:C,description:s,discoverability:u,onSubmit:function(e){G(!0),(0,D.hN)(e).then((function(){P((0,I.V_)({description:T("applications:notifications.updateApplication.success.description"),level:S.QU.SUCCESS,message:T("applications:notifications.updateApplication.success.message")})),E(r)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?P((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:T("applications:notifications.updateApplication.error.message")})):P((0,I.V_)({description:T("applications:notifications.updateApplication.genericError.description"),level:S.QU.ERROR,message:T("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){G(!1)}))},imageUrl:m,accessUrl:f,readOnly:y||!j,hasRequiredScope:j,isBrandingSectionHidden:O,"data-testid":"".concat(w,"-form"),isSubmitting:q,isManagementApp:A})),Z.createElement(ve.Z,{hidden:!0}),j?N.systemAppsIdentifiers.includes(c)?null:se.tZ.editApplication.showDangerZone(C)?null!=C&&null!==(n=C.advancedConfigurations)&&void 0!==n&&n.fragment?null:Z.createElement(p.di,{when:(null==d||null===(i=d.applications)||void 0===i||null===(i=i.scopes)||void 0===i?void 0:i.delete)||(null==d||null===(a=d.applications)||void 0===a||null===(a=a.scopes)||void 0===a?void 0:a.update)},Z.createElement(R.v9,{sectionHeader:T("applications:dangerZoneGroup.header")},Z.createElement(p.di,{when:null==d||null===(o=d.applications)||void 0===o||null===(o=o.scopes)||void 0===o?void 0:o.update},Z.createElement(R.cN,{actionTitle:T("applications:dangerZoneGroup.disableApplication.actionTitle"),header:T("applications:dangerZoneGroup.disableApplication.header"),subheader:T("applications:dangerZoneGroup.disableApplication.subheader"),onActionClick:void 0,toggle:{checked:!C.applicationEnabled,onChange:te},"data-testid":"".concat(w,"-danger-zone-disable")})),Z.createElement(p.di,{when:null==d||null===(l=d.applications)||void 0===l||null===(l=l.scopes)||void 0===l?void 0:l.delete},Z.createElement(R.cN,{actionTitle:T("applications:dangerZoneGroup.deleteApplication.actionTitle"),header:T("applications:dangerZoneGroup.deleteApplication.header"),subheader:T("applications:dangerZoneGroup.deleteApplication.subheader"),onActionClick:function(){return x(!0)},"data-testid":"".concat(w,"-danger-zone")})))):null:null,Z.createElement(R.cV,{onClose:function(){return x(!1)},type:"negative",open:M,assertionHint:T("applications:confirmations.deleteApplication.assertionHint"),assertionType:"checkbox",primaryAction:T("common:confirm"),secondaryAction:T("common:cancel"),onSecondaryActionClick:function(){return x(!1)},onPrimaryActionClick:function(){return $(!0),void(0,D.rw)(r).then((function(){$(!1),P((0,I.V_)({description:T("applications:notifications.deleteApplication.success.description"),level:S.QU.SUCCESS,message:T("applications:notifications.deleteApplication.success.message")})),x(!1),g()})).catch((function(e){$(!1),e.response&&e.response.data&&e.response.data.description?P((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:T("applications:notifications.deleteApplication.error.message")})):P((0,I.V_)({description:T("applications:notifications.deleteApplication.genericError.description"),level:S.QU.ERROR,message:T("applications:notifications.deleteApplication.genericError.message")}))}))},closeOnDimmerClick:!1,primaryActionLoading:W,"data-testid":"".concat(w,"-application-delete-confirmation-modal")},Bt.y.isChoreoApplication(C)?Z.createElement(Z.Fragment,null,Z.createElement(R.cV.Header,{"data-testid":"".concat(w,"-application-delete-confirmation-modal-header")},T("applications:confirmations.deleteChoreoApplication.header")),Z.createElement(R.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(w,"-application-delete-confirmation-modal-message")},T("applications:confirmations.deleteChoreoApplication.message")),Z.createElement(R.cV.Content,{"data-testid":"".concat(w,"-application-delete-confirmation-modal-content")},Z.createElement(L.c,{i18nKey:"applications:confirmations.deleteChoreoApplication.content"},"Deleting this application will break the authentication flows and cause the associated Choreo application to be unusable with its credentials.",Z.createElement("b",null,"Proceed at your own risk.")))):Z.createElement(Z.Fragment,null,Z.createElement(R.cV.Header,{"data-testid":"".concat(w,"-application-delete-confirmation-modal-header")},T("applications:confirmations.deleteApplication.header")),Z.createElement(R.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(w,"-application-delete-confirmation-modal-message")},T("applications:confirmations.deleteApplication.message")),Z.createElement(R.cV.Content,{"data-testid":"".concat(w,"-application-delete-confirmation-modal-content")},T("applications:confirmations.deleteApplication.content")))),Z.createElement(R.cV,{onClose:function(){return H(!1)},type:"warning",open:V,primaryAction:T("common:confirm"),secondaryAction:T("common:cancel"),onSecondaryActionClick:function(){return H(!1)},onPrimaryActionClick:function(){return X(!0),void(0,D.GB)(r,J).then((function(){P((0,I.V_)({description:T("applications:notifications.disableApplication.success.description",{state:J?"enabled":"disabled"}),level:S.QU.SUCCESS,message:T("applications:notifications.disableApplication.success.message",{state:J?"enabled":"disabled"})})),H(!1),E(r)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?P((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:T("applications:notifications.disableApplication.error.message")})):P((0,I.V_)({description:T("applications:notifications.disableApplication.genericError.description",{state:J?"enable":"disable"}),level:S.QU.ERROR,message:T("applications:notifications.disableApplication.genericError.message")}))})).finally((function(){X(!1),G(!1)}))},closeOnDimmerClick:!1,primaryActionLoading:K,"data-testid":"".concat(w,"-application-disable-confirmation-modal")},Z.createElement(R.cV.Header,{"data-testid":"".concat(w,"-application-disable-confirmation-modal-header")},T(J?"applications:confirmations.enableApplication.header":"applications:confirmations.disableApplication.header")),Z.createElement(R.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(w,"-application-disable-confirmation-modal-message")},T(J?"applications:confirmations.enableApplication.message":"applications:confirmations.disableApplication.message")),Z.createElement(R.cV.Content,{"data-testid":"".concat(w,"-application-disable-confirmation-modal-content")},J?T("applications:confirmations.enableApplication.content"):Z.createElement(Z.Fragment,null,Z.createElement(L.c,{i18nKey:"applications:confirmations.disableApplication.content.0"},"This may prevent consumers from accessing the application, but it can be resolved by re-enabling the application."),Z.createElement("br",null),Z.createElement("br",null),Z.createElement(L.c,{i18nKey:"applications:confirmations.disableApplication.content.1"},"Ensure that the references to the application in",Z.createElement(R.rU,{"data-componentid":"".concat(w,"-link-email-templates-page"),onClick:function(){return h.m.push(b.$.getPaths().get("EMAIL_MANAGEMENT"))},external:!1},"email templates")," and other relevant locations are updated to reflect the application status accordingly.")))))};Zn.defaultProps={"data-componentid":"application-general-settings"};var Un=n(89608),Ln=n(56514),_n=n(29903),jn=function(e){var t=e.oidcConfigurations,n=e["data-componentid"],i=(0,U.$)().t;return Z.createElement("div",{"data-componentid":n},Z.createElement(he.Z,{verticalAlign:"middle"},Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.par,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-componentid":"".concat(n,"-mtls-pushed-authorization-request-label")},i("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.pushedAuthorizationRequest"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==t?void 0:t.mtlsPushedAuthorizationRequestEndpoint,"data-componentid":"".concat(n,"-mtls-pushed-authorization-request-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.token,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-componentid":"".concat(n,"-mtls-token-label")},i("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.token"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==t?void 0:t.mtlsTokenEndpoint,"data-componentid":"".concat(n,"-mtls-token-readonly-input")})))))};function kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}jn.defaultProps={"data-componentid":"applications-help-panel-mtls-oidc-configs"};var Mn=n(11526).AsgardeoSPAClient.getInstance(),xn=function(e){var t,n=(0,U.$)().t,i=(0,_.I0)(),a=(0,_.v9)((function(e){return e.config.ui.features})),o=e.oidcConfigurations,l=e.templateId,r=e["data-testid"],c=kn((0,Z.useState)(void 0),2),s=c[0],u=c[1];return(0,Z.useEffect)((function(){void 0===s&&Mn.getOIDCServiceEndpoints().then((function(e){u({authorize:null==e?void 0:e.authorizationEndpoint,jwks:null==e?void 0:e.jwksUri,logout:null==e?void 0:e.endSessionEndpoint,oidcSessionIFrame:null==e?void 0:e.checkSessionIframe,revoke:null==e?void 0:e.revocationEndpoint,token:null==e?void 0:e.tokenEndpoint})})).catch((function(){i((0,I.V_)({description:n("applications:notifications.fetchOIDCServiceEndpoints.genericError.description"),level:S.QU.ERROR,message:n("applications:notifications.fetchOIDCServiceEndpoints.genericError.message")}))}))})),Z.createElement(be.Z,null,Z.createElement(he.Z,{verticalAlign:"middle"},Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-introspection-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.issuer"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.tokenEndpoint,"data-testid":"".concat(r,"-introspection-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.wellKnown,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-introspection-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.wellKnown"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.wellKnownEndpoint,"data-testid":"".concat(r,"-introspection-readonly-input")}))),l!==Ie.j.M2M_APP_TEMPLATE_ID&&Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.authorize,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-authorize-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.authorize"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.authorizeEndpoint,"data-testid":"".concat(r,"-authorize-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.token,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-token-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.token"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.tokenEndpoint,"data-testid":"".concat(r,"-token-readonly-input")}))),l!==Ie.j.M2M_APP_TEMPLATE_ID&&Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.userInfo,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-userInfo-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.userInfo"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.userEndpoint,"data-testid":"".concat(r,"-userInfo-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.introspect,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-introspection-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.introspection"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.introspectionEndpoint,"data-testid":"".concat(r,"-introspection-readonly-input")}))),l!==Ie.j.M2M_APP_TEMPLATE_ID&&Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.jwks,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-jwks-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.jwks"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.jwksEndpoint,"data-testid":"".concat(r,"-jwks-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.revoke,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-token-revoke-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.revoke"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.tokenRevocationEndpoint,"data-testid":"".concat(r,"-token-revoke-readonly-input")}))),l!==Ie.j.M2M_APP_TEMPLATE_ID&&Z.createElement(Z.Fragment,null,Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.logout,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-logout-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.endSession"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.endSessionEndpoint,"data-testid":"".concat(r,"-logout-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.par,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-pushed-authorization-request-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.pushedAuthorizationRequest"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.pushedAuthorizationRequestEndpoint,"data-testid":"".concat(r,"-pushed-authorization-request-readonly-input")})))),(null==a||null===(t=a.server)||void 0===t?void 0:t.enabled)&&Z.createElement(Z.Fragment,null,(l===Ie.j.CUSTOM_APPLICATION_OIDC||l===Ie.j.TEMPLATE_IDS.get("oidcWeb")||l===Ie.j.TEMPLATE_IDS.get("spa"))&&Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,computer:6},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.sessionIframe,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(r,"-session-iframe-label")},n("applications:helpPanel.tabs.start.content.oidcConfigurations.labels.sessionIframe"))),Z.createElement(he.Z.Column,{mobile:8,computer:10},Z.createElement(R.OR,{value:null==o?void 0:o.sessionIframeEndpoint,"data-testid":"".concat(r,"-session-iframe-readonly-input")}))))))};xn.defaultProps={"data-testid":"applications-help-panel-oidc-configs"};var Fn=n(76271),Vn=n(12887),Hn=function(e){var t,n=e.samlConfigurations,i=e["data-testid"],a=(0,U.$)().t,o=Fn.h.getState().config.deployment.tenant;return Z.createElement(be.Z,null,Z.createElement(he.Z,{verticalAlign:"middle"},Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(i,"-issuer-label")},a("applications:helpPanel.tabs.start.content.samlConfigurations.labels.issuer"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(R.OR,{value:null==n?void 0:n.issuer,"data-testid":"".concat(i,"-issuer-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:Z.createElement(hn.XT,{className:"icon"}),size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(i,"-sso-label")},a("applications:helpPanel.tabs.start.content.samlConfigurations.labels.sso"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(R.OR,{value:null==n?void 0:n.ssoUrl,"data-testid":"".concat(i,"-sso-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.logout,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(i,"-slo-label")},a("applications:helpPanel.tabs.start.content.samlConfigurations.labels.slo"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(R.OR,{value:null==n?void 0:n.sloUrl,"data-testid":"".concat(i,"-slo-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.destination,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(i,"-destination-url-label")},a("applications:helpPanel.tabs.start.content.samlConfigurations.labels.destinationURL"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(R.OR,{value:null==n||null===(t=n.destinationURLs)||void 0===t||null===(t=t.toString())||void 0===t?void 0:t.replace(/,/g,", "),"data-testid":"".concat(i,"-destination-url-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:Z.createElement(hn.hb,{className:"icon"}),size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(i,"-artifact-resolution-url-label")},a("applications:helpPanel.tabs.start.content.samlConfigurations.labels.artifactResolutionUrl"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(R.OR,{value:null==n?void 0:n.artifactResolutionUrl,"data-testid":"".concat(i,"-artifact-resolution-url-readonly-input")}))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.certificate,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(i,"-certificate-label")},a("applications:helpPanel.tabs.start.content.samlConfigurations.labels.certificate"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(Ke.Z,{"data-testid":"".concat(i,"-certificate-button"),className:"idp-certificate-download-button",basic:!0,size:"tiny",color:"orange",onClick:function(){return mt.CertificateManagementUtils.exportCertificate(o,null==n?void 0:n.certificate)}},Z.createElement(k.Z,{name:"download"}),a("applications:helpPanel.tabs.start.content.samlConfigurations.buttons.certificate")))),Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:Z.createElement(hn.$l,{className:"icon"}),size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-testid":"".concat(i,"-metadata-label")},a("applications:helpPanel.tabs.start.content.samlConfigurations.labels.metadata"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(Ke.Z,{"data-testid":"".concat(i,"-metadata-button"),basic:!0,size:"tiny",color:"orange",onClick:function(){var e=new Blob([null==n?void 0:n.metadata],{type:"text/xml"});(0,Vn.saveAs)(e,"SAML-Metadata.xml")}},Z.createElement(k.Z,{name:"download"}),a("applications:helpPanel.tabs.start.content.samlConfigurations.buttons.metadata"))))))};Hn.defaultProps={"data-testid":"applications-help-panel-saml-configs"};var zn=n(80854),qn=n(43939);function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Wn=function(e){var t=e["data-componentid"],n=(0,U.$)().t,i=(0,_.I0)(),a=Gn((0,Z.useState)(void 0),2),o=a[0],l=a[1],r=(0,zn.x)(),c=r.data,s=r.isLoading,u=r.error;(0,Z.useEffect)((function(){c instanceof qn.u||u?d():c&&l({passiveStsUrl:c.passiveSTSUrl})}),[c]);var d=function(){i((0,I.V_)({description:n("wsFederationConfig:notifications.getConfiguration.error.description"),level:S.QU.ERROR,message:n("wsFederationConfig:notifications.getConfiguration.error.message")}))};return!s&&Z.createElement(be.Z,null,Z.createElement(he.Z,{verticalAlign:"middle"},Z.createElement(he.Z.Row,{columns:2},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:5},Z.createElement(R.dn,{icon:(0,_n.RO)().endpoints.issuer,size:"micro",square:!0,transparent:!0,inline:!0,className:"left-icon",verticalAlign:"middle",spaced:"right"}),Z.createElement("label",{"data-componentid":"".concat(t,"-issuer-label")},n("applications:helpPanel.tabs.start.content.wsFedConfigurations.labels.passiveSTSUrl"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:11},Z.createElement(R.OR,{value:null==o?void 0:o.passiveStsUrl,"data-componentid":"".concat(t,"-passive-sts-readonly-input")})))))};function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Wn.defaultProps={"data-componentid":"applications-help-panel-ws-federation-configs"};var Kn=function(e){var t=e.appId,n=e.inboundProtocols,i=e.isOIDCConfigLoading,a=e.isSAMLConfigLoading,o=e.templateId,l=e["data-componentid"],r=(0,_.v9)((function(e){return e.application.oidcConfigurations})),c=(0,_.v9)((function(e){return e.application.samlConfigurations})),s=(0,U.$)().t,u=(0,R.fQ)().getLink,d=$n((0,Z.useState)(!1),2),p=d[0],m=d[1],f=$n((0,Z.useState)(!1),2),v=f[0],g=f[1],E=$n((0,Z.useState)(!1),2),y=E[0],A=E[1],C=$n((0,Z.useState)(!1),2),S=C[0],I=C[1],O=void 0!==r.mtlsTokenEndpoint&&o!==Ie.j.M2M_APP_TEMPLATE_ID;return(0,Z.useEffect)((function(){null!=n&&n.length>0&&n.map((function(e){"oauth2"==e.type&&(m(!0),I(i)),"samlsso"==e.type&&(g(!0),I(a)),"passivests"==e.type&&A(!0)}))}),[n]),(0,Z.useEffect)((function(){o===Ie.j.CUSTOM_APPLICATION_PASSIVE_STS&&A(!0)}),[o]),S?Z.createElement(R.pJ,{padded:"very"},Z.createElement(R.pO,{inline:"centered",active:!0})):Z.createElement(R.pJ,{loading:S,padded:"very","data-componentid":l,"data-testid":l},Z.createElement(he.Z,{className:"form-container with-max-width"},Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,null,(p||o===Un.id||o===Ie.j.CUSTOM_APPLICATION_OIDC)&&Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{ellipsis:!0,as:"h4"},s("applications:edit.sections.info.oidcHeading")),Z.createElement(R.X6,{as:"h6",color:"grey",compact:!0},s("applications:edit.sections.info.oidcSubHeading"),Z.createElement(R.eb,{link:o===Ln.id?u("develop.applications.editApplication.singlePageApplication.info.learnMore"):u("develop.applications.editApplication.oidcApplication.info.learnMore")},s("common:learnMore"))),Z.createElement(ve.Z,{hidden:!0}),Z.createElement(xn,{oidcConfigurations:r,templateId:o}),se.tZ.advancedConfigurations.showMtlsAliases&&O&&Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{ellipsis:!0,as:"h4"},s("applications:edit.sections.info.mtlsOidcHeading")),Z.createElement(R.X6,{as:"h6",color:"grey",compact:!0},s("applications:edit.sections.info.mtlsOidcSubHeading"),"Navigate to",Z.createElement(R.rU,{external:!1,onClick:function(){h.m.push({pathname:b.$.getPaths().get("APPLICATION_EDIT").replace(":id",t),search:"?"+Ie.j.IS_PROTOCOL+"=true"})}}," protocol "),"tab to configure MTLS and certificate token binding."),Z.createElement(ve.Z,{hidden:!0}),Z.createElement(jn,{oidcConfigurations:r,templateId:o}))),p&&v?Z.createElement(Z.Fragment,null,Z.createElement(ve.Z,{className:"x2",hidden:!0})):null,(v||o===Ie.j.CUSTOM_APPLICATION_SAML)&&Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{ellipsis:!0,as:"h4"},s("applications:edit.sections.info.samlHeading")),Z.createElement(R.X6,{as:"h6",color:"grey",compact:!0},s("applications:edit.sections.info.samlSubHeading"),Z.createElement(R.eb,{link:u("develop.applications.editApplication.samlApplication.info.learnMore")},s("common:learnMore"))),Z.createElement(ve.Z,{hidden:!0}),Z.createElement(Hn,{samlConfigurations:c})),y&&Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{ellipsis:!0,as:"h4"},s("applications:edit.sections.info.wsFedHeading")),Z.createElement(R.X6,{as:"h6",color:"grey",compact:!0},s("applications:edit.sections.info.wsFedSubHeading"),Z.createElement(R.eb,{link:u("develop.applications.editApplication.wsFedApplication.info.learnMore")},s("common:learnMore"))),Z.createElement(ve.Z,{hidden:!0}),Z.createElement(Wn,null))))))};Kn.defaultProps={"data-componentid":"application-server-endpoints"};var Xn=n(23658),Yn=n(11626);function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ei(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ti="application-provisioning-configuration-form",ni=function(e){var t,n,i,a,o=e.config,l=e.onSubmit,r=e.readOnly,c=e.useStoreList,s=e.isSubmitting,u=e["data-testid"],d=(0,U.$)().t,p=Jn((0,Z.useState)(!1),2),m=p[0],f=p[1],v=function(e){var t={provisioningConfigurations:{inboundProvisioning:{provisioningUserstoreDomain:e.provisioningUserstoreDomain,proxyMode:!!e.proxyMode}}};l(t)};return(0,Z.useEffect)((function(){var e,t;null!=o&&null!==(e=o.inboundProvisioning)&&void 0!==e&&e.proxyMode&&f(null==o||null===(t=o.inboundProvisioning)||void 0===t?void 0:t.proxyMode)}),[o]),Z.createElement(Se.l0,{id:ti,uncontrolledForm:!1,onSubmit:function(e){v(e)}},Z.createElement(Se.gN.CheckboxLegacy,{ariaLabel:"Proxy mode",name:"proxyMode",label:d("applications:forms.provisioningConfig.fields.proxyMode.label"),required:!1,value:null!=o&&null!==(t=o.inboundProvisioning)&&void 0!==t&&t.proxyMode?["modeOn"]:[],listen:function(e){return f(e)},readOnly:r,"data-testid":"".concat(u,"-proxy-mode-checkbox"),hint:d("applications:forms.provisioningConfig.fields.proxyMode.hint")}),r?Z.createElement(Se.gN.Input,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",inputType:"text",minLength:null,maxLength:null,label:d("applications:forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,value:null==o||null===(n=o.inboundProvisioning)||void 0===n?void 0:n.provisioningUserstoreDomain,disabled:m,readOnly:r,"data-testid":"".concat(u,"-provisioning-userstore-domain-input"),hint:d("applications:forms.provisioningConfig.fields.userstoreDomain.hint")}):Z.createElement(Se.gN.Dropdown,{ariaLabel:"Provisioning userstore domain",name:"provisioningUserstoreDomain",label:d("applications:forms.provisioningConfig.fields.userstoreDomain.label"),required:!1,default:c&&c.length>0&&c[0].name,value:null==o||null===(i=o.inboundProvisioning)||void 0===i?void 0:i.provisioningUserstoreDomain,children:(a=[],c&&(null==c||c.map((function(e){a.push({key:c.indexOf(e),text:null==e?void 0:e.name,value:null==e?void 0:e.name})}))),a),disabled:m,readOnly:r,"data-testid":"".concat(u,"-provisioning-userstore-domain-dropdown"),hint:d("applications:forms.provisioningConfig.fields.userstoreDomain.hint")}),Z.createElement(Se.gN.Button,{form:ti,size:"small",buttonType:"primary_btn",ariaLabel:"Update button",name:"update-button","data-testid":"".concat(u,"-submit-button"),disabled:s,loading:s,label:d("common:update"),hidden:r}))};function ii(e){return function(e){if(Array.isArray(e))return li(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||oi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){if(e){if("string"==typeof e)return li(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?li(e,t):void 0}}function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}ni.defaultProps={"data-testid":"application-inbound-provisioning-configurations-form"};var ri=function(e){var t,n=e.appId,i=e.provisioningConfigurations,a=e.onUpdate,o=e.featureConfig,l=e.defaultActiveIndexes,r=e.readOnly,c=e["data-testid"],s=(0,U.$)().t,u=(0,pe.z)().isSuperOrganization,d=(0,_.I0)(),m=(0,p.EV)(null==o||null===(t=o.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),f=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),v=ai((0,Z.useState)([]),2),g=v[0],b=v[1],h=ai((0,Z.useState)(l),2),E=h[0],y=h[1],A=ai((0,Z.useState)(!1),2),C=A[0],O=A[1];return(0,Z.useEffect)((function(){if(!r){var e=[];e.push({id:f,name:f}),u()?(0,Yn.ow)().then((function(t){e.push.apply(e,ii(t.data)),b(e)})).catch((function(){b(e)})):b(e)}}),[]),Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{as:"h4"},s("applications:edit.sections.provisioning.inbound.heading")),Z.createElement(R.X6,{subHeading:!0,as:"h6"},s("applications:edit.sections.provisioning.inbound.subHeading")),Z.createElement(ve.Z,{hidden:!0}),Z.createElement(he.Z,null,Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,null,Z.createElement(Xn.U,{globalActions:[],authenticators:[{content:Z.createElement(ni,{config:i,onSubmit:function(e){O(!0),(0,D.TH)(n,e).then((function(){d((0,I.V_)({description:s("applications:notifications.updateInboundProvisioningConfig.success.description"),level:S.QU.SUCCESS,message:s("applications:notifications.updateInboundProvisioningConfig.success.message")})),a(n)})).catch((function(){d((0,I.V_)({description:s("applications:notifications.updateInboundProvisioningConfig.genericError.description"),level:S.QU.ERROR,message:s("applications:notifications.updateInboundProvisioningConfig.genericError.message")}))})).finally((function(){O(!1)}))},useStoreList:g,readOnly:r||!m,"data-testid":"".concat(c,"-form"),isSubmitting:C}),id:"scim",title:"SCIM"}],accordionActiveIndexes:E,accordionIndex:0,handleAccordionOnClick:function(e,t){if(t){var n=ii(E);if(n.includes(t.accordionIndex)){var i=n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);y(n)}},"data-testid":"".concat(c,"-inbound-connector-accordion")})))))};ri.defaultProps={"data-testid":"application-inbound-provisioning-configurations",defaultActiveIndexes:[-1]};var ci=n(46448);function si(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ui(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ui(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var di=function(e){var t=e.initialValues,n=e.idpList,i=e.triggerSubmit,a=e.onSubmit,o=e.isEdit,l=e.readOnly,r=e.isSubmitting,c=e["data-testid"],s=(0,U.$)().t,u=si((0,Z.useState)([]),2),d=u[0],p=u[1],m=si((0,Z.useState)(void 0),2),f=m[0],v=m[1],g=si((0,Z.useState)(),2),b=g[0],h=g[1],E=si((0,Z.useState)(null==t?void 0:t.blocking),2),y=E[0],A=E[1],C=si((0,Z.useState)(null==t?void 0:t.jit),2),S=C[0],I=C[1],w=si((0,Z.useState)(null==t?void 0:t.rules),2),P=w[0],T=w[1],N=si((0,Z.useState)(null==t?void 0:t.connector),2),L=N[0],_=N[1],j=(0,re.Z)().UIConfig;(0,Z.useEffect)((function(){if(n&&null!=t&&t.idp){var e=null==n?void 0:n.find((function(e){return e.name===(null==t?void 0:t.idp)}));h(null==e?void 0:e.id)}}),[n]),(0,Z.useEffect)((function(){if(n){var e=[],t={key:-1,text:"",value:""};n.map((function(n,i){t={key:i,text:n.name,value:n.id},e.push(t)})),p(e)}}),[n]),(0,Z.useEffect)((function(){if(b){var e=[],t={key:-1,text:"",value:""};(0,ci.Wv)(b).then((function(n){n.provisioning.outboundConnectors.connectors.map((function(n,i){n.isEnabled&&(t={key:i,text:n.name,value:n.name},e.push(t))})),v(e)}))}}),[b]);return Z.createElement(O.Es,{onSubmit:function(e){return a(function(e){var t=d.find((function(e){return e.value===b})).text;return{blocking:y||!!e.get("blocking").includes("blocking"),connector:L,idp:t,jit:S||!!e.get("jit").includes("jit"),rules:P||!!e.get("blocking").includes("blocking")}}(e))},submitState:i&&i},Z.createElement(he.Z,null,!o&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:10},Z.createElement(O.gN,{type:"dropdown",label:s("applications:forms.outboundProvisioning.fields.idp.label"),placeholder:s("applications:forms.outboundProvisioning.fields.idp.placeholder"),name:"idp",children:d,requiredErrorMessage:s("applications:forms.outboundProvisioning.fields.idp.validations.empty"),readOnly:l,required:!1,value:null==t?void 0:t.idp,listen:function(e){h(e.get("idp").toString())},"data-testid":"".concat(c,"-idp-dropdown")}))),Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:10},Z.createElement(O.gN,{type:"dropdown",label:s("applications:forms.outboundProvisioning.fields.connector.label"),placeholder:s("applications:forms.outboundProvisioning.fields.connector.placeholder"),name:"connector",children:f,requiredErrorMessage:s("applications:forms.outboundProvisioning.fields.connector.validations.empty"),readOnly:l,required:!0,value:null==t?void 0:t.connector,listen:function(e){_(e.get("connector").toString())},"data-testid":"".concat(c,"-provisioning-connector-dropdown")}),(null==f?void 0:f.length)<=0&&Z.createElement(R.kW,{icon:"warning sign"},s("applications:edit.sections.provisioning.outbound.addIdpWizard.errors.noProvisioningConnector")))),(null==j?void 0:j.isXacmlConnectorEnabled)&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:10},Z.createElement(O.gN,{name:"rules",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:s("applications:forms.outboundProvisioning.fields.rules.label"),value:"rules"}],value:null!=t&&t.rules?["rules"]:[],listen:function(e){T(e.get("rules").includes("rules"))},readOnly:l,"data-testid":"".concat(c,"-rules-checkbox")}),Z.createElement(R.kW,null,s("applications:forms.outboundProvisioning.fields.rules.hint")))),Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:10},Z.createElement(O.gN,{name:"blocking",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:s("applications:forms.outboundProvisioning.fields.blocking.label"),value:"blocking"}],readOnly:l,value:null!=t&&t.blocking?["blocking"]:[],listen:function(e){A(e.get("blocking").includes("blocking"))},"data-testid":"".concat(c,"-blocking-checkbox")}),Z.createElement(R.kW,null,s("applications:forms.outboundProvisioning.fields.blocking.hint")))),Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:10},Z.createElement(O.gN,{name:"jit",required:!1,requiredErrorMessage:"",type:"checkbox",children:[{label:s("applications:forms.outboundProvisioning.fields.jit.label"),value:"jit"}],value:null!=t&&t.jit?["jit"]:[],listen:function(e){I(e.get("jit").includes("jit"))},readOnly:l,"data-testid":"".concat(c,"-jit-checkbox")}),Z.createElement(R.kW,null,s("applications:forms.outboundProvisioning.fields.jit.hint")))),o&&!l&&Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:10},Z.createElement(R.KM,{type:"submit",size:"small",className:"form-button","data-testid":"".concat(c,"-submit-button"),loading:r,disabled:r},s("common:update"))))))};function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}di.defaultProps={"data-testid":"application-outbound-provisioning-wizard-idp-form"};var fi=function(e){var t=e.application,n=e.closeWizard,i=e.currentStep,a=e.onUpdate,o=e["data-testid"],l=(0,U.$)().t,r=(0,_.I0)(),c=pi((0,O.cC)(),2),s=c[0],u=c[1],d=pi((0,Z.useState)(void 0),2),p=d[0],m=d[1],f=pi((0,Z.useState)(i),2),v=f[0],g=f[1],b=pi((0,Z.useState)(void 0),2),h=b[0],E=b[1],y=pi((0,Z.useState)(!1),2),A=y[0],C=y[1];(0,Z.useEffect)((function(){void 0!==p&&(g(v-1),m(void 0))}),[p]),(0,Z.useEffect)((function(){h||(0,ci.E6)().then((function(e){E(e.identityProviders)}))}),[]);var w=function(){if(0===v)u()},P=function(e){var i;if(null!=t&&null!==(i=t.provisioningConfigurations)&&void 0!==i&&i.outboundProvisioningIdps.find((function(t){return t.connector===e.connector&&t.idp===e.idp})))return r((0,I.V_)({description:l("applications:notifications.updateOutboundProvisioning.genericError.description"),level:S.QU.ERROR,message:l("applications:notifications.updateOutboundProvisioning.genericError.message")})),void n();!function(e,i){C(!0),(0,D.TH)(e,i).then((function(){r((0,I.V_)({description:l("applications:notifications.updateApplication.success.description"),level:S.QU.SUCCESS,message:l("applications:notifications.updateApplication.success.message")})),a(t.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?r((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:l("applications:notifications.updateApplication.error.message")})):r((0,I.V_)({description:l("applications:notifications.updateApplication.genericError.description"),level:S.QU.ERROR,message:l("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){C(!1),n()}))}(t.id,function(e){var n,i=null==t||null===(n=t.provisioningConfigurations)||void 0===n?void 0:n.outboundProvisioningIdps;return i.push(e),{provisioningConfigurations:{outboundProvisioningIdps:i}}}(e))},T=[{content:Z.createElement(di,{initialValues:null,triggerSubmit:s,onSubmit:function(e){P(e)},idpList:h,"data-testid":"".concat(o,"-form"),isSubmitting:A}),icon:(0,_n.jK)().general,title:l("applications:edit.sections.provisioning.outbound.addIdpWizard.steps.details")}];return Z.createElement(nt.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:n,"data-testid":o,closeOnDimmerClick:!1,closeOnEscape:!0},Z.createElement(nt.Z.Header,{className:"wizard-header"},l("applications:edit.sections.provisioning.outbound.addIdpWizard.heading"),Z.createElement(R.X6,{as:"h6"},l("applications:edit.sections.provisioning.outbound.addIdpWizard.subHeading"))),Z.createElement(nt.Z.Content,{className:"steps-container"},Z.createElement(R.Rg.Group,{current:v,"data-testid":"".concat(o,"-steps")},T.map((function(e,t){return Z.createElement(R.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(o,"-step-").concat(t)})})))),Z.createElement(nt.Z.Content,{className:"content-container",scrolling:!0},T[v].content),Z.createElement(nt.Z.Actions,null,Z.createElement(he.Z,null,Z.createElement(he.Z.Row,{column:1},Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:8},Z.createElement(R.Qj,{floated:"left",onClick:function(){return n()},"data-testid":"".concat(o,"-cancel-button")},l("common:cancel"))),Z.createElement(he.Z.Column,{mobile:8,tablet:8,computer:8},v<T.length-1&&Z.createElement(R.KM,{floated:"right",onClick:w,"data-testid":"".concat(o,"-next-button")},l("common:next"),Z.createElement(k.Z,{name:"arrow right"})),v===T.length-1&&Z.createElement(R.KM,{floated:"right",onClick:w,"data-testid":"".concat(o,"-finish-button"),loading:A,disabled:A},l("common:finish")),v>0&&Z.createElement(R.Qj,{floated:"right",onClick:function(){m(v)},"data-testid":"".concat(o,"-previous-button")},Z.createElement(k.Z,{name:"arrow left"}),l("common:previous")))))))};function vi(e){return function(e){if(Array.isArray(e))return hi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||bi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){if(e){if("string"==typeof e)return hi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}fi.defaultProps={currentStep:0,"data-testid":"outbound-provisioning-idp-create-wizard"};var Ei=function(e){var t,n,i=e.application,a=e.onUpdate,o=e.readOnly,l=e.defaultActiveIndexes,r=e["data-testid"],c=(0,U.$)().t,s=(0,_.I0)(),u=gi((0,Z.useState)(!1),2),d=u[0],p=u[1],m=gi((0,Z.useState)(!1),2),f=m[0],v=m[1],g=gi((0,Z.useState)(!1),2),b=g[0],h=g[1],E=gi((0,Z.useState)(void 0),2),y=E[0],A=E[1],C=gi((0,Z.useState)(l),2),O=C[0],w=C[1],P=gi((0,R.ZK)(),3),T=P[0],N=P[1],j=P[2],M=gi((0,Z.useState)(void 0),2),x=M[0],F=M[1];(0,Z.useEffect)((function(){y||(0,ci.E6)().then((function(e){A(e.identityProviders)}))}),[]);var V=function(e,t){if(t){var n=vi(O);if(n.includes(t.accordionIndex)){var i=n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);w(n)}},H=function(e){!function(e,t){h(!0),(0,D.TH)(e,t).then((function(){s((0,I.V_)({description:c("applications:notifications.updateApplication.success.description"),level:S.QU.SUCCESS,message:c("applications:notifications.updateApplication.success.message")})),a(i.id)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?s((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:c("applications:notifications.updateApplication.error.message")})):s((0,I.V_)({description:c("applications:notifications.updateApplication.genericError.description"),level:S.QU.ERROR,message:c("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){h(!1)}))}(i.id,function(e){var t,n=null==i||null===(t=i.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,a=n.find((function(t){return t.idp===e.idp&&t.connector===e.connector}));return n.splice(n.indexOf(a),1),n.push(e),{provisioningConfigurations:{outboundProvisioningIdps:n}}}(e))};return Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{as:"h4"},c("applications:edit.sections.provisioning.outbound.heading")),Z.createElement(R.X6,{subHeading:!0,as:"h6"},c("applications:edit.sections.provisioning.outbound.subHeading")),Z.createElement(ve.Z,{hidden:!0}),(null==i||null===(t=i.provisioningConfigurations)||void 0===t||null===(t=t.outboundProvisioningIdps)||void 0===t?void 0:t.length)>0?Z.createElement(he.Z,null,!o&&Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,null,Z.createElement(R.KM,{floated:"right",onClick:function(){return p(!0)},"data-testid":"".concat(r,"-new-idp-button")},Z.createElement(k.Z,{name:"add"}),c("applications:edit.sections.provisioning.outbound.actions.addIdp")))),Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,null,null==i||null===(n=i.provisioningConfigurations)||void 0===n||null===(n=n.outboundProvisioningIdps)||void 0===n?void 0:n.map((function(e,t){return Z.createElement(Xn.U,{key:e.idp,globalActions:!o&&[{icon:"trash alternate",onClick:function(){v(!0),F(e)},type:"icon"}],authenticators:[{content:Z.createElement(di,{initialValues:e,triggerSubmit:null,onSubmit:function(e){H(e)},idpList:y,isEdit:!0,"data-testid":"".concat(r,"-form"),isSubmitting:b}),id:null==e?void 0:e.idp,title:null==e?void 0:e.idp}],accordionActiveIndexes:O,accordionIndex:t,handleAccordionOnClick:V,"data-testid":"".concat(r,"-outbound-connector-accordion")})}))))):Z.createElement(he.Z,null,Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,{width:16},Z.createElement(Xe.Z,null,Z.createElement(R.$J,{title:c("applications:placeholders.emptyOutboundProvisioningIDPs.title"),image:(0,Ce.jF)().emptyList,subtitle:[c("applications:placeholders.emptyOutboundProvisioningIDPs.subtitles")],imageSize:"tiny",action:!o&&Z.createElement(R.KM,{onClick:function(){return p(!0)}},Z.createElement(k.Z,{name:"add"}),c("applications:placeholders.emptyOutboundProvisioningIDPs.action"))}))))),x&&Z.createElement(R.cV,{onClose:function(){return v(!1)},type:"negative",open:f,assertion:null==x?void 0:x.idp,assertionHint:Z.createElement("p",null,Z.createElement(L.c,{i18nKey:"applications:confirmations.deleteOutboundProvisioningIDP.assertionHint",tOptions:{name:null==x?void 0:x.idp}},"Please type ",Z.createElement("strong",null,null==x?void 0:x.idp)," to confirm.")),assertionType:"input",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){v(!1),N(null)},onPrimaryActionClick:function(){return function(e){var t,n=null==i||null===(t=i.provisioningConfigurations)||void 0===t?void 0:t.outboundProvisioningIdps,o=vi(n);o.splice(n.indexOf(e),1);var l={provisioningConfigurations:{outboundProvisioningIdps:o}};(0,D.TH)(i.id,l).then((function(){s((0,I.V_)({description:c("applications:notifications.updateApplication.success.description"),level:S.QU.SUCCESS,message:c("applications:notifications.updateApplication.success.message")})),a(i.id),v(!1)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?s(N({description:e.response.data.description,level:S.QU.ERROR,message:c("applications:notifications.updateApplication.error.message")})):s(N({description:c("applications:notifications.updateApplication.genericError.description"),level:S.QU.ERROR,message:c("applications:notifications.updateApplication.genericError.message")}))}))}(x)},"data-testid":"".concat(r,"-connector-delete-confirmation-modal"),closeOnDimmerClick:!1},Z.createElement(R.cV.Header,{"data-testid":"".concat(r,"-connector-delete-confirmation-modal-header")},c("applications:confirmations.deleteOutboundProvisioningIDP.header")),Z.createElement(R.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(r,"-connector-delete-confirmation-modal-message")},c("applications:confirmations.deleteOutboundProvisioningIDP.message")),Z.createElement(R.cV.Content,{"data-testid":"".concat(r,"-connector-delete-confirmation-modal-content")},Z.createElement("div",{className:"modal-alert-wrapper"}," ",T&&j),c("applications:confirmations.deleteOutboundProvisioningIDP.content"))),d&&Z.createElement(fi,{closeWizard:function(){return p(!1)},application:i,onUpdate:a,"data-testid":"".concat(r,"-idp-create-wizard")}))};Ei.defaultProps={"data-testid":"application-outbound-provisioning-configurations",defaultActiveIndexes:[-1]};var yi=function(e){var t,n=e.application,i=e.featureConfig,a=e.provisioningConfigurations,o=e.onUpdate,l=e.readOnly,r=e["data-componentid"],c=(0,Z.useMemo)((function(){var e;return(null==n||null===(e=n.provisioningConfigurations)||void 0===e||null===(e=e.outboundProvisioningIdps)||void 0===e?void 0:e.length)>0}),[n]),s=(0,p.EV)(null==i||null===(t=i.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update);return Z.createElement(R.pJ,{padded:"very"},Z.createElement(he.Z,null,Z.createElement(he.Z.Row,{columns:1},Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:12},Z.createElement(ri,{appId:n.id,provisioningConfigurations:a,onUpdate:o,readOnly:l||!s,"data-testid":"".concat(r,"-inbound-configuration")}))),c&&Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,{mobile:16,tablet:16,computer:12},Z.createElement(Ei,{application:n,provisioningConfigurations:a,onUpdate:o,readOnly:l||!s,"data-testid":"".concat(r,"-outbound-configuration")})))))};yi.defaultProps={"data-componentid":"provisioning-settings"};var Ai=n(29775),Ci=n(37746),Si=n(92529),Ii=n(96124);const Oi=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:S.f2.GET,url:"".concat(Fn.h.getState().config.endpoints.applications,"/").concat(e,"/share")},i=(0,Ii.Z)(t?n:null,{shouldRetryOnError:!1}),a=i.data,o=i.error,l=i.isValidating;return{data:a,error:o,isLoading:i.isLoading,isValidating:l,mutate:i.mutate}};var Ri=n(91009),wi=n(29893),Pi=n(719);function Ti(e){return Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ti(e)}function Ni(e){return function(e){if(Array.isArray(e))return ki(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ji(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(){Zi=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",r=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var o=t&&t.prototype instanceof b?t:b,l=Object.create(o.prototype),r=new N(i||[]);return a(l,"_invoke",{value:R(e,n,r)}),l}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",v="completed",g={};function b(){}function h(){}function E(){}var y={};s(y,l,(function(){return this}));var A=Object.getPrototypeOf,C=A&&A(A(Z([])));C&&C!==n&&i.call(C,l)&&(y=C);var S=E.prototype=b.prototype=Object.create(y);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(a,o,l,r){var c=d(e[a],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ti(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,l,r)}),(function(e){n("throw",e,l,r)})):t.resolve(u).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,r)}))}r(c.arg)}var o;a(this,"_invoke",{value:function(e,i){function a(){return new t((function(t,a){n(e,i,t,a)}))}return o=o?o.then(a,a):a()}})}function R(t,n,i){var a=p;return function(o,l){if(a===f)throw Error("Generator is already running");if(a===v){if("throw"===o)throw l;return{value:e,done:!0}}for(i.method=o,i.arg=l;;){var r=i.delegate;if(r){var c=w(r,i);if(c){if(c===g)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===p)throw a=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=f;var s=d(t,n,i);if("normal"===s.type){if(a=i.done?v:m,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(a=v,i.method="throw",i.arg=s.arg)}}}function w(t,n){var i=n.method,a=t.iterator[i];if(a===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,w(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=d(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var l=o.arg;return l?l.done?(n[t.resultName]=l.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function Z(t){if(t||""===t){var n=t[l];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a<t.length;)if(i.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ti(t)+" is not iterable")}return h.prototype=E,a(S,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:h,configurable:!0}),h.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},I(O.prototype),s(O.prototype,r,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,a,o){void 0===o&&(o=Promise);var l=new O(u(e,n,i,a),o);return t.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},I(S),s(S,c,"Generator"),s(S,l,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=Z,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(i,a){return r.type="throw",r.arg=t,n.next=i,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],r=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var c=i.call(l,"catchLoc"),s=i.call(l,"finallyLoc");if(c&&s){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=e,l.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var a=i.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:Z(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),g}},t}function Ui(e,t,n,i,a,o,l){try{var r=e[o](l),c=r.value}catch(e){return void n(e)}r.done?t(c):Promise.resolve(c).then(i,a)}function Li(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function l(e){Ui(o,i,a,l,r,"next",e)}function r(e){Ui(o,i,a,l,r,"throw",e)}l(void 0)}))}}function _i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||ji(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){if(e){if("string"==typeof e)return ki(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ki(e,t):void 0}}function ki(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Di=function(e){return e[e.SHARE_ALL=0]="SHARE_ALL",e[e.SHARE_SELECTED=1]="SHARE_SELECTED",e[e.UNSHARE=2]="UNSHARE",e}(Di||{}),Mi=function(e){var t=e.application,n=e.triggerApplicationShare,i=e.onApplicationSharingCompleted,a=e["data-componentid"],o=e.readOnly,l=(0,_.I0)(),r=(0,U.$)().t,c=(0,_.v9)((function(e){return e.organization.organization})),s=_i((0,Z.useState)([]),2),u=s[0],d=s[1],p=_i((0,Z.useState)([]),2),m=p[0],f=p[1],v=_i((0,Z.useState)([]),2),g=v[0],b=v[1],h=_i((0,Z.useState)([]),2),E=h[0],y=h[1],A=_i((0,Z.useState)(Di.UNSHARE),2),C=A[0],O=A[1],w=_i((0,Z.useState)(!1),2),P=w[0],T=w[1],L=_i((0,Z.useState)(),2),j=L[0],k=L[1],D=(0,Ci.Z)().isOrganizationManagementEnabled,M=(0,Si.Z)(D,null,null,null,null,!0,!1),x=M.data,F=M.isLoading,V=M.isValidating,H=M.error,z=Oi(null==t?void 0:t.id,D),q=z.data,G=z.isLoading,B=z.isValidating,W=z.error,$=z.mutate,Q=(0,Z.useMemo)((function(){return!!D&&(F||G||V||B)}),[F,G,V,B]);(0,Z.useEffect)((function(){null!=x&&x.organizations&&d(x.organizations)}),[x]),(0,Z.useEffect)((function(){null!=q&&q.organizations?f(q.organizations):f([])}),[q]),(0,Z.useEffect)((function(){var e,t,n,i,a;H&&(null!=H&&null!==(e=H.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?l((0,I.V_)({description:null!==(t=null==H||null===(n=H.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description)&&void 0!==t?t:r("organizations:notifications.getOrganizationList.error.description"),level:S.QU.ERROR,message:null!==(i=null==H||null===(a=H.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==i?i:r("organizations:notifications.getOrganizationList.error.message")})):l((0,I.V_)({description:r("organizations:notifications.getOrganizationList.genericError.description"),level:S.QU.ERROR,message:r("organizations:notifications.getOrganizationList.genericError.message")})))}),[H]),(0,Z.useEffect)((function(){var e,t,n,i,a;W&&(null!=W&&null!==(e=W.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?l((0,I.V_)({description:null!==(t=null==W||null===(n=W.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description)&&void 0!==t?t:r("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:S.QU.ERROR,message:null!==(i=null==W||null===(a=W.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==i?i:r("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):l((0,I.V_)({description:r("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:S.QU.ERROR,message:r("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})))}),[W]),(0,Z.useEffect)((function(){return b(u||[])}),[u]),(0,Z.useEffect)((function(){return y(m||[])}),[m]),(0,Z.useEffect)((function(){var e;if(t){var n,i,a=null==t||null===(e=t.advancedConfigurations)||void 0===e||null===(e=e.additionalSpProperties)||void 0===e?void 0:e.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));if(a&&0!==a.length)T(!!JSON.parse(null===(n=a[0])||void 0===n?void 0:n.value)&&JSON.parse(null===(i=a[0])||void 0===i?void 0:i.value));else T(!1)}}),[t]),(0,Z.useEffect)((function(){P?O(Di.SHARE_ALL):(null==m?void 0:m.length)>0&&!P?O(Di.SHARE_SELECTED):m&&0!==(null==m?void 0:m.length)||P||O(Di.UNSHARE)}),[P,m]),(0,Z.useEffect)((function(){n&&K()}),[n]);var K=(0,Z.useCallback)(Li(Zi().mark((function e(){var n,a,o,s;return Zi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C!==Di.SHARE_ALL){e.next=4;break}n={shareWithAllChildren:!0},e.next=14;break;case 4:if(C!==Di.SHARE_SELECTED){e.next=14;break}if(!P){e.next=11;break}return o=E.map((function(e){return e.id})),e.next=9,(0,ct.An)(t.id);case 9:e.next=13;break;case 11:o=(0,Ri.Z)(E,m,"id").map((function(e){return e.id})),a=(0,Ri.Z)(m,E,"id");case 13:n={shareWithAllChildren:!1,sharedOrganizations:o};case 14:C===Di.SHARE_ALL||C===Di.SHARE_SELECTED?((0,ct.Bn)(c.id,t.id,n).then((function(){l((0,I.V_)({description:r("applications:edit.sections.shareApplication.addSharingNotification.success.description"),level:S.QU.SUCCESS,message:r("applications:edit.sections.shareApplication.addSharingNotification.success.message")}))})).catch((function(e){e.response.data.message?l((0,I.V_)({description:e.response.data.message,level:S.QU.ERROR,message:r("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):l((0,I.V_)({description:r("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:S.QU.ERROR,message:r("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){C===Di.SHARE_SELECTED&&$(),i()})),null===(s=a)||void 0===s||s.forEach((function(e){(0,ct.NY)(c.id,t.id,e.id).then((function(){l((0,I.V_)({description:r("applications:edit.sections.shareApplication.stopSharingNotification.success.description",{organization:e.name}),level:S.QU.SUCCESS,message:r("applications:edit.sections.shareApplication.stopSharingNotification.success.message")}))})).catch((function(t){t.response.data.message?l((0,I.V_)({description:t.response.data.message,level:S.QU.ERROR,message:r("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")})):l((0,I.V_)({description:r("applications:edit.sections.shareApplication.stopSharingNotification.genericError.description",{organization:e.name}),level:S.QU.ERROR,message:r("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")}))}))}))):C===Di.UNSHARE&&(0,ct.An)(t.id).then((function(){l((0,I.V_)({description:r("applications:edit.sections.shareApplication.stopAllSharingNotification.success.description"),level:S.QU.SUCCESS,message:r("applications:edit.sections.shareApplication.stopAllSharingNotification.success.message")}))})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.message?l((0,I.V_)({description:e.response.data.message,level:S.QU.ERROR,message:r("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):l((0,I.V_)({description:r("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:S.QU.ERROR,message:r("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")}))})).finally((function(){f([]),i()}));case 15:case"end":return e.stop()}}),e)}))),[m,E,ct.NY,l,c.id,t.id,C]),X=(0,Z.useCallback)((function(){E.length!==u.length?y(u):y([])}),[u,b,E]);return Q?Z.createElement(R.pO,{inline:"centered",active:!0}):Z.createElement(Z.Fragment,null,Z.createElement(R.X6,{ellipsis:!0,as:"h6"},r("applications:edit.sections.sharedAccess.subTitle")),Z.createElement(he.Z,null,Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,{width:8},Z.createElement(Pi.Z,{disabled:o,label:r("organizations:unshareApplicationRadio"),onChange:function(){return O(Di.UNSHARE)},checked:C===Di.UNSHARE,"data-componentid":"".concat(a,"-share-with-all-checkbox")}),Z.createElement(R.kW,{inline:!0,popup:!0},r("organizations:unshareApplicationInfo")),Z.createElement(ve.Z,{hidden:!0,className:"mb-0 mt-0"}),Z.createElement(Pi.Z,{disabled:o,label:r("organizations:shareWithSelectedOrgsRadio"),onChange:function(){return O(Di.SHARE_SELECTED)},checked:C===Di.SHARE_SELECTED,"data-componentid":"".concat(a,"-share-with-all-checkbox")}),Z.createElement(Ai.Z,{in:C===Di.SHARE_SELECTED,orientation:"vertical",timeout:"auto"},Z.createElement(Z.Fragment,null,P&&Z.createElement(R.v0,{warning:!0,className:"ml-4 mt-3"},Z.createElement("p",null,r("applications:edit.sections.shareApplication.switchToSelectiveShareFromSharingWithAllSuborgsWarning"))),Z.createElement(R.IX,{className:"pl-2",disabled:C!==Di.SHARE_SELECTED,selectionComponent:!0,searchPlaceholder:r("transferList:searchPlaceholder",{type:"organizations"}),handleUnelectedListSearch:function(e,t){var n=t.value,i=[];if((0,N.Z)(n))b(u);else{k(n);var a=new RegExp((0,wi.Z)(n),"i");u&&u.map((function(e){a.test(e.name)&&i.push(e)})),b(i)}},"data-componentId":"application-share-modal-organization-transfer-component"},Z.createElement(R.Jv,{disabled:C!==Di.SHARE_SELECTED,isListEmpty:!((null==g?void 0:g.length)>0),handleHeaderCheckboxChange:X,isHeaderCheckboxChecked:(null==E?void 0:E.length)===(null==u?void 0:u.length),listType:"unselected",listHeaders:[r("transferList:list.headers.1"),""],emptyPlaceholderContent:u&&0!==(null==u?void 0:u.length)?j?r("console:develop.placeholders.emptySearchResult.subtitles.0",{query:j})+". "+r("console:develop.placeholders.emptySearchResult.subtitles.1"):null:r("organizations:placeholders.emptyList.subtitles.0"),"data-testid":"application-share-modal-organization-transfer-component-all-items",emptyPlaceholderDefaultContent:r("organizations:placeholders.emptyList.subtitles.0")},null==g?void 0:g.map((function(e,t){var n=null==e?void 0:e.name,i=-1!==E.findIndex((function(t){return t.id===e.id}));return Z.createElement(R.qT,{disabled:C!==Di.SHARE_SELECTED,handleItemChange:function(){return function(e){var t=Ni(E),n=t.findIndex((function(t){return t.id===e.id}));-1!==n?(t.splice(n,1),y(t)):(t.push(e),y(t))}(e)},key:t,listItem:n,listItemId:e.id,listItemIndex:t,isItemChecked:i,showSecondaryActions:!1,"data-testid":"application-share-modal-organization-transfer-component-unselected-organizations"})})))))),Z.createElement(ve.Z,{hidden:!0,className:"mb-0 mt-0"}),Z.createElement(Pi.Z,{label:r("organizations:shareApplicationRadio"),onChange:function(){return O(Di.SHARE_ALL)},checked:C===Di.SHARE_ALL,"data-componentid":"".concat(a,"-share-with-all-checkbox")}),Z.createElement(R.kW,{inline:!0,popup:!0},r("organizations:shareApplicationInfo")),Z.createElement(ve.Z,{hidden:!0}),Z.createElement(R.KM,{"data-componentid":"".concat(a,"-update-button"),onClick:K},r("common:update"))))))};Mi.defaultProps={"data-componentid":"application-share-form"};var xi=function(e){var t=e.application,n=e.onUpdate,i=e.readOnly;return Z.createElement(R.pJ,{className:"advanced-configuration-section",padded:"very"},Z.createElement(Mi,{application:t,onApplicationSharingCompleted:function(){return n(null==t?void 0:t.id)},readOnly:i}))};xi.defaultProps={"data-componentid":"application-shared-access"};var Fi=n(44808);function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function Hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(n),!0).forEach((function(t){qi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Vi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Vi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e){return function(e){if(Array.isArray(e))return $i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||Wi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(e,t){if(e){if("string"==typeof e)return $i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$i(e,t):void 0}}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Qi=function(e){var t,n,i,a,o,l,r,c,s,u,d,m,f,v,g,E,y,A,O,w,P,j,k=e.application,M=e.featureConfig,x=e.isLoading,V=e.setIsLoading,H=e.getConfiguredInboundProtocolsList,z=e.getConfiguredInboundProtocolConfigs,q=e.onDelete,G=e.onUpdate,B=e.template,W=e.readOnly,$=e.urlSearchParams,Q=e["data-componentid"],K=(0,U.$)().t,X=(0,pe.z)(),Y=X.isSuperOrganization,ee=X.isSubOrganization,te=(0,_.I0)(),me=(0,re.Z)().UIConfig,Ce=(0,ie.Z)(),Se=Ce.templateMetadata,Oe=Ce.isTemplateMetadataRequestLoading,Re=(0,p.EV)(null==M||null===(t=M.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),we=(0,p.EV)(null==M||null===(n=M.branding)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.read),Pe=(0,_.v9)((function(e){return e.application.meta.inboundProtocols})),Te=(0,_.v9)((function(e){return e.application.oidcConfigurations})),Ne=(0,_.v9)((function(e){return e.application.samlConfigurations})),Ze=(0,_.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),Ue=(0,_.v9)((function(e){return e.auth.tenantDomain})),Le=(0,_.v9)((function(e){return e.organization.isFirstLevelOrganization})),_e=(0,_.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),je=Bi((0,Z.useState)(!0),2),ke=je[0],De=je[1],Me=Bi((0,Z.useState)(void 0),2),xe=Me[0],Fe=Me[1],Ve=Bi((0,Z.useState)(void 0),2),He=Ve[0],ze=Ve[1],qe=Bi((0,Z.useState)(!1),2),Ge=qe[0],We=qe[1],$e=Bi((0,Z.useState)(void 0),2),Qe=$e[0],Ke=$e[1],Xe=Bi((0,Z.useState)([]),2),Ye=Xe[0],Je=Xe[1],et=Bi((0,Z.useState)(!1),2),tt=et[0],nt=et[1],it=Bi((0,Z.useState)(!1),2),at=it[0],ot=it[1],lt=Bi((0,Z.useState)(!1),2),rt=lt[0],ct=lt[1],st=Bi((0,Z.useState)({clientId:"",clientSecret:""}),2),ut=st[0],dt=st[1],pt=Bi((0,Z.useState)(!1),2),mt=pt[0],ft=pt[1],gt=Bi((0,Z.useState)(!1),2),bt=gt[0],ht=gt[1],Et=Bi((0,Z.useState)(!1),2),yt=Et[0],At=Et[1],Ct=ce.l.getInstance(),St=(null==k||null===(i=k.advancedConfigurations)||void 0===i?void 0:i.fragment)||!1,It=Gi(null!==(a=null==me?void 0:me.hiddenAuthenticators)&&void 0!==a?a:[]),Ot=Ie.j.MY_ACCOUNT_CLIENT_ID===(null==k?void 0:k.clientId)||Ie.j.MY_ACCOUNT_APP_NAME===(null==k?void 0:k.name),Rt=null==M||null===(o=M.applications)||void 0===o||null===(o=o.scopes)||void 0===o?void 0:o.update,wt=Bi((0,Z.useState)(!1),2),Pt=wt[0],Tt=wt[1],Nt=Bi((0,Z.useState)(!1),2),Zt=Nt[0],Ut=Nt[1],Lt=Bi((0,Z.useState)(!1),2),_t=Lt[0],jt=Lt[1],kt=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.branding)||void 0===t?void 0:t.disabledFeatures})),Dt=function(e){ot(!0),Ft(),G(e)},Mt=function(e){var t=e;return"oauth2"===t?t=F.AI.OIDC:"passivests"===t?t=F.AI.WS_FEDERATION:"wstrust"===t?t=F.AI.WS_TRUST:"samlsso"===t&&(t=F.AI.SAML),t},xt=function(e){var t,n={},i=[],a=[],o=[];(null==k||null===(t=k.inboundProtocols)||void 0===t?void 0:t.length)>0?(k.inboundProtocols.forEach((function(t){if("openid"!==t.type){var n=Mt(t.type);o.includes(n)||(o.push(n),a.push((0,D.S2)(e,n)))}})),De(!0),fe().all(a).then(fe().spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];t.forEach((function(e,t){n=zi(zi({},n),{},qi({},o[t],e)),i.push(o[t])}))}))).catch((function(e){var t,n;404!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)&&(null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?te((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:K("applications:notifications.getInboundProtocolConfig.error.message")})):te((0,I.V_)({description:K("applications:notifications.getInboundProtocolConfig.genericError.description"),level:S.QU.ERROR,message:K("applications:notifications.getInboundProtocolConfig.genericError.message")})))})).finally((function(){!function(e){var t="saml";if(e[t]){var n,i=null===(n=e[t].singleSignOnProfile)||void 0===n?void 0:n.assertion;if(i){var a=i.nameIdFormat;i.nameIdFormat=a.replace(/\//g,":")}}}(n),ot(!0),Fe(i),ze(n),De(!1),H(i),z(n)}))):(Fe([]),ze({}),De(!1),H([]),z({}))},Ft=function(){null!=k&&k.id&&xt(k.id)},Vt=function(e){!(0,N.Z)(e)&&e.clientSecret&&e.clientId&&(dt({clientId:e.clientId,clientSecret:e.clientSecret}),ct(!0))},Ht=function(e,t){Ut(!(null!=t&&t.checked)),jt(!0)},zt=function(){return Z.createElement(Z.Fragment,null,Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(ye,null)),Z.createElement(ve.Z,{hidden:!0}),!ee()&&Z.createElement(p.di,{when:Rt},Z.createElement(R.v9,{sectionHeader:K("applications:dangerZoneGroup.header")},Z.createElement(R.cN,{actionTitle:K("applications:dangerZoneGroup.disableApplication.actionTitle"),header:K("applications:dangerZoneGroup.disableApplication.header"),subheader:K("applications:dangerZoneGroup.disableApplication.subheader"),onActionClick:void 0,toggle:{checked:!k.applicationEnabled,onChange:Ht},"data-testid":"".concat(Q,"-danger-zone-disable")}))),Z.createElement(R.cV,{onClose:function(){return jt(!1)},type:"warning",open:_t,primaryAction:K("common:confirm"),secondaryAction:K("common:cancel"),onSecondaryActionClick:function(){return jt(!1)},onPrimaryActionClick:function(){return Tt(!0),void(0,D.GB)(k.id,Zt).then((function(){te((0,I.V_)({description:K("applications:notifications.disableApplication.success.description",{state:Zt?"enabled":"disabled"}),level:S.QU.SUCCESS,message:K("applications:notifications.disableApplication.success.message",{state:Zt?"enabled":"disabled"})})),jt(!1),G(k.id)})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:K("applications:notifications.disableApplication.error.message")})):te((0,I.V_)({description:K("applications:notifications.disableApplication.genericError.description",{state:Zt?"enable":"disable"}),level:S.QU.ERROR,message:K("applications:notifications.disableApplication.genericError.message")}))})).finally((function(){Tt(!1)}))},closeOnDimmerClick:!1,primaryActionLoading:Pt,"data-testid":"".concat(Q,"-myAccount-disable-confirmation-modal")},Z.createElement(R.cV.Header,{"data-testid":"".concat(Q,"-myAccount-disable-confirmation-modal-header")},K(Zt?"applications:confirmations.enableApplication.header":"applications:confirmations.disableApplication.header")),Z.createElement(R.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(Q,"-myAccount-disable-confirmation-modal-message")},K(Zt?"applications:confirmations.enableApplication.message":"applications:confirmations.disableApplication.message")),Z.createElement(R.cV.Content,{"data-testid":"".concat(Q,"-application-disable-confirmation-modal-content")},Zt?K("applications:confirmations.enableApplication.content"):Z.createElement(Z.Fragment,null,Z.createElement(L.c,{i18nKey:"applications:confirmations.disableApplication.content.0"},"This may prevent consumers from accessing the application, but it can be resolved by re-enabling the application."),Z.createElement("br",null),Z.createElement("br",null),Z.createElement(L.c,{i18nKey:"applications:confirmations.disableApplication.content.1"},"Ensure that the references to the application in",Z.createElement(R.rU,{"data-componentid":"".concat(Q,"-link-email-templates-page"),onClick:function(){return h.m.push(b.$.getPaths().get("EMAIL_MANAGEMENT"))},external:!1},"email templates")," and other relevant locations are updated to reflect the application status accordingly.")))))},qt=function(){var e;return Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(Zn,{accessUrl:null==k?void 0:k.accessUrl,appId:null==k?void 0:k.id,description:null==k?void 0:k.description,discoverability:null==k||null===(e=k.advancedConfigurations)||void 0===e?void 0:e.discoverableByEndUsers,imageUrl:null==k?void 0:k.imageUrl,name:null==k?void 0:k.name,application:k,isLoading:x,onDelete:q,onUpdate:Dt,featureConfig:M,template:B,isBrandingSectionHidden:kt.includes(oe.H.APP_WISE_BRANDING_FEATURE_TAG)||!we,readOnly:W||se.tZ.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_GENERAL_SETTINGS",k),"data-componentid":"".concat(Q,"-general-settings"),isManagementApp:null==k?void 0:k.isManagementApp}))},Gt=function(){var e;return Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(Ae.E,{application:k,allowedOriginList:Ye,certificate:null==k||null===(e=k.advancedConfigurations)||void 0===e?void 0:e.certificate,onAllowedOriginsUpdate:function(){return nt(!tt)},onApplicationSecretRegenerate:Vt,appId:null==k?void 0:k.id,appName:null==k?void 0:k.name,applicationTemplateId:null==k?void 0:k.templateId,extendedAccessConfig:void 0!==Qe,isLoading:x,setIsLoading:V,onUpdate:Dt,onProtocolUpdate:Ft,isInboundProtocolConfigRequestLoading:ke,inboundProtocolsLoading:ke,inboundProtocolConfig:He,inboundProtocols:xe,featureConfig:M,template:B,readOnly:W||se.tZ.editApplication.getTabPanelReadOnlyStatus("APPLICATION_EDIT_ACCESS_CONFIG",k),isDefaultApplication:Ie.j.DEFAULT_APPS.includes(null==k?void 0:k.name),isSystemApplication:Ie.j.SYSTEM_APPS.includes(null==k?void 0:k.name),"data-componentid":"".concat(Q,"-access-settings")}))},Wt=function(){return Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(gn,{appId:k.id,appVersion:null==k?void 0:k.applicationVersion,technology:k.inboundProtocols,claimConfigurations:k.claimConfiguration,featureConfig:M,onlyOIDCConfigured:((null==k?void 0:k.templateId)===Un.id||(null==k?void 0:k.templateId)===Ie.j.CUSTOM_APPLICATION_OIDC)&&0===(null==xe?void 0:xe.length)||1===(null==xe?void 0:xe.length)&&xe[0]===F.AI.OIDC,onUpdate:Dt,applicationTemplateId:null==k?void 0:k.templateId,inboundProtocolConfig:He,readOnly:W,"data-componentid":"".concat(Q,"-attribute-settings")}))},$t=function(){var e;return Z.createElement(ue.Z,null,Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(Fi.I,{application:k,appId:k.id,authenticationSequence:k.authenticationSequence,clientId:null==He||null===(e=He.oidc)||void 0===e?void 0:e.clientId,hiddenAuthenticators:It,isLoading:x,onUpdate:Dt,featureConfig:M,readOnly:W,"data-componentid":"".concat(Q,"-sign-on-methods")})))},Qt=function(){return Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(Be,{appId:k.id,advancedConfigurations:k.advancedConfigurations,onUpdate:Dt,featureConfig:M,readOnly:W,template:B,"data-componentid":"".concat(Q,"-advanced-settings")}))},Kt=function(){return se.tZ.editApplication.showProvisioningSettings?Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(yi,{application:k,provisioningConfigurations:k.provisioningConfigurations,onUpdate:Dt,featureConfig:M,readOnly:W,"data-componentid":"".concat(Q,"-provisioning-settings")})):null},Xt=function(){return Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(xi,{application:k,onUpdate:Dt,readOnly:W,"data-componentid":"".concat(Q,"-shared-access")}))},Yt=function(){return Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(Kn,{appId:k.id,inboundProtocols:null==k?void 0:k.inboundProtocols,isOIDCConfigLoading:mt,isSAMLConfigLoading:bt,templateId:null==k?void 0:k.templateId,"data-componentid":"".concat(Q,"-server-endpoints")}))},Jt=function(e){var t,n=[];return null==Se||null===(t=Se.edit)||void 0===t||null===(t=t.tabs)||void 0===t||t.forEach((function(t){switch(null==t?void 0:t.contentType){case ae.bE.GUIDE:null!=t&&t.guide&&n.push({componentId:null==t?void 0:t.id,"data-tabid":null==t?void 0:t.id,menuItem:null==t?void 0:t.displayName,render:function(){return e=null==t?void 0:t.guide,i=Mt(null==k||null===(n=k.inboundProtocols)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.type),Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(ne,{application:k,inboundProtocolConfigurations:null==He?void 0:He[i],content:e,isLoading:x,protocolName:i}));var e,n,i}});break;case ae.bE.FORM:null!=t&&t.form&&n.push({componentId:null==t?void 0:t.id,"data-tabid":null==t?void 0:t.id,menuItem:null==t?void 0:t.displayName,render:function(){return function(e){var t,n=Mt(null==k||null===(t=k.inboundProtocols)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.type);return Z.createElement(R.M$.Pane,{controlledSegmentation:!0},Z.createElement(J,{tab:e,application:k,protocolName:n,inboundProtocolConfigurations:null==He?void 0:He[n],isLoading:x,onUpdate:Dt,onProtocolUpdate:Ft,readOnly:W}))}(t)}});break;default:i=t,(a=null==e?void 0:e.find((function(e){return(null==e?void 0:e["data-tabid"])===(null==i?void 0:i.id)})))&&(null!=i&&i.displayName&&(a.menuItem=null==i?void 0:i.displayName),n.push(a))}var i,a})),(null==n?void 0:n.length)>0?n:e},en=(y=[],A=[],j=!Qe&&se.tZ.editApplication.extendTabs&&(null==k?void 0:k.templateId)!==Ie.j.CUSTOM_APPLICATION_OIDC&&(null==k?void 0:k.templateId)!==Ie.j.CUSTOM_APPLICATION_PASSIVE_STS&&(null==k?void 0:k.templateId)!==Ie.j.CUSTOM_APPLICATION_SAML?[]:(Qe&&(null==Qe?void 0:Qe.length)>0&&A.push.apply(A,Gi((0,T.Z)(Qe))),M?(Ot&&y.push({componentId:"overview",menuItem:K("applications:myaccount.overview.tabName"),render:zt}),!(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_GENERAL_SETTINGS"))||ee()&&kt.includes(oe.H.APP_WISE_BRANDING_FEATURE_TAG)||Ot||se.tZ.editApplication.isTabEnabledForApp(null==He||null===(s=He.oidc)||void 0===s?void 0:s.clientId,vt.wF.GENERAL,Ue)&&y.push({componentId:"general","data-tabid":se.N0.GENERAL,menuItem:Z.createElement(ge.Z.Item,{"data-tourid":"general"},K("applications:edit.sections.general.tabName")),render:function(){var e;return se.tZ.editApplication.getOverriddenTab(null==He||null===(e=He.oidc)||void 0===e?void 0:e.clientId,vt.wF.GENERAL,qt(),k,Ue)}}),!(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ACCESS_CONFIG"))||St||Ot||se.tZ.editApplication.isTabEnabledForApp(null==He||null===(u=He.oidc)||void 0===u?void 0:u.clientId,vt.wF.PROTOCOL,Ue)&&y.push({componentId:"protocol","data-tabid":se.N0.PROTOCOL,menuItem:K("applications:edit.sections.access.tabName"),render:Gt}),(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ATTRIBUTE_MAPPING"))&&!St&&!yt&&(null!=me&&null!==(l=me.legacyMode)&&void 0!==l&&l.applicationSystemAppsSettings||(null==k?void 0:k.name)!==Ie.j.MY_ACCOUNT_APP_NAME)&&se.tZ.editApplication.isTabEnabledForApp(null==He||null===(d=He.oidc)||void 0===d?void 0:d.clientId,vt.wF.USER_ATTRIBUTES,Ue)&&y.push({componentId:"user-attributes","data-tabid":se.N0.USER_ATTRIBUTES,menuItem:Z.createElement(ge.Z.Item,{"data-tourid":"attributes"},K("applications:edit.sections.attributes.tabName")),render:function(){var e;return se.tZ.editApplication.getOverriddenTab(null==He||null===(e=He.oidc)||void 0===e?void 0:e.clientId,vt.wF.USER_ATTRIBUTES,Wt(),k,Ue)}}),(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_SIGN_ON_METHOD_CONFIG"))&&!yt&&(Y()||ee()&&St||Le)&&se.tZ.editApplication.isTabEnabledForApp(null==He||null===(m=He.oidc)||void 0===m?void 0:m.clientId,vt.wF.SIGN_IN_METHOD,Ue)&&y.push({componentId:"sign-in-method","data-tabid":se.N0.SIGN_IN_METHODS,menuItem:Z.createElement(ge.Z.Item,{"data-tourid":"sign-in-methods"},K("applications:edit.sections.signOnMethod.tabName")),render:$t}),se.tZ.editApplication.showProvisioningSettings&&(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_PROVISIONING_SETTINGS"))&&!ee()&&!yt&&(null!=me&&null!==(r=me.legacyMode)&&void 0!==r&&r.applicationSystemAppsSettings||(null==k?void 0:k.name)!==Ie.j.MY_ACCOUNT_APP_NAME)&&se.tZ.editApplication.isTabEnabledForApp(null==He||null===(f=He.oidc)||void 0===f?void 0:f.clientId,vt.wF.PROVISIONING,Ue)&&y.push({componentId:"provisioning","data-tabid":se.N0.PROVISIONING,menuItem:K("applications:edit.sections.provisioning.tabName"),render:Kt}),(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_ADVANCED_SETTINGS"))&&!ee()&&!yt&&(null!=me&&null!==(c=me.legacyMode)&&void 0!==c&&c.applicationSystemAppsSettings||(null==k?void 0:k.name)!==Ie.j.MY_ACCOUNT_APP_NAME)&&se.tZ.editApplication.isTabEnabledForApp(null==He||null===(v=He.oidc)||void 0===v?void 0:v.clientId,vt.wF.ADVANCED,Ue)&&y.push({componentId:"advanced","data-tabid":se.N0.ADVANCED,menuItem:Z.createElement(ge.Z.Item,{"data-tourid":"advanced"},K("applications:edit.sections.advanced.tabName")),render:function(){var e;return se.tZ.editApplication.getOverriddenTab(null==He||null===(e=He.oidc)||void 0===e?void 0:e.clientId,vt.wF.ADVANCED,Qt(),k,Ue,Dt,W)}}),(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_SHARED_ACCESS"))&&!St&&!yt&&se.tZ.editApplication.showApplicationShare&&(Le||window.AppUtils.getConfig().organizationName)&&Re&&_e!==de.$B.SUBORGANIZATION&&!Ie.j.SYSTEM_APPS.includes(null==k?void 0:k.clientId)&&se.tZ.editApplication.isTabEnabledForApp(null==He||null===(g=He.oidc)||void 0===g?void 0:g.clientId,vt.wF.INFO,Ue)&&y.push({componentId:"shared-access","data-tabid":se.N0.SHARED_ACCESS,menuItem:K("applications:edit.sections.sharedAccess.tabName"),render:Xt}),!(0,C.cr)(null==M?void 0:M.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT_INFO"))||ee()||Ot||se.tZ.editApplication.isTabEnabledForApp(null==He||null===(E=He.oidc)||void 0===E?void 0:E.clientId,vt.wF.INFO,Ue)&&y.push({componentId:"info","data-tabid":se.N0.INFO,menuItem:{content:K("applications:edit.sections.info.tabName"),icon:"info circle"},render:Yt}),A.forEach((function(e){y.splice(null==e?void 0:e.index,0,e)})),y):[{componentId:"general","data-tabid":se.N0.GENERAL,menuItem:K("applications:edit.sections.general.tabName"),render:qt},{componentId:"protocol","data-tabid":se.N0.PROTOCOL,menuItem:K("applications:edit.sections.access.tabName"),render:Gt},{componentId:"user-attributes","data-tabid":se.N0.USER_ATTRIBUTES,menuItem:K("applications:edit.sections.attributes.tabName"),render:Wt},{componentId:"sign-in-method","data-tabid":se.N0.SIGN_IN_METHODS,menuItem:K("applications:edit.sections.signOnMethod.tabName"),render:$t},se.tZ.editApplication.showProvisioningSettings&&{componentId:"provisioning","data-tabid":se.N0.PROVISIONING,menuItem:K("applications:edit.sections.provisioning.tabName"),render:Kt},{componentId:"advanced","data-tabid":se.N0.ADVANCED,menuItem:K("applications:edit.sections.advanced.tabName"),render:Qt},{componentId:"shared-access","data-tabid":se.N0.SHARED_ACCESS,menuItem:K("applications:edit.sections.sharedAccess.tabName"),render:Xt},{componentId:"info","data-tabid":se.N0.INFO,menuItem:{content:K("applications:edit.sections.info.tabName"),icon:"info circle grey"},render:Yt}]),null!=Se&&null!==(O=Se.edit)&&void 0!==O&&O.tabs&&Array.isArray(null==Se||null===(w=Se.edit)||void 0===w?void 0:w.tabs)&&(null==Se||null===(P=Se.edit)||void 0===P||null===(P=P.tabs)||void 0===P?void 0:P.length)>0?Jt(j):j);(0,Z.useEffect)((function(){var e;(0,N.Z)(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.hash)&&($.get(Ie.j.APP_STATE_STRONG_AUTH_PARAM_KEY)===Ie.j.APP_STATE_STRONG_AUTH_PARAM_VALUE?window.location.hash=R.iU+se.N0.SIGN_IN_METHODS:"true"===$.get(Ie.j.IS_PROTOCOL)?window.location.hash=R.iU+se.N0.PROTOCOL:"true"===$.get(Ie.j.IS_ROLES)&&(window.location.hash=R.iU+se.N0.APPLICATION_ROLES))}),[$]),(0,Z.useEffect)((function(){(null==B?void 0:B.id)===vt.u.M2M_APPLICATION&&At(!0)}),[B]),(0,Z.useEffect)((function(){var e=[];Y()&&(0,le.Z)().then((function(t){null==t||t.map((function(t){e.push(null==t?void 0:t.url)})),Je(e)})).catch((function(e){var t;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:K("applications:notifications.fetchAllowedCORSOrigins.error.message")})):te((0,I.V_)({description:K("applications:notifications.fetchAllowedCORSOrigins.genericError.description"),level:S.QU.ERROR,message:K("applications:notifications.fetchAllowedCORSOrigins.genericError.message")}))}))}),[tt]),(0,Z.useEffect)((function(){(0,N.Z)(Pe)&&(We(!0),Bt.y.getInboundProtocols(Ee.oK,!1).finally((function(){We(!1)})))}),[Pe]),(0,Z.useEffect)((function(){null!=k&&k.inboundProtocols&&null!=k&&k.id&&xt(k.id)}),[JSON.stringify(null==k?void 0:k.inboundProtocols)]),(0,Z.useEffect)((function(){void 0===Ne&&(ht(!0),Bt.y.getSAMLApplicationMeta().finally((function(){ht(!1)})))}),[Ne,He]),(0,Z.useEffect)((function(){void 0===Te&&(ft(!0),Bt.y.getOIDCApplicationMeta().finally((function(){ft(!1)})))}),[Te,He]),(0,Z.useEffect)((function(){var e;if((!Qe||at)&&null!=k&&k.id&&!ke){He&&Ne&&null!=Ne&&Ne.certificate&&(He.certificate=null==Ne?void 0:Ne.certificate,He.ssoUrl=null==Ne?void 0:Ne.ssoUrl,He.issuer=null==Ne?void 0:Ne.issuer);var t=se.tZ.editApplication.getTabExtensions({application:k,content:null==B||null===(e=B.content)||void 0===e?void 0:e.quickStart,inboundProtocolConfig:He,inboundProtocols:xe,onApplicationUpdate:function(){Dt(null==k?void 0:k.id)},onTriggerTabUpdate:function(e){h.m.push({hash:"#tab=".concat(e)})},template:B},M,W,Ue);Ke(t),ot(!1)}}),[Qe,B,k,xe,He,ke]),(0,Z.useEffect)((function(){$.get(Ie.j.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY)&&ct(!0)}),[$.get(Ie.j.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY)]);return!k||Ge||null==xe||!Qe&&se.tZ.editApplication.extendTabs?Z.createElement(R.pO,null):Z.createElement(Z.Fragment,null,Z.createElement(R.M$,{isLoading:x||Oe,"data-componentid":"".concat(Q,"-resource-tabs"),controlTabRedirectionInternally:!0,defaultActiveTab:function(){var e,t,n=0;(se.tZ.editApplication.extendTabs&&(null==B?void 0:B.id)!==Un.id&&!ee()&&(n=1),null!=Se&&null!==(e=Se.edit)&&void 0!==e&&e.defaultActiveTabId)&&(n=null==Se||null===(t=Se.edit)||void 0===t?void 0:t.defaultActiveTabId);return n}(),onTabChange:function(e,t){Ct.compute((function(){Ct.publish("application-switch-edit-application-tabs",{type:t.panes[t.activeIndex].componentId})}))},panes:en}),rt&&function(){if(!Ze)return null;if(!xe.includes(F.AI.OIDC)||(0,N.Z)(null==He?void 0:He.oidc)||!He.oidc.clientId||!He.oidc.clientSecret)return null;var e=ut.clientSecret||He.oidc.clientSecret,t=ut.clientId||He.oidc.clientId;return Z.createElement(R.cV,{"data-componentid":"".concat(Q,"-client-secret-hash-disclaimer-modal"),type:"warning",open:!0,primaryAction:K("common:confirm"),onPrimaryActionClick:function(){ct(!1),dt({clientId:"",clientSecret:""})}},Z.createElement(R.cV.Header,{"data-componentid":"".concat(Q,"-client-secret-hash-disclaimer-modal-header")},K("applications:confirmations.clientSecretHashDisclaimer.modal.header")),Z.createElement(R.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(Q,"-client-secret-hash-disclaimer-modal-message")},K("applications:confirmations.clientSecretHashDisclaimer.modal.message")),Z.createElement(R.cV.Content,{"data-componentid":"".concat(Q,"-client-secret-hash-disclaimer-modal-content")},Z.createElement(be.Z,null,Z.createElement(he.Z.Row,null,Z.createElement(he.Z.Column,null,Z.createElement(be.Z.Field,null,Z.createElement("label",null,K("applications:confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.label")),Z.createElement(R.OR,{value:t,hideSecretLabel:K("applications:confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.hide"),showSecretLabel:K("applications:confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientId.show"),"data-componentid":"".concat(Q,"-client-secret-readonly-input")})),Z.createElement(be.Z.Field,null,Z.createElement("label",null,K("applications:confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.label")),Z.createElement(R.OR,{secret:!0,value:e,hideSecretLabel:K("applications:confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.hide"),showSecretLabel:K("applications:confirmations.clientSecretHashDisclaimer.forms.clientIdSecretForm.clientSecret.show"),"data-componentid":"".concat(Q,"-client-secret-readonly-input")})))))))}())};Qi.defaultProps={"data-componentid":"edit-application",getConfiguredInboundProtocolConfigs:function(){return null},getConfiguredInboundProtocolsList:function(){return null}};var Ki=n(18723),Xi=n(56866),Yi={};Yi.styleTagTransform=De(),Yi.setAttributes=Le(),Yi.insert=Ze().bind(null,"head"),Yi.domAPI=Te(),Yi.insertStyleElement=je();we()(Xi.Z,Yi);Xi.Z&&Xi.Z.locals&&Xi.Z.locals;function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ea(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ta(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ta(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ta(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(e)}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,o,l,r=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=o.call(n)).done)&&(r.push(i.value),r.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ia(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var aa=function(e){var t,n,w,V,H,z,q=e.location,G=e["data-componentid"],B=new URLSearchParams(q.search),W=(0,U.$)().t,$=(0,_.I0)(),Q=(0,R.fQ)().getLink,K=(0,Z.useRef)(null),X=(0,y.Z)(A.P.APPLICATIONS).data,Y=(0,_.v9)((function(e){return e.application.templates})),J=(0,_.v9)((function(e){return e.config.ui.features})),ee=(0,_.v9)((function(e){return e.auth.tenantDomain})),te=(0,p.EV)(null==J||null===(t=J.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),ne=na((0,Z.useState)(void 0),2),ie=ne[0],ae=ne[1],oe=na((0,Z.useState)(void 0),2),le=oe[0],re=oe[1],ce=na((0,Z.useState)(void 0),2),se=ce[0],ue=ce[1],de=na((0,Z.useState)(void 0),2),pe=de[0],me=de[1],fe=na((0,Z.useState)(void 0),2),ve=(fe[0],fe[1]),ge=na((0,Z.useState)(void 0),2),be=ge[0],he=ge[1],ye=na((0,Z.useState)(!1),2),Ae=ye[0],Ce=ye[1],Se=na((0,Z.useState)(!1),2),Oe=Se[0],Re=Se[1],we=na((0,Z.useState)(),2),Pe=we[0],Te=we[1],Ne=na((0,Z.useState)(),2),Ze=Ne[0],Ue=Ne[1],Le=na((0,Z.useState)(),2),_e=Le[0],je=Le[1],ke=na((0,Z.useState)(!1),2),De=ke[0],Me=ke[1],xe=(0,M.b)(ie,!!ie),Fe=xe.data,Ve=xe.mutate,He=xe.error,ze=(0,x.Z)(ie,F.bA.OIDC,!!ie).data,qe=(0,v.u)(Pe,De).mutate,Ge=na((0,Z.useState)(!1),2),Be=Ge[0],We=Ge[1],$e=na((0,Z.useState)(!1),2),Qe=$e[0],Ke=$e[1],Xe=na((0,Z.useState)(!1),2),Ye=Xe[0],Je=Xe[1],et=na((0,Z.useState)(!1),2),tt=et[0],nt=et[1],it=na((0,Z.useState)(void 0),2),at=it[0],ot=it[1],lt=(0,_.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.applications}));(0,Z.useEffect)((function(){if(Fe&&ze){var e=Bt.y.isApplicationOutdated(null==Fe?void 0:Fe.applicationVersion,!0);Ke(e)}}),[Fe,ze]),(0,Z.useEffect)((function(){Y&&Y instanceof Array&&Y.length>0||Ki.e.getApplicationTemplates().finally()}),[Y]),(0,Z.useEffect)((function(){var e,t,n=null===h.m||void 0===h.m||null===(e=h.m.location)||void 0===e||null===(e=e.pathname)||void 0===e?void 0:e.split("/"),i=null===(t=n[(null==n?void 0:n.length)-1])||void 0===t?void 0:t.split("#")[0];ae(i)}),[]);var rt=function(e){var t=function(e){return e===Ie.j.CUSTOM_APPLICATION_OIDC||e===Ie.j.CUSTOM_APPLICATION_SAML||e===Ie.j.CUSTOM_APPLICATION_PASSIVE_STS?null==Y?void 0:Y.find((function(e){return(null==e?void 0:e.id)===Un.id})):null==Y?void 0:Y.find((function(t){return(null==t?void 0:t.id)===e}))},n=t(null==e?void 0:e.templateId);if(!n){var i=null==X?void 0:X.find((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.templateId)}));if(i){var a,o;ue(i);var l=null!==(a=Ee.Eg.get(null==e||null===(o=e.inboundProtocols)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.type))&&void 0!==a?a:Ie.j.CUSTOM_APPLICATION_OIDC;e.templateId=l,n=t(l)}}return re(n),me(!1),e},ct=(0,Z.useMemo)((function(){var e;if(pe||me(!0),!Y||!X||!Fe)return null;var t,n,i,a=(0,T.Z)(Fe);return null!=a&&null!==(e=a.advancedConfigurations)&&void 0!==e&&e.fragment||null!=a&&a.templateId?rt(a):(null==a||null===(t=a.inboundProtocols)||void 0===t?void 0:t.length)>0?(a.templateId=null!==(n=Ee.Eg.get(null==a||null===(i=a.inboundProtocols)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.type))&&void 0!==n?n:Ie.j.CUSTOM_APPLICATION_OIDC,rt(a)):(me(!1),a)}),[Y,X,Fe]);(0,Z.useEffect)((function(){var e;He&&(null!==(e=He.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?$((0,I.V_)({description:He.response.data.description,level:S.QU.ERROR,message:W("applications:notifications.fetchApplication.error.message")})):$((0,I.V_)({description:W("applications:notifications.fetchApplication.genericError.description"),level:S.QU.ERROR,message:W("applications:notifications.fetchApplication.genericError.message")})))}),[He]),(0,Z.useEffect)((function(){if(K){var e=null==K?void 0:K.current;e&&e.offsetWidth<e.scrollWidth&&Ce(!0)}}),[K,pe]),(0,Z.useEffect)((function(){if("object"===ta(h.m.location.state)){Re(!0);var e=h.m.location.state;Te(e.id),Ue(e.name),Me(e.isLocalAuthenticator),(null==e?void 0:e.redirectTo)&&je(e.redirectTo)}})),(0,Z.useEffect)((function(){J&&J.applications&&((0,C.cr)(J.applications,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_EDIT"))||h.m.push(b.$.getPaths().get("PAGE_NOT_FOUND")))}),[J]);var st,ut,dt=function(){return Z.createElement(O.Es,{onSubmit:mt,"data-componentId":"".concat(G,"-application-outdated-banner-form")},Z.createElement(r.Z,{className:"banner-grid"},Z.createElement(c.Z,{dense:!0},!Bt.y.isAppVersionAllowed(null==Fe?void 0:Fe.applicationVersion,Ie.j.APP_VERSION_1)&&(null==ze?void 0:ze.grantTypes.includes(Ie.j.CLIENT_CREDENTIALS_GRANT))&&Z.createElement(s.Z,{sx:{display:"list-item",listStyleType:"disc"}},Z.createElement(u.Z,null,Z.createElement(d.Z,{variant:"body2"},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.fields.versions.version100.useClientIdAsSubClaimOfAppTokens.instruction")},"The ",Z.createElement(R.EK,{withBackground:!0},"sub")," attribute of an application access token now returns the",Z.createElement(R.EK,{withBackground:!0},"client_id")," generated for the application, instead of the ",Z.createElement(R.EK,{withBackground:!0},"userid"),"of the application owner.")),Z.createElement(R.eb,{link:Q("develop.applications.editApplication.outdatedApplications.versions.version100.useClientIdAsSubClaimOfAppTokens.documentationLink"),showEmptyLink:!1},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.documentationHint")})))),!Bt.y.isAppVersionAllowed(null==Fe?void 0:Fe.applicationVersion,Ie.j.APP_VERSION_1)&&(null==ze?void 0:ze.grantTypes.includes(Ie.j.CLIENT_CREDENTIALS_GRANT))&&Z.createElement(s.Z,{sx:{display:"list-item",listStyleType:"disc"}},Z.createElement(u.Z,null,Z.createElement(d.Z,{variant:"body2"},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.fields.versions.version100.removeUsernameFromIntrospectionRespForAppTokens.instruction")},"The introspection responses for application access tokens no longer return the ",Z.createElement(R.EK,{withBackground:!0},"username")," attribute.")),Z.createElement(R.eb,{link:Q("develop.applications.editApplication.outdatedApplications.versions.version100.removeUsernameFromIntrospectionRespForAppTokens.documentationLink"),showEmptyLink:!1},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.documentationHint")})))),!Bt.y.isAppVersionAllowed(null==Fe?void 0:Fe.applicationVersion,Ie.j.APP_VERSION_2)&&ze&&Z.createElement(s.Z,{sx:{display:"list-item",listStyleType:"disc"}},Z.createElement(u.Z,null,Z.createElement(d.Z,{variant:"body2"},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.fields.versions.version200.addAllRequestedClaimsInJWTAccessToken.instruction")},"Irrespective of the ",Z.createElement(R.EK,{withBackground:!0},"scopes")," requested, all the ",Z.createElement(R.EK,{withBackground:!0}," requested attributes")," will be included in the JWT Access Token.")),Z.createElement(R.eb,{link:Q("develop.applications.editApplication.outdatedApplications.versions.version200.addAllRequestedClaimsInJWTAccessToken.documentationLink"),showEmptyLink:!1},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.documentationHint")})))))),Z.createElement(d.Z,{variant:"body2",className:"banner-action"},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.alert.action")})),Z.createElement(l.Z,{variant:"contained",type:"submit","data-componentId":"".concat(G,"-outdated-app-update-button")},W("common:update")),tt&&pt())},pt=function(){return Z.createElement(R.cV,{primaryActionLoading:Ye,"data-componentId":"".concat(G,"-application-update-confirmation-modal"),onClose:function(){return nt(!1)},type:"negative",open:tt,assertionHint:W("applications:forms.inboundOIDC.sections.outdatedApplications.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){nt(!1)},onPrimaryActionClick:ft,closeOnDimmerClick:!1},Z.createElement(R.cV.Header,{"data-componentId":"".concat(G,"-application-update-confirmation-modal-header")},W("applications:forms.inboundOIDC.sections.outdatedApplications.confirmationModal.header")),Z.createElement(R.cV.Message,{"data-componentId":"".concat(G,"-application-update-confirmation-modal-message"),attached:!0,negative:!0},W("applications:forms.inboundOIDC.sections.outdatedApplications.confirmationModal.message")),Z.createElement(R.cV.Content,{"data-componentId":"".concat(G,"-application-update-confirmation-modal-content")},W("applications:forms.inboundOIDC.sections.outdatedApplications.confirmationModal.content")))},mt=function(){Ve().then((function(e){var t,n,i={applicationVersion:Ie.j.LATEST_VERSION,id:null===(t=e.data)||void 0===t?void 0:t.id,name:null===(n=e.data)||void 0===n?void 0:n.name};ot(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){ea(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i)),nt(!0)}))},ft=function(){Je(!0),(0,D.hN)(at).then((function(){$((0,I.V_)({description:W("applications:notifications.updateApplication.success.description"),level:S.QU.SUCCESS,message:W("applications:notifications.updateApplication.success.message")})),Ke(!1),nt(!1),We(!1)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?$((0,I.V_)({description:e.response.data.description,level:S.QU.ERROR,message:W("applications:notifications.updateApplication.error.message")})):$((0,I.V_)({description:W("applications:notifications.updateApplication.genericError.description"),level:S.QU.ERROR,message:W("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){Je(!1),Ve()}))};return Z.createElement(R.O9,{pageTitle:"Edit Application",title:Z.createElement(Z.Fragment,null,Z.createElement("span",null,null==ct?void 0:ct.name)),contentTopMargin:!0,description:null!==(n=E.t.editApplication.getOverriddenDescription(null==be||null===(w=be.oidc)||void 0===w?void 0:w.clientId,ee,null==le?void 0:le.name))&&void 0!==n?n:Z.createElement("div",{className:"with-label ellipsis",ref:K},null!=ct&&null!==(ut=ct.advancedConfigurations)&&void 0!==ut&&ut.fragment?Z.createElement(j.Z,{size:"small"},W("applications:list.labels.fragment")):null!=se&&se.name?Z.createElement(j.Z,{size:"small",className:""},null==se?void 0:se.name):null!=le&&le.name?Z.createElement(j.Z,{size:"small"},le.name):null,(0,C.cr)(lt,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_OUTDATED_APP_BANNER"))&&Bt.y.isApplicationOutdated(null==ct?void 0:ct.applicationVersion,(null==ct?void 0:ct.clientId)&&!(0,N.Z)(null==ct?void 0:ct.clientId))&&Z.createElement(Z.Fragment,null,Z.createElement(j.Z,{className:"outdated-app-label",size:"small"},Z.createElement(L.c,{i18nKey:W("applications:forms.inboundOIDC.sections.outdatedApplications.label")}))),Bt.y.isChoreoApplication(ct)&&Z.createElement(j.Z,{size:"small",className:"choreo-label no-margin-left"},W("extensions:develop.apiResource.managedByChoreoText")),Z.createElement(R.GI,{disabled:!Ae,content:null==ct?void 0:ct.description,trigger:Z.createElement("span",null,null==ct?void 0:ct.description)})),image:null!==(V=E.t.editApplication.getOverriddenImage(null==be||null===(H=be.oidc)||void 0===H?void 0:H.clientId,ee))&&void 0!==V?V:null!=ct&&ct.imageUrl?Z.createElement(R.JT,{name:null==ct?void 0:ct.name,image:null==ct?void 0:ct.imageUrl,size:"tiny"}):Z.createElement(R.Xo,{name:null==ct?void 0:ct.name,size:"tiny",floated:"left"}),loadingStateOptions:{count:5,imageType:"square"},isLoading:pe,backButton:{"data-componentid":"".concat(G,"-page-back-button"),onClick:function(){var e;Oe?_e===Ie.j.ROLE_CALLBACK_REDIRECT?h.m.push({pathname:b.$.getPaths().get("ROLE_EDIT").replace(":id",Pe),state:g.Y.TabIds.CONNECTED_APPS}):(e={targetTab:g.Y.TabIds.CONNECTED_APPS},De?(qe(),h.m.push({pathname:b.$.getPaths().get("AUTH_EDIT").replace(":id",Pe),state:e.targetTab})):h.m.push({pathname:b.$.getPaths().get("IDP_EDIT").replace(":id",Pe),state:e.targetTab})):h.m.push(b.$.getPaths().get("APPLICATIONS"))},text:Oe?W("idp:connectedApps.applicationEdit.back",{idpName:Ze}):W("console:develop.pages.applicationsEdit.backButton")},alertBanner:(st=P()({"application-outdated-alert-expanded-view":Be}),(0,C.cr)(lt,Ie.j.FEATURE_DICTIONARY.get("APPLICATION_OUTDATED_APP_BANNER"))&&Qe&&Z.createElement("div",{className:"banner-wrapper"},Z.createElement(i.Z,{className:st,severity:"warning",action:Z.createElement(o.Z,{display:"flex"},Z.createElement(l.Z,{className:"banner-view-hide-details","data-componentid":"".concat(G,"-outdated-app-view-details-button"),onClick:function(){return We(!Be)}},W(Be?"applications:forms.inboundOIDC.sections.outdatedApplications.alert.hideButton":"applications:forms.inboundOIDC.sections.outdatedApplications.alert.viewButton")),Z.createElement(l.Z,{"data-componentid":"".concat(G,"-outdated-app-ignore-button"),className:"ignore-once-button",onClick:function(){return Ke(!1)}},Z.createElement(k.Z,{link:!0,onClick:function(){return Ke(!1)},size:"small",color:"grey",name:"close","data-componentid":"".concat(G,"-close-btn")})))},Z.createElement(a.Z,{className:"alert-title"},Z.createElement(L.c,{components:{strong:Z.createElement("strong",null)}},W("applications:forms.inboundOIDC.sections.outdatedApplications.alert.title"))),Z.createElement(L.c,null,W("applications:forms.inboundOIDC.sections.outdatedApplications.alert.content")),Be&&dt()))),titleTextAlign:"left",bottomMargin:!1,pageHeaderMaxWidth:!0,"data-componentid":"".concat(G,"-page-layout"),truncateContent:!0,action:Z.createElement(Z.Fragment,null,E.t.editApplication.getActions(null==be||null===(z=be.oidc)||void 0===z?void 0:z.clientId,ee,G))},Z.createElement(f.Z,{template:se},Z.createElement(m.Z,{template:se},Z.createElement(Qi,{application:ct,featureConfig:J,isLoading:pe,setIsLoading:me,onDelete:function(){h.m.push(b.$.getPaths().get("APPLICATIONS"))},onUpdate:function(){Ve()},template:le,"data-componentid":G,urlSearchParams:B,getConfiguredInboundProtocolsList:function(e){ve(e)},getConfiguredInboundProtocolConfigs:function(e){he(e)},readOnly:"true"===B.get(Ie.j.APP_READ_ONLY_STATE_URL_SEARCH_PARAM_KEY)||(null==ct?void 0:ct.access)===vt.Ch.READ||!te}))))};aa.defaultProps={"data-componentid":"application-edit"};const oa=aa},5262:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(11526),a=n(6833),o=n(76271),l=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()).bind(i.AsgardeoSPAClient.getInstance()),r=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.GET,url:o.h.getState().config.endpoints.CORSOrigins};return l(e).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to fetch the CORS origins")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},92529:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(96124),a=n(76271),o=n(6833);const l=function(e,t,n,l,r,c){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.f2.GET,params:{after:l,before:r,filter:t,limit:n,recursive:c},url:"".concat(s?a.h.getState().config.endpoints.rootOrganization:a.h.getState().config.endpoints.organizations,"/organizations")},d=(0,i.Z)(e?u:null,{shouldRetryOnError:!1}),p=d.data,m=d.error;return{data:p,error:m,isLoading:!m&&!p,isValidating:d.isValidating,mutate:d.mutate}}},95125:(e,t,n)=>{n.d(t,{P:()=>S});var i=n(40838),a=n(43516),o=n(64704),l=n(44194),r=n(47245),c=n(89141),s=n(51835),u=n.n(s),d=n(27975),p=n.n(d),m=n(55900),f=n.n(m),v=n(21555),g=n.n(v),b=n(3621),h=n.n(b),E=n(5062),y=n.n(E),A=n(42291),C={};C.styleTagTransform=y(),C.setAttributes=g(),C.insert=f().bind(null,"head"),C.domAPI=p(),C.insertStyleElement=h();u()(A.Z,C);A.Z&&A.Z.locals&&A.Z.locals;var S=function(e){var t=e.data,n=e.content,s=e.isLoading,u=e["data-componentid"],d=void 0===u?"markdown-guide":u,p=(0,r.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.appBaseName})),m=(0,l.useMemo)((function(){return n.replace(/\${([^}]+?)}/g,(function(e,n){var i=(0,o.Z)(t,n);return i&&"string"==typeof i?i:e}))}),[n,t]);return l.createElement(c.Z,{className:"markdown-guide","data-componentid":d},l.createElement(c.Z.Row,{columns:1},l.createElement(c.Z.Column,{mobile:16,tablet:16,computer:13},s||!m?l.createElement(a.pO,{inline:"centered",active:!0}):l.createElement(a.UG,{properties:{onHandleInternalUrl:function(e){var t,n,a=e;null!==(t=a)&&void 0!==t&&t.startsWith("/")||(a="/"+a),null!==(n=a)&&void 0!==n&&n.startsWith(p)||(a=p+a),i.m.push({pathname:a})}},source:m}))))}},80854:(e,t,n)=>{n.d(t,{d:()=>h,x:()=>b});var i,a=n(11526),o=n(65388),l=n(96124),r=n(43939),c=n(6833),s=n(60507);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,f(i.key),i)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var v=p((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));i=v,m(v,"WS_FEDERATION_CONFIG_FETCH_ERROR_CODE","WFC-00001"),m(v,"WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE","WFC-00002"),m(v,"WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE","WFC-00003"),m(v,"ErrorMessages",{WS_FEDERATION_CONFIG_FETCH_ERROR_CODE:new s.O(i.WS_FEDERATION_CONFIG_FETCH_ERROR_CODE,"An error occurred while fetching the WS Federation configurations.","Error while fetching the WS Federation configurations",null),WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE:new s.O(i.WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while fetching the WS Federation configurations.","Invalid Status Code while fetching the WS Federation configurations",null),WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE:new s.O(i.WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE,"An error occurred while updating the WS Federation configurations.","Error while updating the WS Federation configurations",null)});var g=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()),b=function(){var e={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,url:o.D.getServiceResourceEndpoints().passiveStsConfigurations},t=(0,l.Z)(e),n=t.data,i=t.error;return{data:n,error:i,isLoading:!i&&!n,isValidating:t.isValidating,mutate:t.mutate}},h=function(e){var t={data:e,headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.PATCH,url:o.D.getServiceResourceEndpoints().passiveStsConfigurations};return g(t).then((function(e){if(200!==e.status&&201!==e.status)throw new r.u(v.ErrorMessages.WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t,n=v.ErrorMessages.WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE.getErrorMessage();throw new r.u(n,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))}},40018:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(92336),a=n(31549),o=n(23269),l=n(14517);const r=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,r=(0,i.__rest)(e,["className"]);const c=(0,l.Z)("oxygen-paper",n);return(0,a.jsx)(o.Z,Object.assign({className:c},r,{ref:t}))}))},95863:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(51139),a=n.n(i),o=n(32234),l=n.n(o)()(a());l.push([e.id,".client-attestation-info-alert{margin-bottom:1rem}.fido-enabled-warn-alert{margin-top:1rem}",""]);const r=l},56866:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(51139),a=n.n(i),o=n(32234),l=n.n(o)()(a());l.push([e.id,".application-branding-link{cursor:pointer}.ignore-once-button{color:#788997}.banner-detail-card{border:0;border-top-left-radius:0;border-top-right-radius:0;background:#fffaf3;padding:5px;padding-left:35px}.banner-detail-content{padding:0}.banner-grid{padding-left:30px}.application-outdated-alert-expanded-view{border-bottom-left-radius:0;border-bottom-right-radius:0}.spaced-list li{margin-bottom:10px}.banner-wrapper{margin-bottom:20px}.banner-view-hide-details{min-width:120px}.banner-action{margin:0 0 1.5em 0 !important}",""]);const r=l},42291:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(51139),a=n.n(i),o=n(32234),l=n.n(o)()(a());l.push([e.id,".markdown-guide{margin-left:0 !important;margin-right:0 !important}",""]);const r=l},91009:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(25257),a=n(29419),o=n(89521),l=n(78880),r=n(75456),c=n(43);const s=(0,l.Z)((function(e,t){var n=(0,c.Z)(t);return(0,r.Z)(n)&&(n=void 0),(0,r.Z)(e)?(0,i.Z)(e,(0,a.Z)(t,1,r.Z,!0),(0,o.Z)(n,2)):[]}))}}]);