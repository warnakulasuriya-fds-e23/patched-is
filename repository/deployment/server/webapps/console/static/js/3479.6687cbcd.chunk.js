"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[3479],{27298:(e,t,n)=>{n.d(t,{l:()=>l});var i=n(43516),o=n(44194),r=n(89141),a=n(62415),l=function(e){var t=e.tabId,n=e.children,l=(e["data-componentid"],(0,a.Z)()),c=l.templateMetadata,s=l.isTemplateMetadataRequestLoading,u=(0,o.useMemo)((function(){var e,n=[];return null==c||null===(e=c.edit)||void 0===e||null===(e=e.tabs)||void 0===e||e.forEach((function(e){var i;(null==e?void 0:e.id)===t&&(null!=e&&e.hiddenComponents&&Array.isArray(null==e?void 0:e.hiddenComponents)&&(null==e||null===(i=e.hiddenComponents)||void 0===i?void 0:i.length)>0&&(n=null==e?void 0:e.hiddenComponents))})),n}),[c,t]);return s||!u?o.createElement(r.Z.Row,{columns:1},o.createElement(r.Z.Column,{mobile:16,tablet:16,computer:16},o.createElement(i.pO,{inline:"centered",active:!0}))):0===(null==u?void 0:u.length)?o.createElement(o.Fragment,null,n):o.createElement(o.Fragment,null,o.Children.map(n,(function(e){var t,n=null==e||null===(t=e.props)||void 0===t?void 0:t["data-componentid"];return n&&null!=u&&u.includes(n)?null:e})))}},8285:(e,t,n)=>{n.d(t,{Z:()=>o});var i=(0,n(44194).createContext)(null);i.displayName="ApplicationTemplateMetadataContext";const o=i},62415:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(44194),o=n(8285);const r=function(){var e=(0,i.useContext)(o.Z);if(void 0===e)throw new Error("useApplicationTemplateMetadata hook must be used within a ApplicationTemplateMetadataProvider");return e}},90236:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(96124),o=n(76271),r=n(6833);const a=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a={headers:{Accept:"application/json","Content-Type":"application/json"},method:r.f2.GET,url:"".concat(o.h.getState().config.endpoints.applications,"/").concat(e,"/inbound-protocols/").concat(t)},l=(0,i.Z)(n?a:null),c=l.data,s=l.error;return{data:c,error:s,isLoading:!s&&!c,isValidating:l.isValidating,mutate:l.mutate}}},70393:(e,t,n)=>{n.d(t,{E:()=>ei});var i=n(55007),o=n(23658),r=n(1989),a=n(76271),l=n(51021),c=n(6833),s=n(82406),u=n(43516),d=n(64704),p=n(23744),m=n(44194),f=n(10479),g=n(59673),h=n(47245),v=n(62508),b=n(89141),E=n(10909),y=n(12638),A=n(22557),T=n.n(A),S=n(42177),O=n(95165),I=n(50735);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var N=function(e){var t=e.className,n=e.disabled,i=e.displayName,o=e.image,r=e.key,a=e.onClick,l=e.overlayOpacity,c=e.raised,s=e.showOption,d=e.iconClass,p=e["data-testid"],g=(0,f.$)().t,h=T()("tech-selection basic-card",{"disabled no-hover":n},t),v=w((0,m.useState)(!1),2),b=v[0],E=v[1],y=w((0,m.useState)(!1),2),A=y[0],C=y[1];return m.createElement(O.Z,{as:"div",link:!1,key:r,raised:c,"data-testid":null!=p?p:"protocol-card-".concat((0,S.Z)(i)),className:h,onClick:s?function(){return C(!A)}:!n&&a,onMouseEnter:function(){return E(!0)},onMouseLeave:function(){return E(!1)}},n&&m.createElement(I.Z,{className:"lighter",active:b},g("common:featureAvailable")),m.createElement(O.Z.Content,{textAlign:"center",style:{opacity:n?l:1}},m.createElement(u.dn,{defaultIcon:!0,transparent:!0,size:"mini",className:"mb-2 ".concat(d," "),icon:o}),m.createElement(O.Z.Description,null,i)))};N.defaultProps={"data-testid":"technology-card",showOption:!1};var R=n(50699),_=n(29903),L=n(48773),P=n(35407),k=function(e){var t,n=e.setSAMLProtocol,i=e["data-testid"];return m.createElement(u.pJ,{basic:!0,"data-testid":i},m.createElement(b.Z,null,(t=[{image:(0,_.pr)().manual,mode:L.T6.MANUAL,name:P.y.resolveSAMLConfigModeDisplayName(L.T6.MANUAL)},{image:(0,_.pr)().fileBased,mode:L.T6.META_FILE,name:P.y.resolveSAMLConfigModeDisplayName(L.T6.META_FILE)},{image:(0,_.pr)().URLBased,mode:L.T6.META_URL,name:P.y.resolveSAMLConfigModeDisplayName(L.T6.META_URL)}],m.createElement(b.Z.Row,{className:"protocol-selection-wrapper check",textAlign:"center"},m.createElement(b.Z.Column,{width:16},m.createElement("div",{"data-testid":i},m.createElement(u.X6,{as:"h2",className:"mb-1",compact:!0},"Which mode are you using?"),m.createElement(u.xv,{muted:!0},"Select the mode of configuration for your SAML application."),m.createElement(v.Z,{hidden:!0}),!(0,R.Z)(t)&&Array.isArray(t)&&t.length>0&&m.createElement(O.Z.Group,{centered:!0,className:"tech-selection-cards mt-3",itemsPerRow:9},t.map((function(e,t){var i;return m.createElement(N,{key:t,raised:!1,"data-testid":null!==(i=e["data-testid"])&&void 0!==i?i:"technology-card-".concat((0,S.Z)(e.name)),onClick:function(){return n(e.mode)},displayName:e.name,overlayOpacity:.6,image:e.image,className:"protocol-card",iconClass:e.mode===L.T6.META_FILE})})))))))))};k.defaultProps={"data-testid":"protocol-saml-configuration-mode-landing"};var M=n(6567),U=n(39709),x=n(9821),D=n(89608),Z=n(55368),j=n(84548),F=n(73348),H=n(36940),V=n(16590),B=n(96334),q=n(34194),G=n(19980),$=n(47018),z=["certificate","data-testid"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(null,arguments)}var K=function(e){var t=e.certificate,n=e["data-testid"],i=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,z),o=(0,f.$)().t,a=m.createElement(G.Z,{className:"certificate","data-testid":n},m.createElement("p",{className:"certificate-field"},"We were unable to read this certificate. Currently we only support displaying public key information in certificate types of ",H.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return m.createElement("span",{key:"".concat(e,"+").concat(t)},m.createElement(u.EK,null,e),"\xa0")}))," key algorithms. Support for ",m.createElement("strong",null,"Elliptic Curve Cryptography"),"\xa0 key algorithms will be enabled soon."));return m.createElement($.Z,W({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(n,"-view-certificate-modal")},i),m.createElement($.Z.Header,null,m.createElement("div",{className:"certificate-ribbon"},m.createElement(u.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,r._5)().ribbon}),m.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&V.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),m.createElement("br",null),m.createElement("div",{className:"certificate-serial"},"Serial Number: ",null==t?void 0:t.serialNumber))),m.createElement($.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?a:m.createElement(u.KB,{certificate:t,labels:{issuerDN:o("certificates:keystore.summary.issuerDN"),subjectDN:o("certificates:keystore.summary.subjectDN"),validFrom:o("certificates:keystore.summary.validFrom"),validTill:o("certificates:keystore.summary.validTill"),version:o("certificates:keystore.summary.version")}})))};function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return J(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}K.defaultProps={"data-testid":"certificate-form-field-modal"};var X=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,r=e.readOnly,a=e.isLoading,l=e["data-testid"],d=(0,f.$)().t,p=(0,h.I0)(),g=Q((0,m.useState)(!1),2),y=g[0],A=g[1],T=Q((0,m.useState)(!1),2),S=T[0],O=T[1],I=Q((0,m.useState)(void 0),2),w=I[0],C=I[1],N=Q((0,m.useState)(null),2),_=N[0],P=N[1];(0,m.useEffect)((function(){j.el.PEM===(null==t?void 0:t.type)&&(A(!0),null!=t&&t.value&&C(t.value))}),[t]);var k=function(){if(n){var e=null==n?void 0:n.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=i.properties.find((function(t){return t.key===e.name}));return function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:M(null==e?void 0:e.availableValues),"data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-dropdown")}))):null!=e&&e.isConfidential?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:d("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:d("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("applications:forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===L.og.BOOLEAN?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:d("applications:forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-checkbox")}))):m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:d("applications:forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:d("applications:forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===L.og.INTEGER?"number":"text","data-testid":"".concat(l,"-").concat(null==e?void 0:e.name,"-input")})))}(e,t)}))}},M=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},U=function(e){var t,n=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(e);try{for(o.s();!(t=o.n()).done;){var r=Q(t.value,2),a=r[0],l=r[1],c=void 0;c=l instanceof Array?{key:a,value:l.length>0}:{key:a,value:l},n.push(c)}}catch(s){o.e(s)}finally{o.f()}return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:y?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{configName:null==i?void 0:i.configName,name:null==i?void 0:i.name,properties:[].concat(n)}}};(0,m.useEffect)((function(){n&&k()}),[n]);return m.createElement(B.Es,{onSubmit:function(e){o(U(e))}},m.createElement(b.Z,null,k(),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},d("applications:forms.advancedConfig.sections.certificate.heading")),m.createElement(B.gN,{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:j.el.JWKS,listen:function(e){A("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:j.el.JWKS},{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}],readOnly:r,"data-testid":"".concat(l,"-certificate-type-radio-group")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},y?m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"certificateValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:x.j.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:j.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){C(e.get("certificateValue"))},readOnly:r,"data-testid":"".concat(l,"-certificate-textarea")}),m.createElement(u.kW,null,d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.hint")),m.createElement(u.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),y&&w&&((t=V.CertificateManagementUtils.canSafelyParseCertificate(w)?V.CertificateManagementUtils.displayCertificate(null,w):H.lu.DUMMY_DISPLAY_CERTIFICATE)?(P(t),O(!0)):p((0,s.V_)({description:d("applications:notifications.invalidPEMFile.genericError.description"),level:c.QU.ERROR,message:d("applications:notifications.invalidPEMFile.genericError.message")})))},disabled:(0,R.Z)(w),"data-testid":"".concat(l,"-certificate-info-button")},d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"jwksValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:j.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:r,"data-testid":"".concat(l,"-jwks-input")})))),S&&m.createElement(K,{open:S,certificate:_,onClose:function(){O(!1)}}),!r&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:a,disabled:a},d("common:update"))))))};X.defaultProps={"data-testid":"inbound-custom-protocol-form"};var ee=n(21212),te=n(84882),ne=n(9779),ie=n(73405),oe=n(6894),re=n(37746),ae=n(29314),le=n(78852),ce=n(90955),se=n(87029),ue=n(21257),de=n(86105),pe=n(1651),me=n(65397),fe=n(66528),ge=n(37077),he=n(77757),ve=n(73432),be=n(53036),Ee=n(20456),ye=n(65535),Ae=n(45572),Te=n(6288),Se=n(56514),Oe=n(17498),Ie=n(49748),we=n(11192),Ce=n(51835),Ne=n.n(Ce),Re=n(27975),_e=n.n(Re),Le=n(55900),Pe=n.n(Le),ke=n(21555),Me=n.n(ke),Ue=n(3621),xe=n.n(Ue),De=n(5062),Ze=n.n(De),je=n(61213),Fe={};Fe.styleTagTransform=Ze(),Fe.setAttributes=Me(),Fe.insert=Pe().bind(null,"head"),Fe.domAPI=_e(),Fe.insertStyleElement=xe();Ne()(je.Z,Fe);je.Z&&je.Z.locals&&je.Z.locals;var He=function(e){var t=e.selected,n=e.displayName,i=e.claimURI,o=e.renderOptionProps;return m.createElement("li",o,m.createElement(Ie.Z,{container:!0,justifyContent:"space-between",alignItems:"center",xs:12},m.createElement(Ie.Z,{container:!0,alignItems:"top",xs:8},m.createElement(Ie.Z,null,m.createElement(Oe.Z,{checked:t,className:"access-token-attribute-option-checkbox"})),m.createElement(Ie.Z,{xs:5},m.createElement(we.Z,{primary:n}),m.createElement(u.EK,null,i)))))},Ve=n(90302),Be=n(84025),qe=n.n(Be),Ge=n(26154),$e=n(93545),ze=n(64643);function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Qe=function(e){var t=e.closeWizard,n=e.currentStep,i=e.updatePEMValue,o=e["data-testid"],r=(0,f.$)().t,a=We((0,B.cC)(),2),l=a[0],c=a[1],s=We((0,B.cC)(),2),d=s[0],p=s[1],g=We((0,m.useState)(void 0),1)[0],h=We((0,m.useState)(n),2),v=h[0],E=h[1],y=We((0,m.useState)(!1),2),A=y[0],T=y[1],S=We((0,u.IK)(),3),O=S[0],I=S[2];(0,m.useEffect)((function(){void 0!==g&&E(v-1)}),[g]);var w=[{content:m.createElement($e.J,{triggerCertificateUpload:d,triggerSubmit:l,onSubmit:function(e){!function(e){i(e),t()}(e)},setShowFinishButton:T}),icon:(0,ze.ot)().general,title:r("certificates:keystore.wizard.steps.upload")}];return m.createElement($.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-testid":o,closeOnDimmerClick:!1,closeOnEscape:!0},m.createElement($.Z.Header,{className:"wizard-header"},r("applications:wizards.applicationCertificateWizard.heading"),m.createElement(u.X6,{as:"h6"},r("applications:wizards.applicationCertificateWizard.subHeading"))),m.createElement($.Z.Content,{className:"content-container",scrolling:!0},O&&I,w[v].content),m.createElement($.Z.Actions,null,m.createElement(b.Z,null,m.createElement(b.Z.Row,{column:1},m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{floated:"left",onClick:function(){return t()},"data-testid":"".concat(o,"-cancel-button")},r("common:cancel"))),m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},v===w.length-1&&m.createElement(u.KM,{disabled:!A,floated:"right",onClick:function(){if(0===v)p(),c()},"data-testid":"".concat(o,"-finish-button")},r("common:finish")))))))};function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Je(){Je=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var S=E.prototype=v.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Ye(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function w(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=C(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function C(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ye(t)+" is not iterable")}return b.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ye(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ye(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nt(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Qe.defaultProps={currentStep:0,"data-testid":"add-application-certificate-wizard"};var rt=function(e){var t=e.deleteAllowed,n=e.reasonInsideTooltipWhyDeleteIsNotAllowed,i=e.onUpdate,o=e.application,a=e.applicationCertificate,l=e.updatePEMValue,d=e["data-testid"],p=(0,f.$)().t,g=(0,h.I0)(),E=it((0,m.useState)(null),2),y=E[0],A=E[1],T=it((0,m.useState)(!1),2),S=T[0],O=T[1],I=it((0,m.useState)(null),2),w=I[0],C=I[1],N=it((0,m.useState)(!1),2),R=N[0],_=N[1],L=it((0,m.useState)(!1),2),P=L[0],k=L[1],U=it((0,m.useState)(!1),2),x=U[0],D=U[1];(0,m.useEffect)((function(){if(a){var e=[];V.CertificateManagementUtils.canSafelyParseCertificate(a)?null==e||e.push(V.CertificateManagementUtils.displayCertificate(null,a)):null==e||e.push(H.lu.DUMMY_DISPLAY_CERTIFICATE),A(e)}}),[a]),(0,m.useEffect)((function(){w&&O(!0)}),[w]),(0,m.useEffect)((function(){S||C(null)}),[S]);var Z=function(e){C(e)},F=function(){var e,t=(e=Je().mark((function e(){var t;return Je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),l(""),A(null),e.prev=4,t={general:{advancedConfigurations:{certificate:{type:j.el.PEM,value:""}}}},e.next=8,(0,M.hN)(et({id:null==o?void 0:o.id},t.general));case 8:g((0,s.V_)({description:p("applications:notifications.deleteCertificateSuccess.description"),level:c.QU.SUCCESS,message:p("applications:notifications.deleteCertificateSuccess.message")})),e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(4),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=16;break}return g((0,s.V_)({description:e.t0.response.data.description,level:c.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 16:g((0,s.V_)({description:p("applications:notifications.deleteCertificateGenericError.description"),level:c.QU.ERROR,message:p("applications:notifications.deleteCertificateGenericError.message")}));case 17:return e.prev=17,k(!1),D(!1),i(o.id),e.finish(17);case 22:case"end":return e.stop()}}),e,null,[[4,11,17,22]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){nt(r,i,o,a,l,"next",e)}function l(e){nt(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),q=m.createElement(u.cV,{onClose:function(){return k(!1)},onSecondaryActionClick:function(){return k(!1)},primaryActionLoading:x,onPrimaryActionClick:F,open:P,type:"negative",primaryAction:p("applications:confirmations.certificateDelete.primaryAction"),secondaryAction:p("applications:confirmations.certificateDelete.secondaryAction"),"data-testid":"".concat(d,"-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(d,"-delete-confirmation-modal-header")},p("applications:confirmations.certificateDelete.header")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(d,"-delete-confirmation-modal-message")},p("applications:confirmations.certificateDelete.message"))),$=function(e,t,n){var i,o,r=qe()(t);switch(V.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case c.WE.VALID:i="check circle",o="green";break;case c.WE.WILL_EXPIRE_SOON:i="exclamation circle",o="yellow";break;default:i="times circle",o="red"}return m.createElement(m.Fragment,null,n+H.lu.SPACE_CHARACTER,m.createElement(u.GI,{trigger:m.createElement(Ge.Z,{name:i,color:o}),content:"Expiry date: "+r.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},z=function(e){return m.createElement(u.Yt,{name:null!=e&&e.infoUnavailable?H.lu.QUESTION_MARK:V.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})},W=function(e){return m.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",m.createElement(u.GI,{trigger:m.createElement(Ge.Z,{onClick:function(){return Z(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return m.createElement(B.Es,null,y?m.createElement(b.Z,null,m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{width:16},m.createElement(v.Z,{hidden:!0}),m.createElement(u.Db,{fill:!0,relaxed:!1,className:"application-list",loadingStateOptions:{count:Ve.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null==y?void 0:y.map((function(e,i){return m.createElement(u.zA,{key:i,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-testid":"".concat(d,"-edit-cert-").concat(i,"-button"),icon:"pencil",onClick:function(){return _(!0)},popupText:"Change certificate",type:"button"},{"data-testid":"".concat(d,"-edit-cert-").concat(i,"-button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return Z(e)},popupText:"View certificate",type:"button"},{"data-testid":"".concat(d,"-delete-cert-").concat(i,"-button"),disabled:!t,icon:"trash alternate",onClick:function(){return k(!0)},popupText:t?p("users:usersList.list.iconPopups.delete"):n,type:"button"}],actionsFloated:"right",avatar:z(e),itemHeader:null!=e&&e.infoUnavailable?W(e):$(e.validFrom,e.validTill,V.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:V.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{width:16},m.createElement(v.Z,{hidden:!0}),m.createElement(G.Z,null,m.createElement(u.$J,{title:p("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.title"),image:(0,r.jF)().emptyList,subtitle:[p("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.description1"),p("applications:wizards.applicationCertificateWizard.emptyPlaceHolder.description2")],imageSize:"tiny",action:m.createElement(u.KM,{onClick:function(){return _(!0)},"data-testid":"".concat(d,"-emptyPlaceholder-add-certificate-button"),type:"button"},m.createElement(Ge.Z,{name:"add"}),p("authenticationProvider:buttons.addCertificate")),"data-testid":"".concat(d,"-empty-placeholder")})),m.createElement(v.Z,{hidden:!0})))),R&&m.createElement(Qe,{closeWizard:function(){return _(!1)},updatePEMValue:l,"data-testid":"".concat(d,"-add-certificate-wizard")}),q,S&&m.createElement(K,{open:S,certificate:w,onClose:function(){return O(!1)}}))};function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}rt.defaultProps={"data-testid":"application-certificate-list",deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var ct=function(e){var t=e.protocol,n=e.deleteAllowed,i=e.reasonInsideTooltipWhyDeleteIsNotAllowed,o=e.onUpdate,r=e.application,a=e.certificate,d=e.triggerSubmit,p=e.hidden,E=e.hideJWKS,y=e.readOnly,A=e.updateCertFinalValue,T=e.updateCertType,S=e.canDiscardCertificate,O=e["data-testid"],I=(0,f.$)().t,w=(0,h.I0)(),C=at((0,m.useState)(!1),2),N=C[0],_=C[1],P=at((0,m.useState)(j.el.NONE),2),k=P[0],M=P[1],U=at((0,m.useState)(void 0),2),x=U[0],D=U[1],Z=at((0,m.useState)(void 0),2),F=Z[0],H=Z[1],G=at((0,m.useState)(!1),2),$=G[0],z=G[1],W=at((0,m.useState)(!1),2),K=W[0],Q=W[1],Y=at((0,m.useState)(!1),2),J=Y[0],X=Y[1];(0,m.useEffect)((function(){null!=a&&a.type&&M(null==a?void 0:a.type)}),[a]),(0,m.useEffect)((function(){j.el.PEM===k?(A(x),(0,R.Z)(x)||_(!1)):j.el.JWKS===k&&A(F)}),[x,F]),(0,m.useEffect)((function(){j.el.PEM===(null==a?void 0:a.type)?null!=a&&a.value&&D(a.value):j.el.JWKS===(null==a?void 0:a.type)&&null!=a&&a.value&&H(a.value)}),[a]),(0,m.useEffect)((function(){ee(k),j.el.PEM===k?H(""):j.el.JWKS===k&&D("")}),[k]),(0,m.useEffect)((function(){(null==r?void 0:r.templateId)===j.u.M2M_APPLICATION&&X(!0)}),[r]);var ee=function(e){e!==j.el.PEM||(0,R.Z)(F)?e!==j.el.JWKS||(0,R.Z)(x)||w((0,s.V_)({description:I("authenticationProvider:notifications.changeCertType.jwks.description"),level:c.QU.WARNING,message:I("authenticationProvider:notifications.changeCertType.jwks.message")})):w((0,s.V_)({description:I("authenticationProvider:notifications.changeCertType.pem.description"),level:c.QU.WARNING,message:I("authenticationProvider:notifications.changeCertType.pem.message")})),k===j.el.NONE&&a?Q(!0):Q(!1),T(e)};return p?null:m.createElement(B.Es,{onSubmit:function(){ee(k),k===j.el.PEM&&(0,R.Z)(x)&&_(!0)},submitState:d},m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},I("applications:forms.advancedConfig.sections.certificate.heading")),m.createElement(B.gN,{label:I("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"certificateType",default:k,listen:function(e){M(e.get("certificateType")),ee(e.get("certificateType"))},onBefore:function(e,t){var n=t;return!(j.el.NONE===n&&S&&!S())||(z(!0),!1)},type:"radio",value:null==a?void 0:a.type,children:E?[{label:"None",value:j.el.NONE},{hint:{content:I("applications:forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}]:[{label:"None",value:j.el.NONE},{hint:{content:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.description"),header:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label")},label:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:j.el.JWKS},{hint:{content:I("applications:forms.advancedConfig.sections.certificate.fields.pemValue.description"),header:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label")},label:I("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}],readOnly:y,"data-testid":"".concat(O,"-certificate-type-radio-group")}),K&&m.createElement(u.v0,{"data-componentid":"application-certificate-removal-warning-message",type:"warning",header:"Warning",content:m.createElement(m.Fragment,null,I("applications:forms.inboundSAML.sections.certificates.certificateRemoveConfirmation.content"))}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},k===j.el.PEM&&m.createElement(rt,{deleteAllowed:n,reasonInsideTooltipWhyDeleteIsNotAllowed:i,onUpdate:o,application:r,updatePEMValue:function(e){D(e)},applicationCertificate:x}),k===j.el.JWKS&&!E&&m.createElement(B.gN,{name:"jwksValue",displayErrorOn:"blur",label:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:j.el.JWKS===k,requiredErrorMessage:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(I("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid"))),null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(I("idp:forms.common.internetResolvableErrorMessage")))},listen:function(e){H(e.get("jwksValue"))},value:j.el.JWKS===(null==a?void 0:a.type)&&(null==a?void 0:a.value),readOnly:y,"data-testid":"".concat(O,"-jwks-input")}),N&&(0,R.Z)(x)&&j.el.PEM===k&&m.createElement(u.v0,{type:"error","data-testid":"".concat(O,"-error-message"),content:I("certificates:keystore.errorEmpty")}),t&&!J&&m.createElement(u.kW,null,function(e){switch(e){case L.AI.OAUTH2_OIDC:case L.AI.OIDC:return m.createElement(g.c,{i18nKey:"applications:forms.advancedConfig.sections.certificate.hint.customOidc"},"This certificate is used to encrypt the ",m.createElement(u.EK,null,"id_token"),"returned after the authentication.");case L.AI.SAML:return I("applications:forms.advancedConfig.sections.certificate.hint.customSaml");case L.AI.WS_FEDERATION:return I("applications:forms.advancedConfig.sections.certificate.hint.customPassiveSTS");default:return null}}(t)))),$&&m.createElement(u.cV,{onClose:function(){return z(!1)},type:"negative",open:$,primaryAction:I("common:okay"),onPrimaryActionClick:function(){z(!1)},closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(O,"-invalid-operation-modal-header")},I("applications:forms.advancedConfig.sections.certificate.invalidOperationModal.header")),m.createElement(u.cV.Content,{"data-testid":"".concat(O,"-invalid-operation-modal-content")},I("applications:forms.advancedConfig.sections.certificate.invalidOperationModal.message"))))};ct.defaultProps={"data-testid":"application-certificate-wrapper",deleteAllowed:!0,hidden:!1,hideJWKS:!1,isRequired:!1,protocol:null,reasonInsideTooltipWhyDeleteIsNotAllowed:null};var st=n(87954),ut={};ut.styleTagTransform=Ze(),ut.setAttributes=Me(),ut.insert=Pe().bind(null,"head"),ut.domAPI=_e(),ut.insertStyleElement=xe();Ne()(st.Z,ut);st.Z&&st.Z.locals&&st.Z.locals;function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function pt(){pt=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var S=E.prototype=v.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==dt(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function w(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=C(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function C(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(dt(t)+" is not iterable")}return b.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function mt(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function ft(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){mt(r,i,o,a,l,"next",e)}function l(e){mt(r,i,o,a,l,"throw",e)}a(void 0)}))}}function gt(){return gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},gt.apply(null,arguments)}function ht(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||At(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=dt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||At(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var St=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.documentationLink,r=e.metadata,a=e.initialValues,p=e.onSubmit,y=e.onApplicationRegenerate,A=e.onApplicationRevoke,T=e.readOnly,S=e.allowedOriginList,O=e.tenantDomain,I=e.template,w=e.isLoading,C=e.setIsLoading,N=e.containerRef,k=e.isDefaultApplication,M=e.isSystemApplication,U=e["data-testid"],Z=e["data-componentid"],F=(0,f.$)(),H=F.t,G=(0,h.I0)(),$=(0,h.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),z=(0,h.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),W=(0,h.v9)((function(e){return e.organization.organization})),K=(0,h.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),Q=a.isFAPIApplication,Y=(0,re.Z)(),J=Y.isOrganizationManagementEnabled,X=(0,m.useState)(!1),Oe=yt(X,2),Ie=Oe[0],we=Oe[1],Ce=(0,m.useState)(!1),Ne=yt(Ce,2),Re=Ne[0],_e=Ne[1],Le=(0,m.useState)(""),Pe=yt(Le,2),ke=Pe[0],Me=Pe[1],Ue=(0,m.useState)(""),xe=yt(Ue,2),De=xe[0],Ze=xe[1],je=(0,m.useState)(!1),Fe=yt(je,2),Ve=Fe[0],Be=Fe[1],qe=(0,m.useState)(!1),Ge=yt(qe,2),$e=Ge[0],ze=Ge[1],We=(0,m.useState)(!1),Ke=yt(We,2),Qe=Ke[0],Ye=Ke[1],Je=(0,m.useState)(void 0),Xe=yt(Je,2),et=Xe[0],tt=Xe[1],nt=yt((0,m.useState)(!1),2),it=nt[0],ot=nt[1],rt=yt((0,m.useState)(void 0),2),at=rt[0],lt=rt[1],st=yt((0,m.useState)(!1),2),ut=st[0],dt=st[1],mt=yt((0,m.useState)(void 0),2),vt=mt[0],Et=mt[1],Tt=yt((0,m.useState)([]),2),St=Tt[0],Ot=Tt[1],It=yt((0,m.useState)(!1),2),wt=It[0],Ct=It[1],Nt=yt((0,m.useState)(!1),2),Rt=Nt[0],_t=Nt[1],Lt=yt((0,m.useState)(!1),2),Pt=Lt[0],kt=Lt[1],Mt=yt((0,m.useState)(!1),2),Ut=Mt[0],xt=Mt[1],Dt=yt((0,m.useState)(!1),2),Zt=Dt[0],jt=Dt[1],Ft=yt((0,m.useState)(!1),2),Ht=Ft[0],Vt=Ft[1],Bt=yt((0,m.useState)(null),2),qt=Bt[0],Gt=Bt[1],$t=yt((0,m.useState)(""),2),zt=$t[0],Wt=$t[1],Kt=yt((0,m.useState)(!1),2),Qt=Kt[0],Yt=Kt[1],Jt=yt((0,m.useState)(null),2),Xt=Jt[0],en=Jt[1],tn=yt((0,m.useState)(null),2),nn=tn[0],on=tn[1],rn=yt((0,m.useState)(!1),2)[1],an=yt((0,m.useState)(void 0),2)[1],ln=yt((0,m.useState)(null!=a&&a.clientAuthentication?a.clientAuthentication.tlsClientAuthSubjectDn:null),2),cn=ln[0],sn=ln[1],un=yt((0,m.useState)(void 0),2),dn=un[0],pn=un[1],mn=yt((0,m.useState)(!1),2),fn=mn[0],gn=mn[1],hn=yt((0,m.useState)([]),2),vn=hn[0],bn=hn[1],En=yt((0,m.useState)([]),2),yn=En[0],An=En[1],Tn=yt((0,m.useState)(void 0),2),Sn=Tn[0],On=Tn[1],In=yt((0,m.useState)([]),2),wn=In[0],Cn=In[1],Nn=yt((0,m.useState)(!1),2),Rn=Nn[0],_n=Nn[1],Ln=yt((0,m.useState)(!1),2),Pn=Ln[0],kn=Ln[1],Mn=yt((0,m.useState)(!1),2),Un=Mn[0],xn=Mn[1],Dn=(0,h.v9)((function(e){return e.config})),Zn=(0,m.useRef)(),jn=(0,m.useRef)(),Fn=(0,m.useRef)(),Hn=(0,m.useRef)(),Vn=(0,m.useRef)(),Bn=(0,m.useRef)(),qn=(0,m.useRef)(),Gn=(0,m.useRef)(),$n=(0,m.useRef)(),zn=(0,m.useRef)(),Wn=(0,m.useRef)(),Kn=(0,m.useRef)(),Qn=(0,m.useRef)(),Yn=(0,m.useRef)(),Jn=(0,m.useRef)(),Xn=(0,m.useRef)(),ei=(0,m.useRef)(),ti=(0,m.useRef)(),ni=(0,m.useRef)(),ii=(0,m.useRef)(),oi=(0,m.useRef)(),ri=(0,m.useRef)(),ai=(0,m.useRef)(),li=(0,m.useRef)(),ci=(0,m.useRef)(),si=(0,m.useRef)(),ui=(0,m.useRef)(),di=(0,m.useRef)(),pi=(0,m.useRef)(),mi=(0,m.useRef)(),fi=(0,m.useRef)(),gi=(0,m.useRef)(),hi=(0,m.useRef)(),vi=(0,m.useRef)(),bi=(0,m.useRef)(),Ei=(0,m.useRef)(),yi=(0,m.useRef)(),Ai=(0,m.useRef)(),Ti=yt((0,m.useState)(!1),2),Si=Ti[0],Oi=Ti[1],Ii=yt((0,m.useState)(!1),2),wi=Ii[0],Ci=Ii[1],Ni=yt((0,m.useState)(!1),2),Ri=Ni[0],_i=Ni[1],Li=yt((0,m.useState)(!1),2),Pi=Li[0],ki=Li[1],Mi=yt((0,m.useState)(!1),2),Ui=Mi[0],xi=Mi[1],Di=yt((0,m.useState)(void 0),2),Zi=Di[0],ji=Di[1],Fi=yt((0,m.useState)(j.el.NONE),2),Hi=Fi[0],Vi=Fi[1],Bi=yt((0,m.useState)(!1),2),qi=Bi[0],Gi=Bi[1],$i=yt((0,m.useState)(!1),2),zi=$i[0],Wi=$i[1],Ki=yt((0,m.useState)(void 0),2),Qi=Ki[0],Yi=Ki[1],Ji=yt((0,m.useState)(void 0),2),Xi=Ji[0],eo=Ji[1],to=yt((0,B.cC)(),2),no=to[0],io=to[1],oo=function(){var e;!1===(null==a||null===(e=a.idToken)||void 0===e||null===(e=e.encryption)||void 0===e?void 0:e.enabled)&&(a.idToken.encryption={algorithm:"",enabled:!1,method:""})},ro=(0,ue.z)().isSubOrganization;oo();var ao=yt((0,m.useState)(!1),2),lo=ao[0],co=ao[1],so="PKCE",uo="mandatory",po="supportPlainTransformAlgorithm",mo="JWT",fo=(0,h.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.applications})),go=function(e){e.has(so)&&(e.get(so).find((function(e){return e===uo}))?co(!0):(e.set(so,[]),co(!1)))},ho=function(e){e.has(x.j.HYBRID_FLOW_ENABLE_CONFIG)&&(e.get(x.j.HYBRID_FLOW_ENABLE_CONFIG).find((function(e){return e===x.j.HYBRID_FLOW_ENABLE_CONFIG}))?eo(!0):eo(!1))},vo="private_key_jwt";(0,m.useEffect)((function(){Qi||z===se.$B.SUBORGANIZATION||(0,ce.DM)(W.id,n.id).then((function(e){Yi(e.data.organizations)})).catch((function(e){e.response.data.description?G((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:H("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):G((0,s.V_)({description:H("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:c.QU.ERROR,message:H("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))}))}),[n,z]);(0,m.useEffect)((function(){(0,oe.WN)(null).then((function(e){bn(e)})).catch((function(){G((0,s.V_)({description:H("claims:local.notifications.fetchLocalClaims.genericError.description"),level:c.QU.ERROR,message:H("claims:local.notifications.fetchLocalClaims.genericError.message")}))})),(0,oe.gR)(Ee.K.OIDC_ATTRIBUTE_ID,null).then((function(e){An(e)})).catch((function(){G((0,s.V_)({description:H("claims:external.notifications.fetchExternalClaims.genericError.description"),level:c.QU.ERROR,message:H("claims:external.notifications.fetchExternalClaims.genericError.message")}))}))}),[]),(0,m.useEffect)((function(){if((null==vn?void 0:vn.length)>0&&(null==yn?void 0:yn.length)>0){var e=yn.map((function(e){var t=vn.find((function(t){return t.claimURI===e.mappedLocalClaimURI}));return null!=t&&t.displayName?bt(bt({},e),{},{localClaimDisplayName:t.displayName}):e}));Cn(e)}}),[vn,yn]),(0,m.useEffect)((function(){if(a.accessToken.accessTokenAttributes){var e=a.accessToken.accessTokenAttributes.map((function(e){return wn.find((function(t){return t.claimURI===e}))})).filter((function(e){return void 0!==e}));On(e),_n(P.y.isAppVersionAllowed(null==n?void 0:n.applicationVersion,x.j.APP_VERSION_2))}}),[wn,n]),(0,m.useEffect)((function(){var e,t=null==n||null===(e=n.advancedConfigurations)||void 0===e||null===(e=e.additionalSpProperties)||void 0===e?void 0:e.filter((function(e){return"shareWithAllChildren"===(null==e?void 0:e.name)}));((null==Qi?void 0:Qi.length)>0||(null==t?void 0:t.length)>0&&JSON.parse(t[0].value))&&Wi(!0)}),[Qi]),(0,m.useEffect)((function(){null!=I&&I.id&&null!=Se&&Se.id?(I.id==Se.id&&Oi(!0),C(!1)):C(!1)}),[I]),(0,m.useEffect)((function(){null!=I&&I.id&&null!=Te&&Te.id&&I.id==Te.id&&Ci(!0)}),[I]),(0,m.useEffect)((function(){null!=I&&I.id&&null!=Ae&&Ae.id?((null==I?void 0:I.id)==(null==Ae?void 0:Ae.id)&&_i(!0),C(!1)):C(!1)}),[I]),(0,m.useEffect)((function(){I&&ye?(I.id===ye.id&&ki(!0),C(!1)):C(!0)}),[I]),(0,m.useEffect)((function(){null!=vt&&vt.includes("authorization_code")||null!=vt&&vt.includes("implicit")?lt(!0):lt(!1),!(0,pe.Z)(x.j.IS_REFRESH_TOKEN_GRANT_TYPE_ALLOWED,vt).length&&null!=vt&&vt.includes("refresh_token")?gn(!0):gn(!1)}),[vt,Rt]),(0,m.useEffect)((function(){tt(!1),null!=vt&&vt.includes(x.j.AUTHORIZATION_CODE_GRANT)&&tt(!0)}),[vt,Rt]),(0,m.useEffect)((function(){ot(!1),null!=vt&&vt.includes(x.j.AUTHORIZATION_CODE_GRANT)&&(0,de.cr)(fo,"applications.hybridFlow")&&ot(!0)}),[vt,Rt]),(0,m.useEffect)((function(){dt(!1),bo(vt)&&dt(!0)}),[vt,Rt]);var bo=function(e){return!!(0===(null==e?void 0:e.length)||null!=e&&e.includes("implicit")&&1===(null==e?void 0:e.length))||(!(null==e||!e.includes("implicit")||null==e||!e.includes("refresh_token")||2!==(null==e?void 0:e.length))||(null==e?void 0:e.includes("refresh_token"))&&1===(null==e?void 0:e.length))};(0,m.useEffect)((function(){var e,t,n;if(void 0===vt){var i;if(null!=a&&a.grantTypes&&Et(ht(a.grantTypes)),null!=a&&a.allowedOrigins&&Wt(a.allowedOrigins.toString()),null!=a&&null!==(e=a.hybridFlow)&&void 0!==e&&e.enable)eo(null==a||null===(i=a.hybridFlow)||void 0===i?void 0:i.enable);if(null!=a&&null!==(t=a.hybridFlow)&&void 0!==t&&t.responseType&&"null"!=(null==a||null===(n=a.hybridFlow)||void 0===n?void 0:n.responseType)){var o=a.hybridFlow.responseType.split(",").map((function(e){return e.trim()}));Ot(o)}}}),[a]),(0,m.useEffect)((function(){var e,t;null!=a&&a.accessToken?Ct((null==a||null===(e=a.accessToken)||void 0===e?void 0:e.type)===mo):Ct((null==r||null===(t=r.accessTokenType)||void 0===t?void 0:t.defaultValue)===mo)}),[a,r]);var Eo=!(null!=K&&K.includes("applications.subjectToken"));(0,m.useEffect)((function(){var e;kn(!(null==a||!a.subjectToken)&&(null==a||null===(e=a.subjectToken)||void 0===e?void 0:e.enable)),xn(!!Eo&&!(null==a||!a.subjectToken))}),[a]),(0,m.useEffect)((function(){var e;Rt&&(null!=vt&&vt.includes(x.j.OAUTH2_TOKEN_EXCHANGE)||kn(!1),null!=a&&a.subjectToken&&kn(null==a||null===(e=a.subjectToken)||void 0===e?void 0:e.enable))}),[vt,Rt]),(0,m.useEffect)((function(){null!=i&&i.type&&Vi(null==i?void 0:i.type)}),[i]),(0,m.useEffect)((function(){var e,t;null!=a&&a.accessToken&&!(0,R.Z)(a.accessToken)&&(Q?Yt(!0):null!=a&&null!==(e=a.accessToken)&&void 0!==e&&e.bindingType?(null==a||null===(t=a.accessToken)||void 0===t?void 0:t.bindingType)!==(null===L.ti||void 0===L.ti?void 0:L.ti.NONE)&&Yt(!0):Yt(!1))}),[null==a?void 0:a.accessToken]),(0,m.useEffect)((function(){j.el.PEM===(null==i?void 0:i.type)&&(rn(!0),null!=i&&i.value&&an(i.value))}),[i]),(0,m.useEffect)((function(){(0,R.Z)(Zi)||Hi===j.el.NONE?Gi(!1):Gi(!0)}),[Zi,Hi]);var yo=function(e){switch(e.toLowerCase()){case"none":return H("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.none",{productName:Dn.ui.productName});case"cookie":return H("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.cookie");case"sso-session":return H("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.valueDescriptions.sso_session",{productName:Dn.ui.productName});case"default":return H("applications:forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.default");case"jwt":return H("applications:forms.inboundOIDC.sections.accessToken.fields.type.valueDescriptions.jwt");default:return}};(0,m.useEffect)((function(){var e;dn||pn(null==a||null===(e=a.clientAuthentication)||void 0===e?void 0:e.tokenEndpointAuthMethod)}),[]);var Ao=function(e){return"sso-session"===e.toLowerCase()?H("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.children.ssoBinding.label"):e},To=function(e,t){var n=[];return e&&(t?e.options.map((function(e){n.push({hint:{content:yo(e)},label:Ao(e),value:e})})):e.options.map((function(e,t){e.displayName?n.push({content:m.createElement(fe.Z.Row,{"data-componentId":"".concat(U,"-client-auth-method-table-row-").concat(t)},m.createElement(fe.Z.Cell,null,m.createElement("div",null,e.displayName),m.createElement(u.GI,{content:e.name,inverted:!0,trigger:m.createElement(u.EK,{compact:!0,withBackground:!1},e.name),position:"bottom left"}))),text:e.displayName,value:e.name}):n.push({text:e,value:e!==H("applications:forms.inboundOIDC.dropdowns.selectOption")?e:""})}))),t?n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})):n},So=function(e,t){var n=[];return e&&e.options.map((function(e){if("Default"!==e||t){if((Si||wi)&&t&&"cookie"===e)return!1;n.push({hint:{content:yo(e)},label:Ao(e),value:e})}else n.push({hint:{content:yo(e)},label:"Opaque",value:e})})),n.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}))},Oo=new Map([[H("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.fields.children.code_token.label"),x.j.CODE_TOKEN],[H("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.fields.children.code_idtoken.label"),x.j.CODE_IDTOKEN],[H("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.fields.children.code_idtoken_token.label"),x.j.CODE_IDTOKEN_TOKEN]]),Io=function(e,t){return e===x.j.CODE_TOKEN||e===x.j.CODE_IDTOKEN_TOKEN?m.createElement(m.Fragment,null,m.createElement("label",null,t,!Pi&&m.createElement(u.dn,{icon:(0,_.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):t},wo=function(e){switch(e){case x.j.CODE_TOKEN:return H("applications:forms.inboundOIDC.fields.hybridFlow.hybridFlowResponseType.children.code_token.hint");case x.j.CODE_IDTOKEN_TOKEN:return H("applications:forms.inboundOIDC.fields.hybridFlow.hybridFlowResponseType.children.code_idtoken_token.hint");default:return null}},Co=function(e){var t=[];if(e&&e.options.map((function(e){var n,i=e.name,o=e.displayName;if((null===l.tZ||void 0===l.tZ||null===(n=l.tZ.hiddenGrantTypes)||void 0===n||!n.includes(i))&&(i!==x.j.ORGANIZATION_SWITCH_GRANT||J&&z!==se.$B.TENANT&&zi)&&!(I&&I.id&&(0,d.Z)(l.tZ.allowedGrantTypes,I.id)&&!l.tZ.allowedGrantTypes[ro()?"sub-organization-application":I.id].includes(i)&&x.j.AVAILABLE_GRANT_TYPES.includes(i))){var r,a,c={label:(r=i,a=o,r===x.j.IMPLICIT_GRANT||r===x.j.PASSWORD||r===x.j.CLIENT_CREDENTIALS_GRANT?m.createElement(m.Fragment,null,m.createElement("label",null,a,!Pi&&m.createElement(u.dn,{icon:(0,_.s_)().warning,defaultIcon:!0,colored:!0,transparent:!0,spaced:"left",floated:"right"}))):a),readOnly:Pi&&i===x.j.CLIENT_CREDENTIALS_GRANT,value:i},s=function(e){switch(e){case x.j.IMPLICIT_GRANT:return H("applications:forms.inboundOIDC.fields.grant.children.implicit.hint");case x.j.PASSWORD:return H("applications:forms.inboundOIDC.fields.grant.children.password.hint");case x.j.CLIENT_CREDENTIALS_GRANT:return H("applications:forms.inboundOIDC.fields.grant.children.client_credential.hint");case x.j.REFRESH_TOKEN_GRANT:return H("applications:forms.inboundOIDC.fields.grant.validation.refreshToken");default:return null}}(i);s&&!Pi&&(c.hint={content:s,header:""}),ut&&"refresh_token"===c.value&&(c.disabled=!0),t.push(c)}})),I&&I.id){var n=x.j.TEMPLATE_WISE_ALLOWED_GRANT_TYPE_ARRANGE_ORDER[I.id];if(n){var i,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=At(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(t);try{for(o.s();!(i=o.n()).done;){var r=i.value,a=n.get(r.value);r.index=null!=a?a:1/0}}catch(s){o.e(s)}finally{o.f()}t.sort((function(e,t){return e.index-t.index}))}}if(l.tZ.inboundOIDCForm.disabledGrantTypes&&l.tZ.inboundOIDCForm.disabledGrantTypes[I.id]){var c=l.tZ.inboundOIDCForm.disabledGrantTypes[I.id];return t.filter((function(e){return!c.includes(e.value)}))}return t},No=function(e){e.preventDefault(),kt(!0)},Ro=function(e){var t;return e.get("RevokeAccessToken")?(null===(t=e.get("RevokeAccessToken"))||void 0===t?void 0:t.length)>0:e.get("bindingType")!==L.ti.NONE},_o=function(e,t,n){var o;if(M||k)o={general:{},inbound:bt({},a)},at?(o.inbound.allowedOrigins=P.y.resolveAllowedOrigins(n||zt),o.inbound.callbackURLs=[P.y.buildCallBackUrlWithRegExp(t||ke)]):(o.inbound.allowedOrigins=[],o.inbound.callbackURLs=[]);else{var c,s,u,d,p,m,f,g,h,v,b,E,y,A,T={accessToken:{accessTokenAttributes:null==Sn?void 0:Sn.map((function(e){return e.claimURI})),applicationAccessTokenExpiryInSeconds:e.get("applicationAccessTokenExpiryInSeconds")?Number(e.get("applicationAccessTokenExpiryInSeconds")):Number(null==r?void 0:r.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:(null===(c=e.get("RevokeAccessToken"))||void 0===c?void 0:c.length)>0,type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds")),validateTokenBinding:(null===(s=e.get("ValidateTokenBinding"))||void 0===s?void 0:s.length)>0},grantTypes:e.get("grant"),idToken:{audience:""!==De?De.split(","):[],encryption:{algorithm:Ie&&qi?e.get("algorithm"):null==r||null===(u=r.idTokenEncryptionAlgorithm)||void 0===u?void 0:u.defaultValue,enabled:qi&&(null===(d=e.get("encryption"))||void 0===d?void 0:d.includes("enableEncryption")),method:Ie&&qi?e.get("method"):null==r||null===(p=r.idTokenEncryptionMethod)||void 0===p?void 0:p.defaultValue},expiryInSeconds:Number(e.get("idExpiryInSeconds")),idTokenSignedResponseAlg:e.get("idTokenSignedResponseAlg")},logout:{backChannelLogoutUrl:e.get("backChannelLogoutUrl"),frontChannelLogoutUrl:e.get("frontChannelLogoutUrl")},publicClient:!!Ri||(null===(m=e.get("supportPublicClients"))||void 0===m?void 0:m.length)>0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==r?void 0:r.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(f=e.get("RefreshToken"))||void 0===f?void 0:f.length)>0},scopeValidators:e.get("scopeValidator"),subjectToken:{applicationSubjectTokenExpiryInSeconds:e.get("applicationSubjectTokenExpiryInSeconds")?parseInt(e.get("applicationSubjectTokenExpiryInSeconds"),10):le.c.DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME,enable:(null===(g=e.get("SubjectToken"))||void 0===g?void 0:g.length)>0},validateRequestObjectSignature:(null===(h=e.get("enableRequestObjectSignatureValidation"))||void 0===h?void 0:h.length)>0};if(!l.tZ.inboundOIDCForm.showFrontChannelLogout&&delete T.logout.frontChannelLogoutUrl,!l.tZ.inboundOIDCForm.showScopeValidators&&delete T.scopeValidators,!l.tZ.inboundOIDCForm.showIdTokenEncryption&&delete T.idToken.encryption,!l.tZ.inboundOIDCForm.showBackChannelLogout&&delete T.logout.backChannelLogoutUrl,!l.tZ.inboundOIDCForm.showRequestObjectSignatureValidation&&delete T.validateRequestObjectSignature,T=bt(bt({},T),{},at?{allowedOrigins:P.y.resolveAllowedOrigins(n||zt),callbackURLs:[P.y.buildCallBackUrlWithRegExp(t||ke)]}:{allowedOrigins:[],callbackURLs:[]}),T=bt(bt({},T),{},et?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),it)T=bt(bt({},T),{},{hybridFlow:{enable:(null===(y=e.get("enable-hybrid-flow"))||void 0===y?void 0:y.length)>0,responseType:null!==(A=null==St?void 0:St.join(","))&&void 0!==A?A:null}});else T=bt(bt({},T),{},{hybridFlow:{enable:!1,responseType:null}});if(Pi&&(T=bt(bt({},T),{},{accessToken:bt(bt({},T.accessToken),{},{userAccessTokenExpiryInSeconds:0}),idToken:{audience:ht(T.idToken.audience)},pkce:null,refreshToken:null})),!Re){var S,O=null;if(e.get("tokenEndpointAuthMethod")===vo)O=(null===(S=e.get("tokenEndpointAllowReusePvtKeyJwt"))||void 0===S?void 0:S.length)>0;T=bt(bt({},T),{},{clientAuthentication:{tlsClientAuthSubjectDn:cn,tokenEndpointAllowReusePvtKeyJwt:O,tokenEndpointAuthMethod:e.get("tokenEndpointAuthMethod"),tokenEndpointAuthSigningAlg:e.get("tokenEndpointAuthSigningAlg")}})}T=bt(bt({},T),{},{pushAuthorizationRequest:{requirePushAuthorizationRequest:(null===(v=e.get("requirePushAuthorizationRequest"))||void 0===v?void 0:v.length)>0},requestObject:{encryption:{algorithm:e.get("requestObjectEncryptionAlgorithm"),method:e.get("requestObjectEncryptionMethod")},requestObjectSigningAlg:e.get("requestObjectSigningAlg")},subject:{sectorIdentifierUri:null==a||null===(b=a.subject)||void 0===b?void 0:b.sectorIdentifierUri,subjectType:null==a||null===(E=a.subject)||void 0===E?void 0:E.subjectType}}),null!=a&&a.clientId&&null!=a&&a.clientSecret&&(T=bt(bt({},T),{},{clientId:null==a?void 0:a.clientId,clientSecret:null==a?void 0:a.clientSecret})),o={general:{advancedConfigurations:{certificate:{type:Hi!==j.el.NONE?Hi:null==i?void 0:i.type,value:Hi!==j.el.NONE?Zi:""}}},inbound:bt({},T)},!l.tZ.inboundOIDCForm.showCertificates&&delete o.general.advancedConfigurations.certificate}return o},Lo=function(e,t,n){var i,o,c,s,u={accessToken:{accessTokenAttributes:null==Sn?void 0:Sn.map((function(e){return e.claimURI})),applicationAccessTokenExpiryInSeconds:Number(null==r?void 0:r.defaultApplicationAccessTokenExpiryTime),bindingType:e.get("bindingType"),revokeTokensWhenIDPSessionTerminated:Ro(e),type:e.get("type"),userAccessTokenExpiryInSeconds:Number(e.get("userAccessTokenExpiryInSeconds"))},grantTypes:e.get("grant"),idToken:{audience:""!==De?De.split(","):[],expiryInSeconds:Number(e.get("idExpiryInSeconds"))},publicClient:!0,refreshToken:{expiryInSeconds:e.get("expiryInSeconds")?parseInt(e.get("expiryInSeconds"),10):Number(null==r?void 0:r.defaultRefreshTokenExpiryTime),renewRefreshToken:(null===(i=e.get("RefreshToken"))||void 0===i?void 0:i.length)>0},subjectToken:{applicationSubjectTokenExpiryInSeconds:e.get("applicationSubjectTokenExpiryInSeconds")?parseInt(e.get("applicationSubjectTokenExpiryInSeconds"),10):le.c.DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME,enable:(null===(o=e.get("SubjectToken"))||void 0===o?void 0:o.length)>0}};(u=bt(bt({},u),{},at?{allowedOrigins:P.y.resolveAllowedOrigins(n||zt),callbackURLs:[P.y.buildCallBackUrlWithRegExp(t||ke)]}:{allowedOrigins:[],callbackURLs:[]}),u=bt(bt({},u),{},et?{pkce:{mandatory:e.get("PKCE").includes("mandatory"),supportPlainTransformAlgorithm:!!e.get("PKCE").includes("supportPlainTransformAlgorithm")}}:{pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1}}),it)?u=bt(bt({},u),{},{hybridFlow:{enable:(null===(c=e.get("enable-hybrid-flow"))||void 0===c?void 0:c.length)>0,responseType:null!==(s=null==St?void 0:St.join(","))&&void 0!==s?s:null}}):u=bt(bt({},u),{},{hybridFlow:{enable:!1,responseType:null}});return l.tZ.inboundOIDCForm.showScopeValidators&&(u=bt(bt({},u),{},{scopeValidators:e.get("scopeValidator")})),null!=a&&a.clientId&&null!=a&&a.clientSecret?{inbound:bt(bt({},u),{},{clientId:null==a?void 0:a.clientId,clientSecret:null==a?void 0:a.clientSecret})}:u};(0,m.useEffect)((function(){var e,t;null!=a&&null!==(e=a.idToken)&&void 0!==e&&e.encryption&&we(null===(t=a.idToken.encryption)||void 0===t?void 0:t.enabled)}),[a]),(0,m.useEffect)((function(){_e(null==a?void 0:a.publicClient)}),[a]);var Po,ko,Mo,Uo,xo,Do,Zo,jo,Fo,Ho,Vo,Bo,qo,Go,$o,zo,Wo,Ko,Qo,Yo,Jo,Xo,er,tr,nr,ir,or,rr,ar,lr,cr,sr,ur,dr,pr,mr,fr,gr,hr,vr=function(e){var t=zt;Wt(t=""!==t?t+","+e:e)},br=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"clientSecret":Zn.current.scrollIntoView(t);break;case"grant":jn.current.scrollIntoView(t);break;case"url":Fn.current.scrollIntoView(t);break;case"allowedOrigin":Hn.current.scrollIntoView(t);break;case"supportPublicClients":Vn.current.scrollIntoView(t);break;case"pkce":Bn.current.scrollIntoView(t);break;case"bindingType":$n.current.scrollIntoView(t);break;case"type":zn.current.scrollIntoView(t);break;case"validateTokenBinding":Wn.current.scrollIntoView(t);break;case"revokeAccessToken":Kn.current.scrollIntoView(t);break;case"userAccessTokenExpiryInSeconds":Qn.current.scrollIntoView(t);break;case"refreshToken":Jn.current.scrollIntoView(t);break;case"expiryInSeconds":Xn.current.scrollIntoView(t);break;case"subjectToken":yi.current.scrollIntoView(t);break;case"applicationSubjectTokenExpiryInSeconds":Ai.current.scrollIntoView(t);break;case"audience":ei.current.scrollIntoView(t);break;case"encryption":ti.current.scrollIntoView(t);break;case"algorithm":ni.current.scrollIntoView(t);break;case"method":ii.current.scrollIntoView(t);break;case"idExpiryInSeconds":ri.current.scrollIntoView(t);break;case"backChannelLogoutUrl":ai.current.scrollIntoView(t);break;case"frontChannelLogoutUrl":li.current.scrollIntoView(t);break;case"enableRequestObjectSignatureValidation":ci.current.scrollIntoView(t);break;case"scopeValidator":si.current.scrollIntoView(t);break;case"hybridFlow":Gn.current.scrollIntoView(t)}},Er=function(e){var t=Math.floor(Number(e.toString()));return t!==1/0&&String(t)===e&&t>0},yr=!Si&&!Ri&&!Q&&((null==vt?void 0:vt.includes(x.j.AUTHORIZATION_CODE_GRANT))||(null==vt?void 0:vt.includes(x.j.DEVICE_GRANT))||(null==vt?void 0:vt.includes(x.j.OAUTH2_TOKEN_EXCHANGE)))&&!M&&!k,Ar=!(null!=K&&K.includes("applications.protocol.clientAuthenticationMethod")),Tr=(j.u.CUSTOM_APPLICATION===(null==I?void 0:I.templateId)||j.u.OIDC_WEB_APPLICATION===(null==I?void 0:I.templateId))&&!M&&!k&&(yr||Ar),Sr=function(e,t,n){var i=parseInt(e.get("userAccessTokenExpiryInSeconds"),10)<60,o=parseInt(e.get("expiryInSeconds"),10)<60,r=parseInt(e.get("idExpiryInSeconds"),10)<60;return i||o||r?(Vt(!0),Gt(m.createElement(u.cV,{onClose:function(){return Vt(!1)},type:"warning",open:!0,skipAssertion:!0,primaryAction:H("common:confirm"),secondaryAction:H("common:cancel"),onSecondaryActionClick:function(){return Vt(!1)},onPrimaryActionClick:function(){p(Si?Lo(e,t,n):_o(e,t,n)),Vt(!1)},"data-testid":"".concat(U,"-low-expiry-times-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(U,"-low-expiry-times-confirmation-modal-header")},H("applications:confirmations.lowOIDCExpiryTimes.header")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(U,"-low-expiry-times-confirmation-modal-message")},H("applications:confirmations.lowOIDCExpiryTimes.message")),m.createElement(u.cV.Content,{"data-testid":"".concat(U,"-low-expiry-times-confirmation-modal-content")},m.createElement(u.xv,null,H("applications:confirmations.lowOIDCExpiryTimes.content")),m.createElement(ve.Z,{bulleted:!0},i&&m.createElement(ve.Z.Item,null,H("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.label")),o&&m.createElement(ve.Z.Item,null,H("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.label")),r&&m.createElement(ve.Z.Item,null,H("applications:forms.inboundOIDC.sections.idToken.fields.expiry.label"))),m.createElement(u.xv,null,H("applications:confirmations.lowOIDCExpiryTimes.assertionHint"))))),!0):(Vt(!1),Gt(null),!1)};return!w&&r?m.createElement(m.Fragment,null,m.createElement(B.Es,{onSubmit:function(e){io(),!Si&&l.tZ.inboundOIDCForm.showCertificates&&Hi!==j.el.NONE&&(0,R.Z)(Zi)||(at?Po((function(t){(0,R.Z)(ke)&&(0,R.Z)(t)?(Be(!0),br("url")):ko((function(n){Sr(e,t,n)||p(Si?Lo(e,t,n):_o(e,t,n))}))})):(Sr(e,void 0,void 0)||p(_o(e,void 0,void 0)),C(!1)))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){br(i.value[0]);break}i=n.next()}},onStaleChange:function(e){xi(e)},ref:ui},m.createElement(b.Z,null,(null==a?void 0:a.state)===L.ZM.REVOKED&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.v0,{type:"warning",visible:!0,header:H("applications:forms.inboundOIDC.messages.revokeDisclaimer.heading"),content:H("applications:forms.inboundOIDC.messages.revokeDisclaimer.content")}))),(null==a?void 0:a.clientId)&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(he.Z.Field,null,m.createElement("label",null,H("applications:forms.inboundOIDC.fields.clientID.label")),m.createElement("div",{className:"display-flex"},m.createElement(u.OR,{value:null==a?void 0:a.clientId,"data-testid":"".concat(U,"-client-id-readonly-input")}))),l.tZ.inboundOIDCForm.showNativeClientSecretMessage&&(null==a?void 0:a.state)!==L.ZM.REVOKED&&Si?m.createElement(u.v0,{type:"info",content:m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.fields.clientSecret.message",values:{productName:Dn.ui.productName}},"productName does not issue a\xa0",m.createElement(u.EK,{withBackground:!0},"client_secret")," to native applications or web browser-based applications for the purpose of client authentication.")}):null)),(null==a?void 0:a.clientSecret)&&(null==a?void 0:a.state)!==L.ZM.REVOKED&&!Si&&!Ri&&!M&&!k&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(he.Z.Field,null,m.createElement("label",null,H("applications:forms.inboundOIDC.fields.clientSecret.label")),$?m.createElement(m.Fragment,null,m.createElement(u.v0,{visible:!0,type:"info",content:H("applications:forms.inboundOIDC.fields.clientSecret.hashedDisclaimer")}),!T&&m.createElement(E.Z,{color:"red",className:"oidc-action-button",onClick:No,"data-testid":"".concat(U,"-oidc-regenerate-button")},H("common:regenerate"))):m.createElement("div",{className:"display-flex"},m.createElement(u.OR,{secret:!0,value:null==a?void 0:a.clientSecret,hideSecretLabel:H("applications:forms.inboundOIDC.fields.clientSecret.hideSecret"),showSecretLabel:H("applications:forms.inboundOIDC.fields.clientSecret.showSecret"),"data-testid":"".concat(U,"-client-secret-readonly-input")}),!T&&m.createElement(E.Z,{color:"red",className:"oidc-action-button",onClick:No,"data-testid":"".concat(U,"-oidc-regenerate-button")},H("common:regenerate")))))),!T&&(null==a?void 0:a.clientSecret)&&(null==a?void 0:a.state)===L.ZM.REVOKED&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{color:"green",className:"oidc-action-button ml-0",onClick:function(e){e.preventDefault(),jt(!0)},"data-testid":"".concat(U,"-oidc-regenerate-button")},H("common:activate")))),((null==a?void 0:a.clientId)||(null==a?void 0:a.clientSecret))&&(null==a?void 0:a.state)!==L.ZM.REVOKED&&m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),(null==a?void 0:a.state)!==L.ZM.REVOKED&&m.createElement(m.Fragment,null,!T&&m.createElement(u.PH,{updateButtonRef:di,isFormStale:Ui,containerRef:N},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:w,disabled:w,"data-testid":"".concat(U,"-submit-button-sticky")},H("common:update"))),!M&&!k&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:jn,name:"grant",label:H("applications:forms.inboundOIDC.fields.grant.label"),type:"checkbox",required:!0,requiredErrorMessage:H("applications:forms.inboundOIDC.fields.grant.validations.empty"),children:Co(null==r?void 0:r.allowedGrantTypes),value:null!=vt?vt:null==a?void 0:a.grantTypes,readOnly:T,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get("grant");bo(vt)&&(t=t.filter((function(e){return"refresh_token"!=e}))),Et(t),_t(!Rt)}(e)},"data-testid":"".concat(U,"-grant-type-checkbox-group")}),fn&&m.createElement(ge.Z,{basic:!0,color:"orange",className:"mt-2"},H("applications:forms.inboundOIDC.fields.grant.validation.refreshToken")),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.fields.grant.hint")))),at&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement("div",{ref:Fn}),m.createElement(u.wE,{isAllowEnabled:Si,handleAddAllowedOrigin:function(e){return vr(e)},handleRemoveAllowedOrigin:function(){},tenantDomain:O,allowedOrigins:(0,me.Z)(S,zt.split(",")),labelEnabled:!0,urlState:ke,setURLState:function(e){var t;Me(e),(null!=a&&null!==(t=a.callbackURLs)&&void 0!==t&&t.toString()?P.y.buildCallBackURLWithSeparator(a.callbackURLs.toString()):"")!==e&&xi(!0)},labelName:Ri?"Authorized redirect URIs":H("applications:forms.inboundOIDC.fields.callBackUrls.label"),required:!0,value:null!=a&&null!==(Mo=a.callbackURLs)&&void 0!==Mo&&Mo.toString()?P.y.buildCallBackURLWithSeparator(a.callbackURLs.toString()):"",placeholder:H(Ri?"applications:forms.inboundOIDC.mobileApp.mobileAppPlaceholder":"applications:forms.inboundOIDC.fields.callBackUrls.placeholder"),validationErrorMsg:(null==D?void 0:D.id)===(null==I?void 0:I.id)||Ri?H("applications:forms.inboundOIDC.messages.customInvalidMessage"):H("applications:forms.inboundOIDC.fields.callBackUrls.validations.invalid"),emptyErrorMessage:H("applications:forms.inboundOIDC.fields.callBackUrls.validations.empty"),skipInternalValidation:I.templateId===x.j.MOBILE||(null==D?void 0:D.id)===(null==I?void 0:I.id),validation:function(e){return Ri||(null==D?void 0:D.id)===(null==I?void 0:I.id)?!!V.URLUtils.isMobileDeepLink(e)&&(en(null),!0):!(!V.URLUtils.isURLValid(e)||!V.URLUtils.isHttpUrl(e,!1)&&!V.URLUtils.isHttpsUrl(e,!1)||(en(null),0))},showError:Ve,setShowError:Be,hint:Ri?"The authorized redirect URI determines where the authorization code is sent to upon user authentication, and where the user is redirected to upon user logout. The client app should specify the authorized redirect URI in the authorization or logout request and "+Dn.ui.productName+" will validate it against the authorized redirect URLs entered here.":H("applications:forms.inboundOIDC.fields.callBackUrls.hint",{productName:Dn.ui.productName}),readOnly:T,addURLTooltip:H("common:addURL"),duplicateURLErrorMessage:H("common:duplicateURLError"),"data-testid":"".concat(U,"-callback-url-input"),getSubmit:function(e){Po=e},showPredictions:!1,customLabel:Xt,productName:Dn.ui.productName,isCustom:(null==D?void 0:D.id)===(null==I?void 0:I.id),popupHeaderPositive:H("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:H("applications:URLInput.withLabel.negative.header"),popupContentPositive:H("applications:URLInput.withLabel.positive.content",{productName:Dn.ui.productName}),popupContentNegative:H("applications:URLInput.withLabel.negative.content",{productName:Dn.ui.productName}),popupDetailedContentPositive:H("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:H("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:H("console:common.validations.inSecureURL.description"),showLessContent:H("common:showLess"),showMoreContent:H("common:showMore")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement("div",{ref:Hn}),m.createElement(u.wE,{handleAddAllowedOrigin:function(e){return vr(e)},urlState:zt,setURLState:function(e){Wt(e),zt!==e&&xi(!0)},onlyOrigin:!0,labelName:H("applications:forms.inboundOIDC.fields.allowedOrigins.label"),placeholder:H("applications:forms.inboundOIDC.fields.allowedOrigins.placeholder"),value:zt,validationErrorMsg:H("applications:forms.inboundOIDC.fields.allowedOrigins.validations.empty"),validation:function(e){return!(!V.URLUtils.isHttpsUrl(e)&&!V.URLUtils.isHttpUrl(e)||!V.URLUtils.isAValidOriginUrl(e)||!V.URLUtils.isMobileDeepLink(e)||(on(null),0))},computerWidth:10,setShowError:Ye,showError:Qe,readOnly:T,addURLTooltip:H("common:addURL"),duplicateURLErrorMessage:H("common:duplicateURLError"),"data-testid":"".concat(U,"-allowed-origin-url-input"),getSubmit:function(e){ko=e},showPredictions:!1,customLabel:nn,popupHeaderPositive:H("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:H("applications:URLInput.withLabel.negative.header"),popupContentPositive:H("applications:URLInput.withLabel.positive.content",{productName:Dn.ui.productName}),popupContentNegative:H("applications:URLInput.withLabel.negative.content",{productName:Dn.ui.productName}),popupDetailedContentPositive:H("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:H("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:H("console:common.validations.inSecureURL.description"),showLessContent:H("common:showLess"),showMoreContent:H("common:showMore")}),m.createElement(u.kW,null,"The HTTP origins that host your ",!Ri&&"web"," application. You can define multiple web origins by adding them separately.",m.createElement("p",{className:"mt-0"},"(E.g.,\xa0\xa0",m.createElement(u.EK,null,"https://myapp.io, https://localhost:3000"),")"))))),et&&!M&&!k&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.pkce.heading")),m.createElement(B.gN,{ref:Bn,name:so,label:"",required:!1,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.pkce.fields.pkce.validations.empty"),type:"checkbox",value:(null==a?void 0:a.pkce)&&(gr=a.pkce,hr=[],gr.mandatory&&hr.push(uo),gr.supportPlainTransformAlgorithm&&hr.push(po),hr),listen:go,children:Si||Ri?[{label:H("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:uo}]:[{label:H("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.mandatory.label"),value:uo},{disabled:!lo,hint:{content:H("applications:forms.inboundOIDC.sections.pkce.description",{productName:Dn.ui.productName}),header:"PKCE 'Plain'"},label:H("applications:forms.inboundOIDC.sections.pkce.fields.pkce.children.plainAlg.label"),value:po}],readOnly:T,"data-testid":"".concat(U,"-pkce-checkbox-group")}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.sections.pkce.hint"))))),it&&!M&&!k&&!Pi&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(te.Z,{display:"flex",alignItems:"self-start"},m.createElement(u.X6,{as:"h4",className:"hybrid-flow-heading"},H("applications:forms.inboundOIDC.sections.hybridFlow.heading")),l.tZ.advancedConfigurations.showHybridFlowFeatureStatusChip&&m.createElement("div",{className:"oxygen-chip-div"},m.createElement(ne.Z,{label:H(ae.j.NEW),className:"oxygen-menu-item-chip oxygen-chip-new"}))),m.createElement(B.gN,{ref:qn,name:x.j.HYBRID_FLOW_ENABLE_CONFIG,required:!1,children:[{label:H("applications:forms.inboundOIDC.sections.hybridFlow.enable.label"),value:x.j.HYBRID_FLOW_ENABLE_CONFIG}],type:"checkbox",value:null!=a&&null!==(Uo=a.hybridFlow)&&void 0!==Uo&&Uo.enable?[x.j.HYBRID_FLOW_ENABLE_CONFIG]:[],listen:ho,readOnly:T,"data-testid":"".concat(U,"--hybridFlow-enable-checkbox")})))),it&&Xi&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16}),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Gn,label:H("applications:forms.inboundOIDC.sections.hybridFlow.hybridFlowResponseType.label"),name:x.j.HYBRID_FLOW_RESPONSE_TYPE,type:"checkbox",required:!0,children:(fr=[],Oo.forEach((function(e,t){var n={label:Io(e,t),value:e},i=wo(e);i&&!Pi&&(n.hint={content:i,header:""}),fr.push(n)})),fr),readOnly:T,value:St,enableReinitialize:!0,listen:function(e){return function(e){var t=e.get(x.j.HYBRID_FLOW_RESPONSE_TYPE);Ot(t)}(e)},"data-testid":"".concat(U,"--hybridflow-responsetype-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.hybridFlowhybridFlowResponseType.fields.hint"},"Select the allowed "," ",m.createElement(u.eb,{link:o,showEmptyLinkText:!0}," hybrid flow ")," response type.")))),Tr&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.clientAuthentication.heading")),yr&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Vn,name:"supportPublicClients",label:"",required:!1,requiredErrorMessage:H("applications:forms.inboundOIDC.fields.public.validations.empty"),type:"checkbox",value:null!=a&&a.publicClient?["supportPublicClients"]:[],children:[{label:H("applications:forms.inboundOIDC.fields.public.label"),value:"supportPublicClients"}],readOnly:T,listen:function(e){var t=e.get("supportPublicClients").includes("supportPublicClients");_e(t),t&&pn("")},"data-testid":"".concat(U,"-public-client-checkbox")}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.fields.public.hint",{productName:null===(xo=Dn.ui)||void 0===xo?void 0:xo.productName})))),Ar&&m.createElement(m.Fragment,null,m.createElement(B.gN,{ref:pi,name:"tokenEndpointAuthMethod",label:H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.label"),required:!1,type:"dropdown",disabled:Re,placeholder:H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.placeholder"),value:dn,listen:function(e){return function(e){var t=e.get("tokenEndpointAuthMethod");pn(t)}(e)},children:To(Q?null==r||null===(Do=r.fapiMetadata)||void 0===Do?void 0:Do.tokenEndpointAuthMethod:null==r?void 0:r.tokenEndpointAuthMethod),readOnly:T,"data-componentId":"".concat(Z,"-client-auth-method-dropdown")}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.authenticationMethod.hint"))))),dn===vo&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:mi,name:"tokenEndpointAllowReusePvtKeyJwt",required:!1,type:"checkbox",disabled:Re,value:null!=a&&null!==(Zo=a.clientAuthentication)&&void 0!==Zo&&Zo.tokenEndpointAllowReusePvtKeyJwt?["tokenEndpointAllowReusePvtKeyJwt"]:[],readOnly:T,"data-componentId":"".concat(Z,"-client-auth-pvt-key-jwt-reuse-checkbox"),children:[{label:H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.reusePvtKeyJwt.label"),value:"tokenEndpointAllowReusePvtKeyJwt"}]}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.reusePvtKeyJwt.hint")))),dn===vo&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:fi,name:"tokenEndpointAuthSigningAlg",label:H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.label"),required:!1,type:"dropdown",disabled:Re,default:null!=a&&a.clientAuthentication?a.clientAuthentication.tokenEndpointAuthSigningAlg:null==r||null===(jo=r.tokenEndpointSignatureAlgorithm)||void 0===jo?void 0:jo.defaultValue,placeholder:H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.placeholder"),children:To(Q?null==r||null===(Fo=r.fapiMetadata)||void 0===Fo?void 0:Fo.allowedSignatureAlgorithms:null==r?void 0:r.tokenEndpointSignatureAlgorithm),readOnly:T,"data-componentId":"".concat(Z,"-client-auth-signing-algorithm-dropdown")}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.signingAlgorithm.hint")))),"tls_client_auth"===dn&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(he.Z.Input,{ref:gi,ariaLabel:"TLS client auth subject DN",inputType:"name",name:"tlsClientAuthSubjectDn",label:H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.label"),disabled:Re,required:!1,placeholder:H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.placeholder"),value:cn,onChange:function(e){return sn(e.target.value)},readOnly:!1,maxLength:x.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH,minLength:3,width:16,"data-componentId":"".concat(Z,"-client-auth-subject-dn")}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.sections.clientAuthentication.fields.subjectDN.hint"))))),(j.u.CUSTOM_APPLICATION===(null==I?void 0:I.templateId)||j.u.OIDC_WEB_APPLICATION===(null==I?void 0:I.templateId))&&!ro()&&!M&&!k&&!(null!=K&&K.includes("applications.protocol.pushedAuthorization"))&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.pushedAuthorization.heading")),m.createElement(B.gN,{ref:hi,name:"requirePushAuthorizationRequest",required:!1,type:"checkbox",value:null!=a&&null!==(Ho=a.pushAuthorizationRequest)&&void 0!==Ho&&Ho.requirePushAuthorizationRequest?["requirePushAuthorizationRequest"]:[],children:[{label:H("applications:forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.label"),value:"requirePushAuthorizationRequest"}],readOnly:T,"data-componentId":"".concat(Z,"-pushed-authorization-checkbox")}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.sections.pushedAuthorization.fields.requirePushAuthorizationRequest.hint")))),(j.u.CUSTOM_APPLICATION===(null==I?void 0:I.templateId)||j.u.OIDC_WEB_APPLICATION===(null==I?void 0:I.templateId))&&!ro()&&!M&&!k&&(null===l.tZ||void 0===l.tZ||null===(Vo=l.tZ.inboundOIDCForm)||void 0===Vo?void 0:Vo.showRequestObjectConfigurations)&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.requestObject.heading")),m.createElement(B.gN,{ref:vi,name:"requestObjectSigningAlg",label:H("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&null!==(Bo=a.requestObject)&&void 0!==Bo&&Bo.requestObjectSigningAlg?a.requestObject.requestObjectSigningAlg:null,placeholder:H("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.placeholder"),children:To(Q?null==r||null===(qo=r.fapiMetadata)||void 0===qo?void 0:qo.allowedSignatureAlgorithms:null==r?void 0:r.requestObjectSignatureAlgorithm),readOnly:T,"data-componentId":"".concat(Z,"-request-object-signing-algorithm-dropdown")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectSigningAlg.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"request object"),"signing algorithms.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:bi,name:"requestObjectEncryptionAlgorithm",label:H("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&null!==(Go=a.requestObject)&&void 0!==Go&&null!==(Go=Go.encryption)&&void 0!==Go&&Go.algorithm?a.requestObject.encryption.algorithm:null,placeholder:H("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.placeholder"),children:To(Q?null==r||null===($o=r.fapiMetadata)||void 0===$o?void 0:$o.allowedEncryptionAlgorithms:null==r?void 0:r.requestObjectEncryptionAlgorithm),readOnly:T,"data-componentId":"".concat(Z,"-request-object-encryption-algorithm-dropdown")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionAlgorithm.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"request object"),"encryption algorithms.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ei,name:"requestObjectEncryptionMethod",label:H("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&null!==(zo=a.requestObject)&&void 0!==zo&&null!==(zo=zo.encryption)&&void 0!==zo&&zo.method?a.requestObject.encryption.method:null,placeholder:H("applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.placeholder"),children:To(null==r?void 0:r.requestObjectEncryptionMethod),readOnly:T,"data-componentId":"".concat(Z,"-request-object-encryption-method-dropdown")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObject.fields.requestObjectEncryptionMethod.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"request object"),"encryption methods."))))),!M&&!k&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.accessToken.heading")),m.createElement(B.gN,{ref:zn,label:H("applications:forms.inboundOIDC.sections.accessToken.fields.type.label"),name:"type",default:null!=a&&a.accessToken?a.accessToken.type:null==r||null===(Wo=r.accessTokenType)||void 0===Wo?void 0:Wo.defaultValue,type:"radio",children:So(null==r?void 0:r.accessTokenType,!1),listen:function(e){Ct(e.get("type")===mo)},readOnly:T,"data-testid":"".concat(U,"-access-token-type-radio-group")}),wt&&!Pi&&(0,de.cr)(fo,"applications.accessTokenAttributes")?m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{width:8},m.createElement(ee.Z,{className:"access-token-attributes-dropdown",size:"small",disablePortal:!0,multiple:!0,disableCloseOnSelect:!0,loading:w,options:wn,value:null!=Sn?Sn:[],disabled:!Rn,"data-componentid":"".concat(Z,"-assigned-access-token-attribute-list"),getOptionLabel:function(e){return e.claimURI},renderInput:function(e){return m.createElement(ie.Z,gt({label:H("applications:forms.inboundOIDC.sections.accessToken.fields.accessTokenAttributes.label"),className:"access-token-attributes-dropdown-input"},e,{placeholder:H("applications:forms.inboundOIDC.sections.accessToken.fields.accessTokenAttributes.placeholder")}))},onChange:function(e,t){xi(!0),On(t)},isOptionEqualToValue:function(e,t){return e.id===t.id},renderTags:function(e,t){return e.map((function(e,n){return m.createElement(ne.Z,gt({},t({index:n}),{key:n,label:e.claimURI,variant:null!=wn&&wn.find((function(t){return t.id===e.id}))?"filled":"outlined"}))}))},renderOption:function(e,t,n){var i=n.selected;return m.createElement(He,{selected:i,displayName:t.localClaimDisplayName,claimURI:t.claimURI,renderOptionProps:e})}}),m.createElement(u.kW,null,m.createElement(g.c,{values:{productName:Dn.ui.productName},i18nKey:"applications:forms.inboundOIDC.sections.accessTokenAttributes.hint"},"Select the attributes that should be included in the ",m.createElement(u.EK,{withBackground:!0},"access_token"),".")))):null)),!Pi&&!ro()&&!M&&!k&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:$n,label:H("applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.label"),name:"bindingType",default:null!=a&&null!==(Ko=a.accessToken)&&void 0!==Ko&&Ko.bindingType?a.accessToken.bindingType:Q?L.ti.CERTIFICATE:null!==(Qo=null==r||null===(Yo=r.accessTokenBindingType)||void 0===Yo?void 0:Yo.defaultValue)&&void 0!==Qo?Qo:L.ti.NONE,type:"radio",children:So(null==r?void 0:r.accessTokenBindingType,!0),readOnly:T||Q,"data-testid":"".concat(U,"-access-token-type-radio-group"),listen:function(e){Yt(e.get("bindingType")!==L.ti.NONE)}}),m.createElement(u.kW,null,m.createElement(g.c,{values:{productName:Dn.ui.productName},i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.bindingType.description"},"Select type ",m.createElement(u.EK,{withBackground:!0},"SSO-session")," to allow productName to bind the",m.createElement(u.EK,{withBackground:!0},"access_token"),"and the",m.createElement(u.EK,{withBackground:!0},"refresh_token"),"to the login session and issue a new token per session. When the application session ends, the tokens will also be revoked.")))),!Si&&!Ri&&Qt&&!M&&!k&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Wn,name:"ValidateTokenBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:(null==a||null===(mr=a.accessToken)||void 0===mr?void 0:mr.validateTokenBinding)||Q?["validateTokenBinding"]:[],children:[{label:H("applications:forms.inboundOIDC.sections.accessToken.fields.validateBinding.label"),value:"validateTokenBinding"}],readOnly:T||Q,"data-testid":"".concat(U,"-access-token-validate-binding-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.validateBinding.hint"},"Validate the binding attributes at the token validation. The client needs to present the ",m.createElement(u.EK,{withBackground:!0},"access_token")," + cookie for successful authorization.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Kn,name:"RevokeAccessToken",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:null!=a&&null!==(Jo=a.accessToken)&&void 0!==Jo&&Jo.revokeTokensWhenIDPSessionTerminated?["revokeAccessToken"]:[],children:[{label:H("applications:forms.inboundOIDC.sections.accessToken.fields.revokeToken.label"),value:"revokeAccessToken"}],readOnly:T,"data-testid":"".concat(U,"-access-token-revoke-token-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.revokeToken.hint"},"Allow revoking tokens of this application when a bound IDP session gets terminated through a user logout. Remember to include either",m.createElement(u.EK,{withBackground:!0},"client_id")," or",m.createElement(u.EK,{withBackground:!0},"id_token_hint")," in the logout request."))))),!Pi&&!M&&!k&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Qn,name:"userAccessTokenExpiryInSeconds",label:H(Si?"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.labelForSPA":"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.label"),required:!0,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.validations.empty"),validation:function(){var e=ft(pt().mark((function e(t,n){return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Er(t.toString())||(n.isValid=!1,n.errorMessages.push(H("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.accessToken?a.accessToken.userAccessTokenExpiryInSeconds.toString():null==r?void 0:r.defaultUserAccessTokenExpiryTime,placeholder:H("applications:forms.inboundOIDC.sections.accessToken.fields.expiry.placeholder"),type:"number",readOnly:T,min:1,"data-testid":"".concat(U,"-access-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.expiry.hint"},"Specify the validity period of the",m.createElement(u.EK,{withBackground:!0},"access_token"),"in seconds.")))),(null==vt?void 0:vt.includes("client_credentials"))&&!M&&!k&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"applicationAccessTokenExpiryInSeconds",ref:Yn,label:H("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.label"),required:!0,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.empty"),value:a.accessToken?a.accessToken.applicationAccessTokenExpiryInSeconds.toString():null==r?void 0:r.defaultApplicationAccessTokenExpiryTime,validation:function(){var e=ft(pt().mark((function e(t,n){return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Er(t.toString())||(n.isValid=!1,n.errorMessages.push(H("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),placeholder:H("applications:forms.inboundOIDC.sections.accessToken.fields.applicationTokenExpiry.placeholder"),type:"number",min:1,readOnly:T}),m.createElement(u.kW,null,"Specify the validity period of the",m.createElement(u.EK,{withBackground:!0},"application_access_token"),"in seconds.")))),Pi&&!M&&!k&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement(u.wE,{isAllowEnabled:!1,tenantDomain:O,onlyOrigin:!1,labelEnabled:!1,urlState:De,setURLState:function(e){var t,n;Ze(e),(null!=a&&null!==(t=a.idToken)&&void 0!==t&&t.audience.toString()?P.y.buildCallBackURLWithSeparator(null==a||null===(n=a.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&xi(!0)},labelName:H("applications:forms.inboundOIDC.sections.accessToken.fields.audience.label"),required:!1,value:null!=a&&null!==(Xo=a.idToken)&&void 0!==Xo&&Xo.audience.toString()?P.y.buildCallBackURLWithSeparator(null==a||null===(er=a.idToken)||void 0===er?void 0:er.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:H("applications:forms.inboundOIDC.sections.accessToken.fields.audience.placeholder"),validationErrorMsg:H("applications:forms.inboundOIDC.sections.accessToken.fields.audience.validations.invalid"),showError:$e,setShowError:ze,hint:m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.accessToken.fields.audience.hint"},"Specify the recipient(s) that this ",m.createElement(u.EK,{withBackground:!0},"access_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:T,addURLTooltip:H("common:addURL"),duplicateURLErrorMessage:H("common:duplicateURLError"),getSubmit:function(e){Po=e},showPredictions:!1,popupHeaderPositive:H("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:H("applications:URLInput.withLabel.negative.header"),popupContentPositive:H("applications:URLInput.withLabel.positive.content",{productName:Dn.ui.productName}),popupContentNegative:H("applications:URLInput.withLabel.negative.content",{productName:Dn.ui.productName}),popupDetailedContentPositive:H("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:H("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:H("console:common.validations.inSecureURL.description"),showLessContent:H("common:showLess"),showMoreContent:H("common:showMore"),skipInternalValidation:!0}))),(null==vt?void 0:vt.includes("refresh_token"))&&!M&&!k&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.refreshToken.heading")),m.createElement(B.gN,{ref:Jn,name:"RefreshToken",label:"",required:!1,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.validations.empty"),type:"checkbox",value:null!=a&&null!==(tr=a.refreshToken)&&void 0!==tr&&tr.renewRefreshToken?["refreshToken"]:[],children:[{label:H("applications:forms.inboundOIDC.sections.refreshToken.fields.renew.label"),value:"refreshToken"}],readOnly:T,"data-testid":"".concat(U,"-renew-refresh-token-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.refreshToken.fields.renew.hint"},"Select to issue a new ",m.createElement(u.EK,{withBackground:!0},"refresh_token"),"each time a ",m.createElement(u.EK,{withBackground:!0},"refresh_token")," is exchanged. The existing token will be invalidated.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Xn,name:"expiryInSeconds",label:H("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.label"),required:!0,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.empty"),placeholder:H("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.placeholder"),validation:function(){var e=ft(pt().mark((function e(t,n){return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Er(t.toString())||(n.isValid=!1,n.errorMessages.push(H("applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.refreshToken?a.refreshToken.expiryInSeconds.toString():null==r?void 0:r.defaultRefreshTokenExpiryTime,type:"number",readOnly:T,min:1,"data-testid":"".concat(U,"-refresh-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.refreshToken.fields.expiry.hint"},"Specify the validity period of the ",m.createElement(u.EK,{withBackground:!0},"refresh_token"),"in seconds."))))),(null==vt?void 0:vt.includes(x.j.OAUTH2_TOKEN_EXCHANGE))&&!M&&!k&&Un&&wt&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.subjectToken.heading")),m.createElement(B.gN,{ref:yi,name:"SubjectToken",label:"",required:!1,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.subjectToken.fields.enable.validations.empty"),type:"checkbox",listen:function(e){var t,n=null==e||null===(t=e.get("SubjectToken"))||void 0===t?void 0:t.includes("subjectToken");kn(n)},value:null!=a&&null!==(nr=a.subjectToken)&&void 0!==nr&&nr.enable?["subjectToken"]:[],children:[{label:H("applications:forms.inboundOIDC.sections.subjectToken.fields.enable.label"),value:"subjectToken"}],readOnly:T,"data-componentid":"".concat(U,"-subject-token-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.subjectToken.fields.enable.hint"},"Select to enable the subject token response type for this application to be used in the impersonation flow.")))),Pn&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ai,name:"applicationSubjectTokenExpiryInSeconds",label:H("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.label"),required:!0,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.validations.empty"),placeholder:H("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.placeholder"),validation:function(e,t){Er(e.toString())||(t.isValid=!1,t.errorMessages.push(H("applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.validations.invalid")))},value:null!=a&&a.subjectToken?a.subjectToken.applicationSubjectTokenExpiryInSeconds.toString():le.c.DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME,type:"number",readOnly:T,min:1,"data-testid":"".concat(U,"-subject-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.subjectToken.fields.expiry.hint"},"Specify the validity period of the ",m.createElement(u.EK,{withBackground:!0},"subject_token"),"in seconds."))))),!Pi&&!M&&!k&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.idToken.heading")),m.createElement(u.wE,{isAllowEnabled:!1,tenantDomain:O,onlyOrigin:!1,labelEnabled:!1,urlState:De,setURLState:function(e){var t,n;Ze(e),(null!=a&&null!==(t=a.idToken)&&void 0!==t&&t.audience.toString()?P.y.buildCallBackURLWithSeparator(null==a||null===(n=a.idToken)||void 0===n?void 0:n.audience.toString()):"")!==e&&xi(!0)},labelName:H("applications:forms.inboundOIDC.sections.idToken.fields.audience.label"),required:!1,value:null!=a&&null!==(ir=a.idToken)&&void 0!==ir&&ir.audience.toString()?P.y.buildCallBackURLWithSeparator(null==a||null===(or=a.idToken)||void 0===or?void 0:or.audience.toString()):"",validation:function(e){return!(null!=e&&e.includes(","))},placeholder:H("applications:forms.inboundOIDC.sections.idToken.fields.audience.placeholder"),validationErrorMsg:H("applications:forms.inboundOIDC.sections.idToken.fields.audience.validations.invalid"),showError:$e,setShowError:ze,hint:m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.audience.hint"},"Specify the recipient(s) that this ",m.createElement(u.EK,{withBackground:!0},"id_token")," is intended for. By default, the client ID of this application is added as an audience."),readOnly:T,addURLTooltip:H("common:addURL"),duplicateURLErrorMessage:H("common:duplicateURLError"),getSubmit:function(e){Po=e},showPredictions:!1,popupHeaderPositive:H("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:H("applications:URLInput.withLabel.negative.header"),popupContentPositive:H("applications:URLInput.withLabel.positive.content",{productName:Dn.ui.productName}),popupContentNegative:H("applications:URLInput.withLabel.negative.content",{productName:Dn.ui.productName}),popupDetailedContentPositive:H("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:H("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:H("console:common.validations.inSecureURL.description"),showLessContent:H("common:showLess"),showMoreContent:H("common:showMore"),skipInternalValidation:!0}))),l.tZ.inboundOIDCForm.showIdTokenEncryption&&j.u.SPA!==(null==I?void 0:I.templateId)&&!ro()&&!Ri&&!Pi&&!M&&!k&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:ti,name:"encryption",label:"",required:!1,disabled:!qi,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.idToken.fields.encryption.validations.empty"),type:"checkbox",listen:function(e){var t=e.get("encryption").includes("enableEncryption");t||(oo(),e.set("algorithm",""),e.set("method","")),we(t)},value:null!=a&&null!==(rr=a.idToken)&&void 0!==rr&&rr.encryption.enabled?["enableEncryption"]:[],children:[{label:H("applications:forms.inboundOIDC.sections.idToken.fields.encryption.label"),value:"enableEncryption"}],readOnly:T,"data-testid":"".concat(U,"-encryption-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.encryption.hint"},"Select to encrypt the ",m.createElement(u.EK,{withBackground:!0},"id_token"),"  when issuing the token using the public key of your application. To use encryption, configure the JWKS endpoint or the certificate of your application in the Certificate section below.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:ni,name:"algorithm",label:H("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.label"),required:Ie&&qi,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.validations.empty"),type:"dropdown",disabled:!Ie||!qi,default:Ie&&qi?null!=a&&a.idToken?a.idToken.encryption.algorithm:null==r?void 0:r.idTokenEncryptionAlgorithm.defaultValue:"",placeholder:H("applications:forms.inboundOIDC.sections.idToken.fields.algorithm.placeholder"),children:To(Q?null==r||null===(ar=r.fapiMetadata)||void 0===ar?void 0:ar.allowedEncryptionAlgorithms:null==r?void 0:r.idTokenEncryptionAlgorithm),readOnly:T,"data-testid":"".concat(U,"-encryption-algorithm-dropdown")}),m.createElement(u.kW,{disabled:!Ie||!qi},m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.algorithm.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"id_token"),"encryption algorithms.")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:ii,name:"method",disabled:!Ie||!qi,label:H("applications:forms.inboundOIDC.sections.idToken.fields.method.label"),required:Ie&&qi,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.idToken.fields.method.validations.empty"),type:"dropdown",default:Ie&&qi?null!=a&&a.idToken?a.idToken.encryption.method:null==r||null===(lr=r.idTokenEncryptionMethod)||void 0===lr?void 0:lr.defaultValue:"",placeholder:H("applications:forms.inboundOIDC.sections.idToken.fields.method.placeholder"),children:To(null==r?void 0:r.idTokenEncryptionMethod),readOnly:T,"data-testid":"".concat(U,"-encryption-method-dropdown")}),m.createElement(u.kW,{disabled:!Ie||!qi},m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.method.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"id_token"),"encryption methods."))))),j.So.STANDARD_BASED_APPLICATION===(null==I?void 0:I.name)&&!M&&!k&&(null===l.tZ||void 0===l.tZ||null===(cr=l.tZ.inboundOIDCForm)||void 0===cr?void 0:cr.showIdTokenResponseSigningAlgorithm)&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:oi,name:"idTokenSignedResponseAlg",label:H("applications:forms.inboundOIDC.sections.idToken.fields.signing.label"),required:!1,type:"dropdown",disabled:!1,default:null!=a&&a.idToken?a.idToken.idTokenSignedResponseAlg:null,placeholder:H("applications:forms.inboundOIDC.sections.idToken.fields.signing.placeholder"),children:To(Q?null==r||null===(sr=r.fapiMetadata)||void 0===sr?void 0:sr.allowedSignatureAlgorithms:null==r?void 0:r.idTokenSignatureAlgorithm),readOnly:T,"data-componentId":"".concat(Z,"-id_token-response-signing-algorithm-dropdown")}),m.createElement(u.kW,{disabled:!Ie||!qi},m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.signing.hint"},"The dropdown contains the supported ",m.createElement(u.EK,{withBackground:!0},"id_token"),"signing algorithms.")))),!Pi&&!M&&!k&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:ri,name:"idExpiryInSeconds",label:H("applications:forms.inboundOIDC.sections.idToken.fields.expiry.label"),required:!0,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.idToken.fields.expiry.validations.empty"),placeholder:H("applications:forms.inboundOIDC.sections.idToken.fields.expiry.placeholder"),validation:function(){var e=ft(pt().mark((function e(t,n){return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Er(t.toString())||(n.isValid=!1,n.errorMessages.push(H("applications:forms.inboundOIDC.sections.idToken.fields.expiry.validations.invalid")));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),value:null!=a&&a.idToken?a.idToken.expiryInSeconds.toString():null==r?void 0:r.defaultIdTokenExpiryTime,type:"number",readOnly:T,min:1,"data-testid":"".concat(U,"-id-token-expiry-time-input")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.idToken.fields.expiry.hint"},"Specify the validity period of the ",m.createElement(u.EK,{withBackground:!0},"id_token")," in seconds.")))),!Si&&!ro()&&l.tZ.inboundOIDCForm.showBackChannelLogout&&!M&&!k&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},"Logout URLs"),m.createElement(v.Z,{hidden:!0}),m.createElement(B.gN,{ref:ai,name:"backChannelLogoutUrl",label:H("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.label"),required:!1,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.validations.empty"),placeholder:H("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(H("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.validations.invalid")))},value:null==a||null===(ur=a.logout)||void 0===ur?void 0:ur.backChannelLogoutUrl,readOnly:T,"data-testid":"".concat(U,"-back-channel-logout-url-input")}),m.createElement(u.kW,null,H("applications:forms.inboundOIDC.sections.logoutURLs.fields.back.hint",{productName:Dn.ui.productName}))))),l.tZ.inboundOIDCForm.showFrontChannelLogout&&!M&&!k&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:li,name:"frontChannelLogoutUrl",label:H("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.label"),required:!1,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.validations.empty"),placeholder:H("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(H("applications:forms.inboundOIDC.sections.logoutURLs.fields.front.validations.invalid")))},value:null==a||null===(dr=a.logout)||void 0===dr?void 0:dr.frontChannelLogoutUrl,readOnly:T,"data-testid":"".concat(U,"-front-channel-logout-url-input")}))),!Si&&l.tZ.inboundOIDCForm.showRequestObjectSignatureValidation&&!M&&!k&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.requestObjectSignature.heading")),m.createElement(B.gN,{ref:ci,name:"enableRequestObjectSignatureValidation",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=a&&a.validateRequestObjectSignature?["EnableRequestObjectSignatureValidation"]:[],children:[{label:H("applications:forms.inboundOIDC.sections.requestObjectSignature.fields.signatureValidation.label"),value:"EnableRequestObjectSignatureValidation"}],readOnly:T,"data-testid":"".concat(U,"-request-object-signature-validation-checkbox")}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.requestObjectSignature.description",tOptions:{productName:Dn.ui.productName}},"WSO2 Identity Server supports receiving an OIDC authentication request as a request object that is passed in a single, self-contained request parameter. Enable signature validation to accept only signed",m.createElement(u.EK,null,"request")," objects in the authorization request."))))),l.tZ.inboundOIDCForm.showScopeValidators&&!M&&!k&&m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h4"},H("applications:forms.inboundOIDC.sections.scopeValidators.heading")),m.createElement(B.gN,{ref:si,name:"scopeValidator",label:"",required:!1,requiredErrorMessage:H("applications:forms.inboundOIDC.sections.scopeValidators.fields.validator.validations.empty"),type:"checkbox",value:null==a?void 0:a.scopeValidators,children:To(null==r?void 0:r.scopeValidators,!0),readOnly:T,"data-testid":"".concat(U,"-scope-validator-checkbox")}))),!M&&!ro()&&!k&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(ct,{protocol:L.AI.OIDC,deleteAllowed:!(null!==(pr=a.idToken)&&void 0!==pr&&null!==(pr=pr.encryption)&&void 0!==pr&&pr.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:m.createElement(m.Fragment,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundOIDC.sections.certificates.disabledPopup"},"This certificate is used to encrypt the ",m.createElement(u.EK,null,"id_token"),". First, you need to disable ",m.createElement(u.EK,null,"id_token")," encryption to proceed.")),onUpdate:t,application:n,updateCertFinalValue:ji,updateCertType:Vi,certificate:i,readOnly:T,hidden:Si||!l.tZ.inboundOIDCForm.showCertificates,isRequired:!0,triggerSubmit:no}))),!T&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement("span",{ref:di}),m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:w,disabled:w,"data-testid":"".concat(U,"-submit-button")},H("common:update")))))),Pt&&m.createElement(u.cV,{onClose:function(){return kt(!1)},type:"warning",open:Pt,assertion:null==a?void 0:a.clientId,assertionHint:m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.regenerateSecret.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",m.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:H("common:confirm"),secondaryAction:H("common:cancel"),onSecondaryActionClick:function(){return kt(!1)},onPrimaryActionClick:function(){y(),kt(!1)},"data-testid":"".concat(U,"-oidc-regenerate-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(U,"-oidc-regenerate-confirmation-modal-header")},H("applications:confirmations.regenerateSecret.header")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(U,"-oidc-regenerate-confirmation-modal-message")},H("applications:confirmations.regenerateSecret.message")),m.createElement(u.cV.Content,{"data-testid":"".concat(U,"-oidc-regenerate-confirmation-modal-content")},H("applications:confirmations.regenerateSecret.content"))),Ut&&m.createElement(u.cV,{onClose:function(){return xt(!1)},type:"warning",open:Ut,assertion:null==a?void 0:a.clientId,assertionHint:m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.revokeApplication.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",m.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:H("common:confirm"),secondaryAction:H("common:cancel"),onSecondaryActionClick:function(){return xt(!1)},onPrimaryActionClick:function(){A(),xt(!1)},"data-testid":"".concat(U,"-oidc-revoke-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(U,"-oidc-revoke-confirmation-modal-header")},H("applications:confirmations.revokeApplication.header")),m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(U,"-oidc-revoke-confirmation-modal-message")},H("applications:confirmations.revokeApplication.message")),m.createElement(u.cV.Content,{"data-testid":"".concat(U,"-oidc-revoke-confirmation-modal-content")},Si?H("applications:confirmations.revokeApplication.content"):null)),Zt&&m.createElement(u.cV,{onClose:function(){return jt(!1)},type:"warning",open:Zt,assertion:null==a?void 0:a.clientId,assertionHint:Si?m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.reactivateSPA.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",m.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")):m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.reactivateOIDC.assertionHint",tOptions:{id:null==a?void 0:a.clientId}},"Please type ",m.createElement("strong",null,null==a?void 0:a.clientId)," to confirm.")),assertionType:"input",primaryAction:H("common:confirm"),secondaryAction:H("common:cancel"),onSecondaryActionClick:function(){return jt(!1)},onPrimaryActionClick:function(){y(),jt(!1)},"data-testid":"".concat(U,"-oidc-reactivate-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(U,"-oidc-reactivate-confirmation-modal-header")},H(Si?"applications:confirmations.reactivateOIDC.header":"applications:confirmations.reactivateSPA.header")),Si?m.createElement(u.cV.Message,{attached:!0,warning:!0,"data-testid":"".concat(U,"-oidc-reactivate-confirmation-modal-message")},H("applications:confirmations.reactivateSPA.message")):null,m.createElement(u.cV.Content,{"data-testid":"".concat(U,"-oidc-reactivate-confirmation-modal-content")},H(Si?"applications:confirmations.reactivateSPA.content":"applications:confirmations.reactivateOIDC.content"))),Ht&&qt)):m.createElement(be.Z,null,m.createElement(u.pO,{inline:"centered",active:!0}))};function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}St.defaultProps={"data-componentid":"inbound-oidc-form","data-testid":"inbound-oidc-form",initialValues:{accessToken:void 0,allowedOrigins:[],callbackURLs:[],clientId:"",clientSecret:"",grantTypes:[],hybridFlow:{enable:!1,responseType:void 0},idToken:void 0,logout:void 0,pkce:{mandatory:!1,supportPlainTransformAlgorithm:!1},publicClient:!1,refreshToken:void 0,scopeValidators:[],state:void 0,subjectToken:void 0,validateRequestObjectSignature:void 0}};var wt=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.initialValues,r=e.onSubmit,a=e.readOnly,l=e.isLoading,c=e["data-testid"],s=(0,f.$)().t,d=Ot((0,m.useState)(!1),2),p=d[0],g=d[1],h=Ot((0,m.useState)(void 0),2),v=h[0],y=h[1],A=Ot((0,m.useState)(j.el.NONE),2),T=A[0],S=A[1],O=Ot((0,B.cC)(),2),I=O[0],w=O[1];(0,m.useEffect)((function(){null!=i&&i.type&&S(null==i?void 0:i.type)}),[i]);return m.createElement(B.Es,{onSubmit:function(e){w(),r(function(e){return{general:{advancedConfigurations:{certificate:{type:T!==j.el.NONE?T:null==i?void 0:i.type,value:T!==j.el.NONE?v:""}}},inbound:{realm:e.get("realm"),replyTo:e.get("replyTo"),replyToLogout:e.get("replyToLogout")}}}(e))}},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"realm",label:s("applications:forms.inboundSTS.fields.realm.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSTS.fields.realm.validations.empty"),placeholder:s("applications:forms.inboundSTS.fields.realm.placeholder"),type:"text",value:null==o?void 0:o.realm,readOnly:a||!(0,R.Z)(null==o?void 0:o.realm),"data-testid":"".concat(c,"-realm-input")}),m.createElement(u.kW,{disabled:!(0,R.Z)(null==o?void 0:o.realm)},s("applications:forms.inboundSTS.fields.realm.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"replyTo",label:s("applications:forms.inboundSTS.fields.replyTo.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSTS.fields.replyTo.validations.empty"),placeholder:s("applications:forms.inboundSTS.fields.replyTo.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(s("applications:forms.inboundSTS.fields.replyTo.validations.invalid")))},type:"text",value:null==o?void 0:o.replyTo,readOnly:a,"data-testid":"".concat(c,"-reply-to-url-input")}),m.createElement(u.kW,null,s("applications:forms.inboundSTS.fields.replyTo.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"replyToLogout",label:s("applications:forms.inboundSTS.fields.replyToLogout.label"),placeholder:s("applications:forms.inboundSTS.fields.replyToLogout.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(s("applications:forms.inboundSTS.fields.replyToLogout.validations.invalid")))},type:"text",value:null==o?void 0:o.replyToLogout,readOnly:a,"data-componentid":"".concat(c,"-reply-to-logout-url-input")}),m.createElement(u.kW,null,s("applications:forms.inboundSTS.fields.replyToLogout.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(ct,{hideJWKS:!0,protocol:L.AI.WS_FEDERATION,deleteAllowed:!0,reasonInsideTooltipWhyDeleteIsNotAllowed:m.createElement(m.Fragment,null),onUpdate:t,application:n,updateCertFinalValue:y,updateCertType:S,certificate:i,readOnly:a,hidden:!1,isRequired:!0,triggerSubmit:I}))),p&&m.createElement(K,{open:p,certificate:null,onClose:function(){g(!1)}}),!a&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",loading:l,disabled:l,className:"form-button","data-testid":"".concat(c,"-submit-button")},s("common:update"))))))};function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}wt.defaultProps={"data-testid":"inbound-passive-sts-form"};var Rt=function(e){var t,n=e.initialValues,i=e.creationOption,o=e.onSubmit,a=e.isLoading,c=e["data-testid"],s=(0,f.$)().t,d=Ct((0,m.useState)(void 0),2),p=d[0],g=d[1],h=Ct((0,m.useState)(),2),y=h[0],A=h[1],T=Ct((0,m.useState)(null),2),S=T[0],O=T[1],I=Ct((0,m.useState)(null),2),w=I[0],C=I[1],N=Ct((0,m.useState)(!1),2),_=N[0],P=N[1];(0,m.useEffect)((function(){var e,t,i;if((0,R.Z)(null==n||null===(e=n.inboundProtocolConfiguration)||void 0===e?void 0:e.saml))g(L.T6.META_URL);else if((0,R.Z)(null==n||null===(t=n.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.metadataURL)){if(!(0,R.Z)(null==n||null===(i=n.inboundProtocolConfiguration)||void 0===i||null===(i=i.saml)||void 0===i?void 0:i.metadataFile)){var o,r,a;g(L.T6.META_FILE),O(null==n||null===(o=n.inboundProtocolConfiguration)||void 0===o||null===(o=o.saml)||void 0===o?void 0:o.file),C(null==n||null===(r=n.inboundProtocolConfiguration)||void 0===r||null===(r=r.saml)||void 0===r?void 0:r.pasteValue),A(null==n||null===(a=n.inboundProtocolConfiguration)||void 0===a||null===(a=a.saml)||void 0===a?void 0:a.metadataFile)}}else g(L.T6.META_URL)}),[n]),(0,m.useEffect)((function(){y&&_&&P(!1)}),[y]),(0,m.useEffect)((function(){g(i)}),[i]);return p?m.createElement(B.Es,{onSubmit:function(e){p===L.T6.META_FILE&&(0,R.Z)(y)?P(!0):o(function(e){var t={};return p===L.T6.META_URL?t={inbound:{metadataURL:e.get("url")}}:p===L.T6.META_FILE&&(t={inbound:{metadataFile:y}}),t}(e))}},m.createElement(b.Z,null,L.T6.META_URL===p&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"url",displayErrorOn:"blur",label:s("applications:forms.inboundSAML.fields.metaURL.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSAML.fields.metaURL.validations.empty"),type:"text",placeholder:s("applications:forms.inboundSAML.fields.metaURL.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(s("applications:forms.inboundSAML.fields.metaURL.validations.invalid"))),null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(s("idp:forms.common.internetResolvableErrorMessage")))},value:null==n||null===(t=n.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.metadataURL,"data-testid":"".concat(c,"-meta-url-input")}),m.createElement(u.kW,null,s("applications:forms.inboundSAML.fields.metaURL.hint")))),L.T6.META_FILE===p&&m.createElement(b.Z.Row,{columns:1,mobile:16,tablet:16,computer:10},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(u.GB,{key:1,fileStrategy:_t,file:S,pastedContent:w,onChange:function(e){O(e.file),C(e.pastedContent),A(e.serialized)},uploadButtonText:"Upload Metadata File",dropzoneText:"Drag and drop a XML file here.","data-testid":"".concat(c,"-form-wizard-saml-xml-config-file-picker"),icon:(0,r._5)().uploadPlaceholder,placeholderIcon:m.createElement(Ge.Z,{name:"file code",size:"huge"}),normalizeStateOnRemoveOperations:!0,emptyFileError:_,hidePasteOption:!0}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,{hidden:!0}),m.createElement(E.Z,{primary:!0,type:"submit",size:"small",loading:a,disabled:a,className:"form-button","data-testid":"".concat(c,"-submit-button")},s("common:update")))))):m.createElement(u.pO,null)};Rt.defaultProps={"data-testid":"saml-protocol-all-settings-wizard-form"};var _t=new u.R2,Lt=n(27298),Pt=n(33362);function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ut=function(e){var t,n,i,o,r=e.onUpdate,a=e.application,c=e.certificate,s=e.initialValues,d=e.metadata,p=e.onSubmit,y=e.readOnly,A=e.isLoading,T=e.containerRef,S=e["data-testid"],O=(0,f.$)().t,I=kt((0,m.useState)(null),2),w=I[0],C=I[1],N=kt((0,m.useState)(null),2),_=N[0],P=N[1],k=kt((0,m.useState)(null),2),M=k[0],U=k[1],D=kt((0,m.useState)(null),2),Z=D[0],F=D[1],H=(0,h.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSignatureValidationCertificateAliasEnabled})),G=(0,h.v9)((function(e){return e.application.samlConfigurations})),$=(0,h.v9)((function(e){return e.config})),z=function(e,t){var n=[];return d&&e.options.map((function(t){n.push({key:e.options.indexOf(t),text:t,value:t})})),n},W=kt((0,m.useState)(""),2),K=W[0],Q=W[1],Y=kt((0,m.useState)(""),2),J=Y[0],X=Y[1],ee=kt((0,m.useState)(""),2),te=ee[0],ne=ee[1],ie=kt((0,m.useState)(""),2),oe=ie[0],re=ie[1],ae=kt((0,m.useState)(!1),2),le=ae[0],ce=ae[1],se=kt((0,m.useState)(!1),2),ue=se[0],de=se[1],pe=kt((0,m.useState)(!1),2),fe=pe[0],ve=pe[1],be=kt((0,m.useState)(!1),2),Ee=be[0],ye=be[1],Ae=kt((0,m.useState)(!1),2),Te=Ae[0],Se=Ae[1],Oe=kt((0,m.useState)(!1),2),Ie=Oe[0],we=Oe[1],Ce=kt((0,m.useState)(!1),2),Ne=Ce[0],Re=Ce[1],_e=kt((0,m.useState)(!1),2),Le=_e[0],Pe=_e[1],ke=kt((0,m.useState)(!1),2),Me=ke[0],Ue=ke[1],xe=kt((0,m.useState)(!1),2),De=xe[0],Ze=xe[1],je=kt((0,m.useState)(!1),2),Fe=je[0],He=je[1],Ve=kt((0,m.useState)(!0),2),Be=Ve[0],qe=Ve[1],Ge=kt((0,m.useState)(void 0),2),$e=Ge[0],ze=Ge[1],We=kt((0,m.useState)(j.el.NONE),2),Ke=We[0],Qe=We[1],Ye=kt((0,m.useState)(!1),2),Je=Ye[0],Xe=Ye[1],et=kt((0,m.useState)(null!=s&&s.singleLogoutProfile.logoutMethod?null==s?void 0:s.singleLogoutProfile.logoutMethod:L.aD.BACK_CHANNEL),2),tt=et[0],nt=et[1],it=kt((0,m.useState)(!1),2),ot=it[0],rt=it[1],at=kt((0,B.cC)(),2),lt=at[0],st=at[1],ut=(0,m.useRef)(),dt=(0,m.useRef)(),pt=(0,m.useRef)(),mt=(0,m.useRef)(),ft=(0,m.useRef)(),gt=(0,m.useRef)(),ht=(0,m.useRef)(),vt=(0,m.useRef)(),bt=(0,m.useRef)(),Et=(0,m.useRef)(),yt=(0,m.useRef)(),At=(0,m.useRef)(),Tt=(0,m.useRef)(),St=(0,m.useRef)(),Ot=(0,m.useRef)(),It=(0,m.useRef)(),wt=(0,m.useRef)(),Ct=(0,m.useRef)(),Nt=(0,m.useRef)(),Rt=(0,m.useRef)(),_t=(0,m.useRef)(),Mt=(0,m.useRef)(),Ut=(0,m.useRef)(),xt=(0,m.useRef)(),Dt=(0,m.useRef)(),Zt=(0,m.useRef)(),jt=(0,m.useRef)(),Ft=(0,m.useRef)(),Ht=(0,m.useRef)(),Vt=(0,m.useRef)(),Bt=(0,m.useRef)(),qt=(0,m.useRef)();(0,m.useEffect)((function(){null!=c&&c.type&&Qe(null==c?void 0:c.type)}),[c]);(0,m.useEffect)((function(){var e;s&&(Se(null==s?void 0:s.singleLogoutProfile.enabled),we(null==s?void 0:s.singleLogoutProfile.idpInitiatedSingleLogout.enabled),Re(null==s?void 0:s.attributeProfile.enabled),Pe(null==s?void 0:s.requestValidation.enableSignatureValidation),Ze(null==s?void 0:s.responseSigning.enabled),Ue(null==s?void 0:s.singleSignOnProfile.assertion.encryption.enabled),He(null==s||null===(e=s.singleSignOnProfile)||void 0===e||null===(e=e.bindings)||void 0===e?void 0:e.includes(L.Ss.ARTIFACT)))}),[s]),(0,m.useEffect)((function(){qe(l.tZ.inboundSAMLForm.artifactBindingAllowed)}),[]);var Gt,$t=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"issuer":ut.current.scrollIntoView(t);break;case"applicationQualifier":dt.current.scrollIntoView(t);break;case"consumerURL":pt.current.scrollIntoView(t);break;case"defaultAssertionConsumerUrl":mt.current.scrollIntoView(t);break;case"idpEntityIdAlias":ft.current.scrollIntoView(t);break;case"requestSignatureValidation":gt.current.scrollIntoView(t);break;case"signatureValidationCertAlias":ht.current.scrollIntoView(t);break;case"digestAlgorithm":vt.current.scrollIntoView(t);break;case"signingAlgorithm":bt.current.scrollIntoView(t);break;case"responseSigning":Et.current.scrollIntoView(t);break;case"bindings":yt.current.scrollIntoView(t);break;case"signatureValidationForArtifactBinding":At.current.scrollIntoView(t);break;case"idPInitiatedSSO":Tt.current.scrollIntoView(t);break;case"nameIdFormat":St.current.scrollIntoView(t);break;case"audience":Ot.current.scrollIntoView(t);break;case"recipient":It.current.scrollIntoView(t);break;case"assertionEncryption":wt.current.scrollIntoView(t);break;case"assertionEncryptionAlgorithm":Ct.current.scrollIntoView(t);break;case"keyEncryptionAlgorithm":Nt.current.scrollIntoView(t);break;case"attributeProfile":Rt.current.scrollIntoView(t);break;case"includeAttributesInResponse":_t.current.scrollIntoView(t);break;case"attributeConsumingServiceIndex":Ut.current.scrollIntoView(t);break;case"attributeNameFormat":Mt.current.scrollIntoView(t);break;case"singleLogoutProfile":xt.current.scrollIntoView(t);break;case"logoutMethod":Dt.current.scrollIntoView(t);break;case"singleLogoutResponseUrl":Zt.current.scrollIntoView(t);break;case"singleLogoutRequestUrl":jt.current.scrollIntoView(t);break;case"idpInitiatedSingleLogout":Ft.current.scrollIntoView(t);break;case"returnToURL":Ht.current.scrollIntoView(t);break;case"assertionQueryProfile":Vt.current.scrollIntoView(t)}};return(0,m.useEffect)((function(){(0,R.Z)($e)||Ke===j.el.NONE?Xe(!1):Xe(!0)}),[$e,Ke]),d?m.createElement(B.Es,{onSubmit:function(e){st(),Ke!==j.el.NONE&&(0,R.Z)($e)||((0,R.Z)(K)?(ce(!0),$t("consumerURL")):(Ke===j.el.NONE&&ze(""),p(function(e){var t,n;return{general:{advancedConfigurations:{certificate:{type:j.el.PEM,value:Ke!==j.el.NONE?$e:""}}},inbound:{manualConfiguration:{assertionConsumerUrls:K.split(","),attributeProfile:{alwaysIncludeAttributesInResponse:e.get("attributeProfile").includes("enabled"),enabled:e.get("attributeProfile").includes("enabled"),nameFormat:e.get("attributeNameFormat")},defaultAssertionConsumerUrl:e.get("defaultAssertionConsumerUrl"),enableAssertionQueryProfile:null===(t=e.get("assertionQueryProfile"))||void 0===t?void 0:t.includes("enableAssertionQueryProfile"),idpEntityIdAlias:e.get("idpEntityIdAlias"),issuer:e.get("issuer")||(null==s?void 0:s.issuer),requestValidation:{enableSignatureValidation:(Je||H)&&e.get("requestSignatureValidation").includes("enableSignatureValidation"),signatureValidationCertAlias:e.get("signatureValidationCertAlias")},responseSigning:{enabled:e.get("responseSigning").includes("enabled"),signingAlgorithm:e.get("signingAlgorithm")},serviceProviderQualifier:e.get("applicationQualifier"),singleLogoutProfile:{enabled:e.get("singleLogoutProfile").includes("enabled"),idpInitiatedSingleLogout:{enabled:e.get("idpInitiatedSingleLogout").includes("enabled"),returnToUrls:oe?oe.split(","):[]},logoutMethod:e.get("logoutMethod"),logoutRequestUrl:e.get("singleLogoutRequestUrl"),logoutResponseUrl:e.get("singleLogoutResponseUrl")},singleSignOnProfile:{assertion:{audiences:J?J.split(","):[],digestAlgorithm:e.get("digestAlgorithm"),encryption:{assertionEncryptionAlgorithm:Je?e.get("assertionEncryptionAlgorithm"):null==d?void 0:d.assertionEncryptionAlgorithm.defaultValue,enabled:Je&&e.get("assertionEncryption").includes("enableAssertionEncryption"),keyEncryptionAlgorithm:Je?e.get("keyEncryptionAlgorithm"):null==d?void 0:d.keyEncryptionAlgorithm.defaultValue},nameIdFormat:e.get("nameIdFormat"),recipients:te?te.split(","):[]},attributeConsumingServiceIndex:e.get("attributeConsumingServiceIndex"),bindings:e.get("bindings"),enableIdpInitiatedSingleSignOn:e.get("idPInitiatedSSO").includes("enableIdPInitiatedSSO"),enableSignatureValidationForArtifactBinding:Be&&(null===(n=e.get("signatureValidationForArtifactBinding"))||void 0===n?void 0:n.includes("enableSignatureValidationForArtifactBinding"))}}}}}(e))))},onSubmitError:function(e,t){for(var n=e.entries(),i=n.next();!i.done;){if(!i.value[1]||!t.get(i.value[0]).isValid){$t(i.value[0]);break}i=n.next()}},onStaleChange:function(e){rt(e)},ref:Bt},!y&&m.createElement(u.PH,{updateButtonRef:qt,isFormStale:ot,containerRef:T},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:A,disabled:A,"data-testid":"".concat(S,"-submit-button-sticky")},O("common:update"))),m.createElement(b.Z,null,m.createElement(Lt.l,{tabId:l.N0.PROTOCOL},m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-issuer"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},null!=s&&s.issuer?m.createElement(he.Z.Field,null,m.createElement("div",{className:"required field"},m.createElement("label",null,O("applications:forms.inboundSAML.fields.issuer.label"))),m.createElement(u.OR,{value:null==s?void 0:s.issuer})):m.createElement(B.gN,{name:"issuer",label:O("applications:forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:O("applications:forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:O("applications:forms.inboundSAML.fields.issuer.placeholder"),value:null==s?void 0:s.issuer,readOnly:y,"data-testid":"".concat(S,"-issuer-input"),ref:ut}),m.createElement(u.kW,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundSAML.fields.issuer.hint"},"This specifies the unique identifier of the application. This is also the",m.createElement(u.EK,{withBackground:!0},"saml2:Issuer"),"  value specified in the SAML authentication request issued by the application.")))),l.tZ.inboundSAMLForm.showApplicationQualifier&&m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-application-qualifier"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:dt,name:"applicationQualifier",label:O("applications:forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:O("applications:forms.inboundSAML.fields.qualifier.placeholder"),value:null==s?void 0:s.serviceProviderQualifier,readOnly:y,"data-testid":"".concat(S,"-application-qualifier-input")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.fields.qualifier.hint")))),m.createElement("div",{ref:pt}),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:K,setURLState:function(e){var t;Q(e),(null==s||null===(t=s.assertionConsumerUrls)||void 0===t?void 0:t.toString())!==e&&rt(!0)},labelName:O("applications:forms.inboundSAML.fields.assertionURLs.label"),value:null==s?void 0:s.assertionConsumerUrls.toString(),placeholder:O("applications:forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:O("applications:forms.inboundSAML.fields.assertionURLs.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpsOrHttpUrl(e)||(t=m.createElement(ge.Z,{basic:!0,color:"orange",className:"mt-2"},O("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(C(t),!0)},required:!0,showError:le,setShowError:ce,hint:O("applications:forms.inboundSAML.fields.assertionURLs.hint"),readOnly:y,addURLTooltip:O("common:addURL"),duplicateURLErrorMessage:O("common:duplicateURLError"),"data-testid":"".concat(S,"-assertion-consumer-url-input"),showPredictions:!1,customLabel:w,popupHeaderPositive:O("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:O("applications:URLInput.withLabel.negative.header"),popupContentPositive:O("applications:URLInput.withLabel.positive.content",{productName:$.ui.productName}),popupContentNegative:O("applications:URLInput.withLabel.negative.content",{productName:$.ui.productName}),popupDetailedContentPositive:O("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:O("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:O("console:common.validations.inSecureURL.description"),showLessContent:O("common:showLess"),showMoreContent:O("common:showMore")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:mt,label:O("applications:forms.inboundSAML.fields.defaultAssertionURL.label"),name:"defaultAssertionConsumerUrl",type:"dropdown",required:!0,requiredErrorMessage:O("applications:forms.inboundSAML.fields.defaultAssertionURL.validations.empty"),default:!(0,R.Z)(K)&&K.split(",").slice(-1)[0],children:function(){var e=[];if(!(0,R.Z)(K)){var t=K.split(",");t.map((function(n){e.push({key:t.indexOf(n),text:n,value:n})}))}return e}(),readOnly:y,"data-testid":"".concat(S,"-default-assertion-consumer-url-input"),value:null==s?void 0:s.defaultAssertionConsumerUrl}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.fields.defaultAssertionURL.hint")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-idp-entity-id-alias"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:ft,label:O("applications:forms.inboundSAML.fields.idpEntityIdAlias.label"),name:"idpEntityIdAlias",placeholder:O("applications:forms.inboundSAML.fields.idpEntityIdAlias.placeholder"),type:"text",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.fields.idpEntityIdAlias.validations.empty"),validation:function(e,t){q.I.url(e)||(t.errorMessages.push(O("applications:forms.inboundSAML.fields.idpEntityIdAlias.validations.invalid")),t.isValid=!1)},value:null==s?void 0:s.idpEntityIdAlias,readOnly:y,"data-testid":"".concat(S,"-idp-entity-id-alias-input")}),m.createElement(u.kW,null,m.createElement(g.c,{values:{defaultIdpEntityID:null==G?void 0:G.issuer,productName:$.ui.productName},i18nKey:"applications:forms.inboundSAML.fields.idpEntityIdAlias.hint"},"This value can override the default Identity Provider (IdP) entity ID defaultIdpEntityID. The IdP entity ID is used as the",m.createElement(u.EK,{withBackground:!0},"saml2:Issuer")," of the SAML response that is generated by productName.")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-request-validation"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},O("applications:forms.inboundSAML.sections.requestValidation.heading")),m.createElement(v.Z,{hidden:!0}),m.createElement(B.gN,{ref:gt,name:"requestSignatureValidation",label:"",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.validations.empty"),disabled:!Je&&!H,type:"checkbox",listen:function(e){Pe(e.get("requestSignatureValidation").includes("enableSignatureValidation"))},value:null!=s&&s.requestValidation.enableSignatureValidation?["enableSignatureValidation"]:[],children:[{label:O("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.label"),value:"enableSignatureValidation"}],readOnly:y,"data-testid":"".concat(S,"-request-signature-validation-checkbox")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidation.hint",{productName:$.ui.productName})))),H&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:ht,label:O("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.label"),name:"signatureValidationCertAlias",type:"dropdown",required:!1,disabled:!Le,value:null==s?void 0:s.requestValidation.signatureValidationCertAlias,requiredErrorMessage:O("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.validations.empty"),default:null==d?void 0:d.certificateAlias.defaultValue,children:z(null==d?void 0:d.certificateAlias),readOnly:y,"data-testid":"".concat(S,"-request-validation-certificate-alias-dropdown")}),m.createElement(u.kW,{disabled:!Le},O("applications:forms.inboundSAML.sections.requestValidation.fields.signatureValidationCertAlias.hint")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-sign-saml-responses-header"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},O("applications:forms.inboundSAML.sections.responseSigning.heading")))),m.createElement(b.Z.Row,{"data-componentid":"application-edit-inbound-saml-form-sign-saml-responses"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Et,name:"responseSigning",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=s&&s.responseSigning.enabled?["enabled"]:[],listen:function(e){Ze(e.get("responseSigning").includes("enabled"))},children:[{label:O("applications:forms.inboundSAML.sections.responseSigning.fields.responseSigning.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(S,"-response-signing-checkbox")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.responseSigning.fields.responseSigning.hint",{productName:$.ui.productName})))),m.createElement(b.Z.Row,{"data-componentid":"application-edit-inbound-saml-form-sign-digest-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:vt,label:O("applications:forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.label"),name:"digestAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.responseSigning.fields.digestAlgorithm.validations.empty"),default:null==d?void 0:d.responseDigestAlgorithm.defaultValue,value:null==s?void 0:s.singleSignOnProfile.assertion.digestAlgorithm,children:z(null==d?void 0:d.responseDigestAlgorithm),readOnly:y,disabled:!De,"data-testid":"".concat(S,"-digest-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-sign-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:bt,label:O("applications:forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.label"),name:"signingAlgorithm",type:"dropdown",required:!1,value:null==s?void 0:s.responseSigning.signingAlgorithm,requiredErrorMessage:O("applications:forms.inboundSAML.sections.responseSigning.fields.signingAlgorithm.validations.empty"),default:null==d?void 0:d.responseSigningAlgorithm.defaultValue,children:z(null==d?void 0:d.responseSigningAlgorithm),readOnly:y,disabled:!De,"data-testid":"".concat(S,"-signing-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},O("applications:forms.inboundSAML.sections.ssoProfile.heading")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-bindings"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:yt,label:O("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.label"),name:"bindings",type:"checkbox",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.validations.empty"),default:["HTTP_POST","HTTP_REDIRECT"],children:(Gt=[{label:"HTTP Post",readOnly:!0,value:"HTTP_POST"},{label:"HTTP Redirect",readOnly:!0,value:"HTTP_REDIRECT"}],Be&&Gt.push({label:"Artifact",readOnly:!1,value:"ARTIFACT"}),Gt),value:(0,me.Z)(null==s||null===(t=s.singleSignOnProfile)||void 0===t?void 0:t.bindings,["HTTP_POST","HTTP_REDIRECT"]),readOnly:y,listen:function(e){He(e.get("bindings").includes("ARTIFACT")),e.get("bindings").includes("ARTIFACT")||e.set("signatureValidationForArtifactBinding",[])},"data-testid":"".concat(S,"-bindings-checkbox-group")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.ssoProfile.fields.bindings.hint")))),Be?m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-signature-validation-for-artifact-binding"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:At,name:"signatureValidationForArtifactBinding",label:"",required:!1,requiredErrorMessage:"",type:"checkbox",value:Fe&&null!=s&&s.singleSignOnProfile.enableSignatureValidationForArtifactBinding?["enableSignatureValidationForArtifactBinding"]:[],children:[{label:O("applications:forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.label"),value:"enableSignatureValidationForArtifactBinding"}],readOnly:y,disabled:!Fe,"data-testid":"".concat(S,"-artifact-binding-signature-validation-checkbox")}),m.createElement(u.kW,{disabled:!Fe},O("applications:forms.inboundSAML.sections.ssoProfile.fields.artifactBinding.hint")))):null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Tt,name:"idPInitiatedSSO",label:"",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.validations.empty"),type:"checkbox",value:null!=s&&s.singleSignOnProfile.enableIdpInitiatedSingleSignOn?["enableIdPInitiatedSSO"]:[],children:[{label:O("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.label"),value:"enableIdPInitiatedSSO"}],readOnly:y,"data-testid":"".concat(S,"-idp-initiated-sso-checkbox")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.ssoProfile.fields.idpInitiatedSSO.hint")))),m.createElement(b.Z.Row,{columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},O("applications:forms.inboundSAML.sections.assertion.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-name-id-format"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:St,label:O("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.label"),name:"nameIdFormat",placeholder:O("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.placeholder"),type:"dropdown",default:null==d?void 0:d.defaultNameIdFormat,required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.validations.empty"),value:null==s?void 0:s.singleSignOnProfile.assertion.nameIdFormat,children:(0,Pt.Ex)(),readOnly:y,"data-testid":"".concat(S,"-name-id-format-input")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.assertion.fields.nameIdFormat.hint")))),m.createElement("div",{ref:Ot}),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-audience"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:J,setURLState:function(e){var t;X(e),(null==s||null===(t=s.singleSignOnProfile)||void 0===t||null===(t=t.assertion)||void 0===t||null===(t=t.audiences)||void 0===t?void 0:t.toString())!==e&&rt(!0)},labelName:O("applications:forms.inboundSAML.sections.assertion.fields.audience.label"),value:null==s?void 0:s.singleSignOnProfile.assertion.audiences.toString(),placeholder:O("applications:forms.inboundSAML.sections.assertion.fields.audience.placeholder"),validationErrorMsg:O("applications:forms.inboundSAML.sections.assertion.fields.audience.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpUrl(e)||V.URLUtils.isHttpsUrl(e)||(t=m.createElement(ge.Z,{basic:!0,color:"orange",className:"mt-2"},O("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(P(t),!0)},showError:ue,setShowError:de,hint:O("applications:forms.inboundSAML.sections.assertion.fields.audience.hint"),readOnly:y,addURLTooltip:O("common:addURL"),duplicateURLErrorMessage:O("common:duplicateURLError"),"data-testid":"".concat(S,"-audience-url-input"),showPredictions:!1,customLabel:_,popupHeaderPositive:O("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:O("applications:URLInput.withLabel.negative.header"),popupContentPositive:O("applications:URLInput.withLabel.positive.content",{productName:$.ui.productName}),popupContentNegative:O("applications:URLInput.withLabel.negative.content",{productName:$.ui.productName}),popupDetailedContentPositive:O("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:O("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:O("console:common.validations.inSecureURL.description"),showLessContent:O("common:showLess"),showMoreContent:O("common:showMore")}))),m.createElement("div",{ref:It}),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-recipient"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:te,setURLState:function(e){var t;ne(e),(null==s||null===(t=s.singleSignOnProfile)||void 0===t||null===(t=t.assertion)||void 0===t||null===(t=t.recipients)||void 0===t?void 0:t.toString())!==e&&rt(!0)},labelName:O("applications:forms.inboundSAML.sections.assertion.fields.recipients.label"),value:null==s?void 0:s.singleSignOnProfile.assertion.recipients.toString(),placeholder:O("applications:forms.inboundSAML.sections.assertion.fields.recipients.placeholder"),validationErrorMsg:O("applications:forms.inboundSAML.sections.assertion.fields.recipients.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpUrl(e)||V.URLUtils.isHttpsUrl(e)||(t=m.createElement(ge.Z,{basic:!0,color:"orange",className:"mt-2"},O("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(U(t),!0)},showError:fe,setShowError:ve,hint:O("applications:forms.inboundSAML.sections.assertion.fields.recipients.hint"),readOnly:y,addURLTooltip:O("common:addURL"),duplicateURLErrorMessage:O("common:duplicateURLError"),"data-testid":"".concat(S,"-recipients-url-input"),showPredictions:!1,customLabel:M,popupHeaderPositive:O("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:O("applications:URLInput.withLabel.negative.header"),popupContentPositive:O("applications:URLInput.withLabel.positive.content",{productName:$.ui.productName}),popupContentNegative:O("applications:URLInput.withLabel.negative.content",{productName:$.ui.productName}),popupDetailedContentPositive:O("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:O("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:O("console:common.validations.inSecureURL.description"),showLessContent:O("common:showLess"),showMoreContent:O("common:showMore")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:wt,name:"assertionEncryption",label:"",required:!1,disabled:!Je,requiredErrorMessage:O("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.validations.empty"),value:null!=s&&s.singleSignOnProfile.assertion.encryption.enabled?["enableAssertionEncryption"]:[],type:"checkbox",listen:function(e){Ue(e.get("assertionEncryption").includes("enableAssertionEncryption"))},children:[{label:O("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.label"),value:"enableAssertionEncryption"}],readOnly:y,"data-testid":"".concat(S,"-assertion-encryption-checkbox")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryption.hint")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-assertion-encryption-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ct,label:O("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.label"),name:"assertionEncryptionAlgorithm",type:"dropdown",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.encryption.fields.assertionEncryptionAlgorithm.validations.empty"),disabled:!Me||!Je,default:null==d?void 0:d.assertionEncryptionAlgorithm.defaultValue,value:null==s?void 0:s.singleSignOnProfile.assertion.encryption.assertionEncryptionAlgorithm,children:z(null==d?void 0:d.assertionEncryptionAlgorithm),readOnly:y,"data-testid":"".concat(S,"-assertion-encryption-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-key-encryption-algorithm"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Nt,label:O("applications:forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.label"),name:"keyEncryptionAlgorithm",type:"dropdown",required:!1,disabled:!Me||!Je,requiredErrorMessage:O("applications:forms.inboundSAML.sections.encryption.fields.keyEncryptionAlgorithm.validations.empty"),default:null==d?void 0:d.keyEncryptionAlgorithm.defaultValue,value:null==s?void 0:s.singleSignOnProfile.assertion.encryption.keyEncryptionAlgorithm,children:z(null==d?void 0:d.keyEncryptionAlgorithm),readOnly:y,"data-testid":"".concat(S,"-key-encryption-algorithm-dropdown")}))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-attribute-profile-heading"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},O("applications:forms.inboundSAML.sections.attributeProfile.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-enable-attribute-profile"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Rt,name:"attributeProfile",label:"",required:!1,requiredErrorMessage:"this is needed",type:"checkbox",value:null!=s&&s.attributeProfile.enabled?["enabled"]:[],listen:function(e){Re(e.get("attributeProfile").includes("enabled"))},children:[{label:O("applications:forms.inboundSAML.sections.attributeProfile.fields.enable.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(S,"-attribute-profile-checkbox")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.attributeProfile.fields.enable.hint")))),l.tZ.inboundSAMLForm.showAttributeConsumingServiceIndex&&m.createElement(m.Fragment,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ut,label:O("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.label"),name:"attributeConsumingServiceIndex",placeholder:O("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.placeholder"),type:"text",required:!1,disabled:!Ne,requiredErrorMessage:O("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.validations.empty"),value:null==s?void 0:s.singleSignOnProfile.attributeConsumingServiceIndex,readOnly:y,"data-testid":"".concat(S,"-attribute-consuming-service-index-input")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.attributeProfile.fields.serviceIndex.hint"))))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-attribute-name-format"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Mt,label:O("applications:forms.inboundSAML.sections.attributeProfile.fields.attributeNameFormat.label"),name:"attributeNameFormat",type:"dropdown",default:x.j.DEFAULT_NAME_ATTRIBUTE_FORMAT,required:!1,value:null==s||null===(n=s.attributeProfile)||void 0===n?void 0:n.nameFormat,children:x.j.SUPPORT_NAME_FORMATS.map((function(e){return{key:e,text:e,value:e}})),readOnly:y,"data-componentid":"application-edit-inbound-saml-form-attribute-name-format-input"}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.attributeProfile.fields.attributeNameFormat.hint")))),m.createElement(b.Z.Row,{columns:2,"data-componentid":"application-edit-inbound-saml-form-slo-heading"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null),m.createElement(v.Z,{hidden:!0})),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},O("applications:forms.inboundSAML.sections.sloProfile.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-enable-slo"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:xt,name:"singleLogoutProfile",label:"",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.sloProfile.fields.enable.validations.empty"),type:"checkbox",value:null!=s&&s.singleLogoutProfile.enabled?["enabled"]:[],listen:function(e){Se(e.get("singleLogoutProfile").includes("enabled"))},children:[{label:O("applications:forms.inboundSAML.sections.sloProfile.fields.enable.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(S,"-single-logout-profile-checkbox")}),m.createElement(u.kW,null,O("applications:forms.inboundSAML.sections.sloProfile.fields.enable.hint")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-logout-method"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Dt,label:O("applications:forms.inboundSAML.sections.sloProfile.fields.logoutMethod.label"),name:"logoutMethod",type:"dropdown",required:!1,value:null==s?void 0:s.singleLogoutProfile.logoutMethod,requiredErrorMessage:O("applications:forms.inboundSAML.sections.sloProfile.fields.logoutMethod.validations.empty"),default:L.aD.BACK_CHANNEL,disabled:!Te,children:[{key:1,text:"Back Channel",value:L.aD.BACK_CHANNEL},{key:2,text:"Front Channel HTTP Redirect",value:L.aD.FRONT_CHANNEL_HTTP_REDIRECT},{key:3,text:"Front Channel HTTP Post",value:L.aD.FRONT_CHANNEL_HTTP_POST}],listen:function(e){nt(e.get("logoutMethod"))},readOnly:y,"data-testid":"".concat(S,"-logout-method-dropdown")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-logout-response-url"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Zt,name:"singleLogoutResponseUrl",label:O("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.label"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(O("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.invalid"))),tt===L.aD.BACK_CHANNEL&&null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(O("idp:forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.validations.empty"),placeholder:O("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.placeholder"),disabled:!Te,type:"text",value:null==s?void 0:s.singleLogoutProfile.logoutResponseUrl,readOnly:y,"data-testid":"".concat(S,"-single-logout-response-url-input")}),m.createElement(u.kW,{disabled:!Te},O("applications:forms.inboundSAML.sections.sloProfile.fields.responseURL.hint",{productName:$.ui.productName})))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-logout-request-url"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:jt,name:"singleLogoutRequestUrl",label:O("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.label"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(O("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.invalid"))),tt===L.aD.BACK_CHANNEL&&null!==l.xg&&void 0!==l.xg&&l.xg.blockLoopBackCalls&&V.URLUtils.isLoopBackCall(e)&&(t.isValid=!1,t.errorMessages.push(O("idp:forms.common.internetResolvableErrorMessage")))},required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.validations.empty"),placeholder:O("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.placeholder"),disabled:!Te,type:"text",value:null==s?void 0:s.singleLogoutProfile.logoutRequestUrl,readOnly:y,"data-testid":"".concat(S,"-single-logout-request-url-input")}),m.createElement(u.kW,{disabled:!Te},O("applications:forms.inboundSAML.sections.sloProfile.fields.requestURL.hint",{productName:$.ui.productName})))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-idp-initiated-slo-heading"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h6",disabled:!Te},O("applications:forms.inboundSAML.sections.idpInitiatedSLO.heading")))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-enable-idp-initiated-slo"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{ref:Ft,name:"idpInitiatedSingleLogout",label:"",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.validations.empty"),type:"checkbox",disabled:!Te,value:null!=s&&s.singleLogoutProfile.idpInitiatedSingleLogout.enabled?["enabled"]:[],listen:function(e){we(e.get("idpInitiatedSingleLogout").includes("enabled"))},children:[{label:O("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.label"),value:"enabled"}],readOnly:y,"data-testid":"".concat(S,"-idp-initiated-single-logout-checkbox")}),m.createElement(u.kW,{disabled:!Te},O("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.enable.hint")))),m.createElement("div",{ref:Ht}),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-slo-return-to-urls"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.wE,{urlState:oe,setURLState:function(e){var t;re(e),(null==s||null===(t=s.singleLogoutProfile)||void 0===t||null===(t=t.idpInitiatedSingleLogout)||void 0===t||null===(t=t.returnToUrls)||void 0===t?void 0:t.toString())!==e&&rt(!0)},labelName:O("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.label"),value:null==s?void 0:s.singleLogoutProfile.idpInitiatedSingleLogout.returnToUrls.toString(),placeholder:O("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.placeholder"),validationErrorMsg:O("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.validations.invalid"),validation:function(e){var t=null;return V.URLUtils.isHttpUrl(e)||V.URLUtils.isHttpsUrl(e)||(t=m.createElement(ge.Z,{basic:!0,color:"orange",className:"mt-2"},O("console:common.validations.unrecognizedURL.description"))),!!V.URLUtils.isMobileDeepLink(e)&&(F(t),!0)},showError:Ee,setShowError:ye,disabled:!Ie||!Te,readOnly:y,addURLTooltip:O("common:addURL"),duplicateURLErrorMessage:O("common:duplicateURLError"),"data-testid":"".concat(S,"-return-to-urls-input"),showPredictions:!1,customLabel:Z,popupHeaderPositive:O("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:O("applications:URLInput.withLabel.negative.header"),popupContentPositive:O("applications:URLInput.withLabel.positive.content",{productName:$.ui.productName}),popupContentNegative:O("applications:URLInput.withLabel.negative.content",{productName:$.ui.productName}),popupDetailedContentPositive:O("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:O("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:O("console:common.validations.inSecureURL.description"),showLessContent:O("common:showLess"),showMoreContent:O("common:showMore")}),m.createElement(u.kW,{disabled:!Te},O("applications:forms.inboundSAML.sections.idpInitiatedSLO.fields.returnToURLs.hint")))),l.tZ.inboundSAMLForm.showQueryRequestProfile&&m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-assertion-query-profile"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.X6,{as:"h5"},O("applications:forms.inboundSAML.sections.requestProfile.heading")),m.createElement(v.Z,{hidden:!0}),m.createElement(B.gN,{ref:Vt,name:"assertionQueryProfile",label:"",required:!1,requiredErrorMessage:O("applications:forms.inboundSAML.sections.requestProfile.fields.enable.validations.empty"),value:null!=s&&s.enableAssertionQueryProfile?["enableAssertionQueryProfile"]:[],type:"checkbox",children:[{label:O("applications:forms.inboundSAML.sections.requestProfile.fields.enable.label"),value:"enableAssertionQueryProfile"}],readOnly:y,"data-testid":"".concat(S,"-assertion-query-profile-checkbox")}))),m.createElement(b.Z.Row,{columns:1,"data-componentid":"application-edit-inbound-saml-form-certificate"},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(ct,{protocol:L.AI.SAML,deleteAllowed:!(null!=s&&null!==(i=s.requestValidation)&&void 0!==i&&i.enableSignatureValidation&&!H||null!=s&&null!==(o=s.singleSignOnProfile)&&void 0!==o&&null!==(o=o.assertion)&&void 0!==o&&null!==(o=o.encryption)&&void 0!==o&&o.enabled),reasonInsideTooltipWhyDeleteIsNotAllowed:O("applications:forms.inboundSAML.sections.certificates.disabledPopup"),onUpdate:r,application:a,updateCertFinalValue:ze,updateCertType:Qe,canDiscardCertificate:function(){return!Le},certificate:c,readOnly:y,hidden:!1,isRequired:!0,hideJWKS:!0,triggerSubmit:lt}))),!y&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement("span",{ref:qt}),m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button",loading:A,disabled:A,"data-testid":"".concat(S,"-submit-button")},O("common:update"))))))):null};function xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Ut.defaultProps={"data-testid":"inbound-saml-form"};var Zt=function(e){var t=e.certificate,n=e.metadata,i=e.initialValues,o=e.onSubmit,r=e.readOnly,a=e.isLoading,l=e["data-testid"],d=(0,f.$)().t,p=(0,h.I0)(),g=xt((0,m.useState)(!1),2),y=g[0],A=g[1],T=xt((0,m.useState)(!1),2),S=T[0],O=T[1],I=xt((0,m.useState)(void 0),2),w=I[0],C=I[1],N=xt((0,m.useState)(null),2),_=N[0],L=N[1];(0,m.useEffect)((function(){j.el.PEM===(null==t?void 0:t.type)&&(A(!0),null!=t&&t.value&&C(t.value))}),[t]);var P,k;return n?m.createElement(B.Es,{onSubmit:function(e){o(function(e){return{general:{advancedConfigurations:{certificate:{type:e.get("type"),value:y?e.get("certificateValue"):e.get("jwksValue")}}},inbound:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}(e))}},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"audience",label:d("applications:forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:d("applications:forms.inboundWSTrust.fields.audience.placeholder"),type:"text",value:null==i?void 0:i.audience,readOnly:r||!(0,R.Z)(null==i?void 0:i.audience),"data-testid":"".concat(l,"-audience-input")}),m.createElement(u.kW,{disabled:!(0,R.Z)(null==i?void 0:i.audience)},d("applications:forms.inboundWSTrust.fields.audience.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{label:d("applications:forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:null==n?void 0:n.certificateAlias.defaultValue,value:null==i?void 0:i.certificateAlias,children:(P=null==n?void 0:n.certificateAlias,k=[],P&&P.options.map((function(e){k.push({key:P.options.indexOf(e),text:e,value:e})})),k),readOnly:r,"data-testid":"".concat(l,"-certificate-alias-dropdown")}),m.createElement(u.kW,null,d("applications:forms.inboundWSTrust.fields.certificateAlias.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(v.Z,null)),m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(u.X6,{as:"h5"},d("applications:forms.advancedConfig.sections.certificate.heading")),m.createElement(B.gN,{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.label"),name:"type",default:j.el.JWKS,listen:function(e){A("PEM"===e.get("type"))},type:"radio",value:null==t?void 0:t.type,children:[{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.jwks.label"),value:j.el.JWKS},{label:d("applications:forms.advancedConfig.sections.certificate.fields.type.children.pem.label"),value:j.el.PEM}],readOnly:r,"data-testid":"".concat(l,"-certificate-type-radio-group")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},y?m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"certificateValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.validations.empty"),placeholder:x.j.PEM_CERTIFICATE_PLACEHOLDER,type:"textarea",value:j.el.PEM===(null==t?void 0:t.type)&&(null==t?void 0:t.value),listen:function(e){C(e.get("certificateValue"))},readOnly:r,"data-testid":"".concat(l,"-certificate-textarea")}),m.createElement(u.kW,null,d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.hint")),m.createElement(u.Qj,{className:"certificate-info-link-button",onClick:function(e){var t;e.preventDefault(),y&&w&&((t=V.CertificateManagementUtils.canSafelyParseCertificate(w)?V.CertificateManagementUtils.displayCertificate(null,w):H.lu.DUMMY_DISPLAY_CERTIFICATE)?(L(t),O(!0)):p((0,s.V_)({description:d("applications:notifications.invalidPEMFile.genericError.description"),level:c.QU.ERROR,message:d("applications:notifications.invalidPEMFile.genericError.message")})))},disabled:(0,R.Z)(w),"data-testid":"".concat(l,"-certificate-info-button")},d("applications:forms.advancedConfig.sections.certificate.fields.pemValue.actions.view"))):m.createElement(m.Fragment,null,m.createElement(B.gN,{name:"jwksValue",label:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.label"),required:!1,requiredErrorMessage:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.empty"),placeholder:d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.advancedConfig.sections.certificate.fields.jwksValue.validations.invalid")))},value:j.el.JWKS===(null==t?void 0:t.type)&&(null==t?void 0:t.value),readOnly:r,"data-testid":"".concat(l,"-jwks-input")})))),S&&m.createElement(K,{open:S,certificate:_,onClose:function(){O(!1)}}),!r&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(E.Z,{primary:!0,type:"submit",size:"small",className:"form-button","data-testid":"".concat(l,"-submit-button"),loading:a,disabled:a},d("common:update")))))):null};Zt.defaultProps={"data-testid":"inbound-ws-trust-form"};var jt=function(e){var t=e.onUpdate,n=e.application,i=e.certificate,o=e.metadata,r=e.initialValues,a=e.onSubmit,l=e.type,c=e.onApplicationRegenerate,s=e.onApplicationRevoke,u=e.readOnly,d=e.allowedOrigins,p=e.tenantDomain,f=e.template,g=e.showSAMLCreation,h=e.SAMLCreationOption,v=e.isLoading,b=e.setIsLoading,E=e.containerRef,y=e.isDefaultApplication,A=e.isSystemApplication,T=e["data-testid"];switch(l){case L.AI.OIDC:case L.AI.OAUTH2_OIDC:return m.createElement(St,{onUpdate:t,application:n,isLoading:v,setIsLoading:b,certificate:i,tenantDomain:p,allowedOriginList:d,initialValues:r,metadata:o,onSubmit:a,onApplicationRegenerate:c,onApplicationRevoke:s,readOnly:u,template:f,"data-testid":T,containerRef:E,isDefaultApplication:y,isSystemApplication:A});case L.AI.SAML:return g&&h&&h!==L.T6.MANUAL?m.createElement(Rt,{isLoading:v,initialValues:r,creationOption:h||L.T6.META_URL,onSubmit:a,"data-testid":T}):m.createElement(Ut,{onUpdate:t,application:n,isLoading:v,certificate:i,initialValues:r,metadata:o,onSubmit:a,readOnly:u,"data-testid":T,containerRef:E});case L.AI.WS_TRUST:return m.createElement(Zt,{isLoading:v,certificate:i,initialValues:r,metadata:o,onSubmit:a,readOnly:u,"data-testid":T});case L.AI.WS_FEDERATION:return m.createElement(wt,{onUpdate:t,application:n,isLoading:v,certificate:i,initialValues:r,onSubmit:a,readOnly:u,"data-testid":T});case L.AI.CUSTOM:return m.createElement(X,{isLoading:v,certificate:i,metadata:o,initialValues:r,onSubmit:a,"data-testid":T});default:return null}};jt.defaultProps={"data-testid":"inbound-form-factory",showSAMLCreation:!1};var Ft=n(60486),Ht=n(40838),Vt=n(47513),Bt=n(43031),qt=n(28676),Gt=n(95223),$t=n(2446);function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Qt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=zt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e,t){if(e){if("string"==typeof e)return Yt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yt(e,t):void 0}}function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Jt=function(e){var t=e.metadata,n=e.initialValues,i=e.onSubmit,o=e.protocolName,r=e.triggerSubmit,a=e["data-testid"],l=(0,f.$)().t,c=function(e,t){var n;return(null==e||null===(n=e.availableValues)||void 0===n?void 0:n.length)>0?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,type:"dropdown",value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:l("applications:forms.inboundCustom.fields.dropdown.validations.empty",{name:null==e?void 0:e.displayName}),default:null==e?void 0:e.defaultValue,children:d(null==e?void 0:e.availableValues),"data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-select")}))):null!=e&&e.isConfidential?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,hidePassword:l("common:hide")+" "+(null==e?void 0:e.displayName),showPassword:l("common:show")+" "+(null==e?void 0:e.displayName),value:null==t?void 0:t.value,required:null==e?void 0:e.required,requiredErrorMessage:l("applications:forms.inboundCustom.fields.password.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:l("applications:forms.inboundCustom.fields.password.placeholder",{name:null==e?void 0:e.displayName}),type:"password",default:null==e?void 0:e.defaultValue,"data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-password-input")}))):(null==e?void 0:e.type)===L.og.BOOLEAN?m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{name:null==e?void 0:e.name,label:"",required:null==e?void 0:e.required,requiredErrorMessage:l("applications:forms.inboundCustom.fields.checkbox.validations.empty",{user:null==e?void 0:e.displayName}),value:null!=t&&t.value?[e.name]:[],type:"checkbox",children:[{label:e.displayName,value:e.name}],"data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-checkbox")}))):m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:null==e?void 0:e.displayName,name:null==e?void 0:e.name,required:null==e?void 0:e.required,value:null==t?void 0:t.value,requiredErrorMessage:l("applications:forms.inboundCustom.fields.generic.validations.empty",{name:null==e?void 0:e.displayName}),placeholder:l("applications:forms.inboundCustom.fields.generic.placeholder",{name:null==e?void 0:e.displayName}),type:(null==e?void 0:e.type)===L.og.INTEGER?"number":"text","data-testid":"".concat(a,"-").concat(null==e?void 0:e.name,"-input")})))},s=function(){if(t){var e=null==t?void 0:t.properties;return e.length>0&&e.sort((function(e,t){return e.displayOrder>t.displayOrder?1:-1})),e.map((function(e){var t=null==n?void 0:n.properties.find((function(t){return t.key===e.name}));return t?c(e,t):c(e)}))}},d=function(e){var t=[];return e&&e.map((function(n){t.push({key:e.indexOf(n),text:n,value:n})})),t},p=function(e){var t,n=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}(e);try{for(i.s();!(t=i.n()).done;){var r=Wt(t.value,2),a=r[0],l=r[1],c=void 0;c=l instanceof Array?{key:a,value:l.length>0}:{key:a,value:l},n.push(c)}}catch(s){i.e(s)}finally{i.f()}return{inboundProtocolConfiguration:Kt({},o,{configName:o,name:o,properties:[].concat(n)})}};return(0,m.useEffect)((function(){t&&s()}),[t]),t?m.createElement(B.Es,{onSubmit:function(e){i(p(e))},submitState:r},m.createElement(b.Z,null,s())):m.createElement(u.pO,null)};function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Jt.defaultProps={"data-testid":"custom-protocol-settings-wizard-form"};var tn=function(e){var t,n,i=e.initialValues,o=e.templateValues,r=e.triggerSubmit,a=e.onSubmit,l=e["data-testid"],c=(0,f.$)().t,s=Xt((0,m.useState)(!1),2),d=s[0],p=s[1];return m.createElement(B.Es,{onSubmit:function(e){return a(function(e){return{accessUrl:e.get("accessUrl").toString(),advancedConfigurations:{discoverableByEndUsers:!!e.get("discoverableByEndUsers").includes("discoverableByEndUsers")},description:e.get("description").toString(),imageUrl:e.get("imageUrl").toString(),name:e.get("name").toString()}}(e))},submitState:r},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"name",label:c("applications:forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:c("applications:forms.generalDetails.fields.name.validations.empty"),placeholder:c("applications:forms.generalDetails.fields.name.placeholder"),value:null==i?void 0:i.name,type:"text","data-testid":"".concat(l,"-application-name-input")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"description",label:c("applications:forms.generalDetails.fields.description.label"),required:!1,requiredErrorMessage:"",placeholder:c("applications:forms.generalDetails.fields.description.placeholder"),type:"textarea",value:i?null==i?void 0:i.description:null==o?void 0:o.description,"data-testid":"".concat(l,"-application-description-textarea")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(B.gN,{name:"imageUrl",label:c("applications:forms.generalDetails.fields.imageUrl.label"),required:!1,requiredErrorMessage:"",placeholder:c("applications:forms.generalDetails.fields.imageUrl.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(c("applications:forms.generalDetails.fields.imageUrl.validations.invalid")))},value:i?null==i?void 0:i.imageUrl:null==o?void 0:o.imageUrl,type:"text","data-testid":"".concat(l,"-application-image-url-input")}))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{name:"discoverableByEndUsers",required:!1,requiredErrorMessage:"",type:"checkbox",listen:function(e){p(e.get("discoverableByEndUsers").includes("discoverableByEndUsers"))},children:[{label:c("applications:forms.generalDetails.fields.discoverable.label"),value:"discoverableByEndUsers"}],value:i?null!=i&&null!==(t=i.advancedConfigurations)&&void 0!==t&&t.discoverableByEndUsers?["discoverableByEndUsers"]:[]:null!=o&&null!==(n=o.advancedConfigurations)&&void 0!==n&&n.discoverableByEndUsers?["discoverableByEndUsers"]:[],"data-testid":"".concat(l,"-application-discoverable-checkbox")}),m.createElement(u.kW,{compact:!0},m.createElement(g.c,{i18nKey:"applications:forms.generalDetails.fields.discoverable.hint"},"If an application is flagged as discoverable, it will be visible to end users in",m.createElement("a",{href:Ft.$.getMyAccountPath(),target:"_blank",rel:"noopener noreferrer",className:"link external"},"My Account"),m.createElement(Ge.Z,{className:"ml-1 link primary",name:"external"}))),m.createElement(v.Z,{hidden:!0}),m.createElement(B.gN,{name:"accessUrl",label:c("applications:forms.generalDetails.fields.accessUrl.label"),required:d,requiredErrorMessage:c("applications:forms.generalDetails.fields.accessUrl.validations.empty"),placeholder:c("applications:forms.generalDetails.fields.accessUrl.placeholder"),validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(c("applications:forms.generalDetails.fields.accessUrl.validations.invalid")))},type:"text",value:i?null==i?void 0:i.accessUrl:null==o?void 0:o.accessUrl,"data-testid":"".concat(l,"-application-access-url-input")}),m.createElement(u.kW,{compact:!0},c("applications:forms.generalDetails.fields.accessUrl.hint")))))))};tn.defaultProps={"data-testid":"application-general-settings-wizard-form"};var nn=n(76314),on=n(89331),rn=n(16662);function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var cn=function(e){var t=e.initialSelectedTemplate,n=e.selectedProtocols,i=e.onSubmit,o=e.setSelectedCustomInboundProtocol,a=e.triggerSubmit,l=e["data-componentid"],c=(0,f.$)().t,s=(0,h.v9)((function(e){return e.application.meta.customInboundProtocols})),d=an((0,m.useState)(void 0),2),p=d[0],g=d[1],v=an((0,m.useState)(void 0),2),b=v[0],E=v[1],y=an((0,m.useState)(!1),2),A=y[0],T=y[1],S=(0,m.useRef)(!0);(0,m.useEffect)((function(){T(!0),P.y.getCustomInboundProtocols(rn.oK,!0).finally((function(){T(!1)}))}),[]),(0,m.useEffect)((function(){I()}),[s]),(0,m.useEffect)((function(){S.current?S.current=!1:i(p)}),[a]),(0,m.useEffect)((function(){t&&g(t)}),[t]);var I=function(){var e=[];if(A)return null;(null==s?void 0:s.length)>0&&(s.map((function(t){var n={authenticationProtocol:t.name,id:t.name,image:t.name,name:t.displayName};e.push(n)})),E(e.filter((function(e){return!n.includes(e.authenticationProtocol)}))))};return m.createElement(m.Fragment,null,(null==b?void 0:b.length)>0?m.createElement(O.Z.Group,{className:"authenticators-grid"},b&&b.map((function(e,t){return m.createElement(O.Z,{key:t,onClick:function(){o(!0),g(e)},"data-testid":"".concat(l,"-").concat(e.name),selected:(null==p?void 0:p.id)===e.id,className:(null==p?void 0:p.id)===e.id?"selection-info-card selected":"selection-info-card",size:"small"},m.createElement(O.Z.Content,{className:"p-4"},m.createElement(O.Z.Header,{textAlign:"left",className:"card-header ellipsis pt-1 inline",inline:!0},(0,_.B0)()[e.id]?m.createElement(u.dn,{icon:(0,_.B0)()[e.id],size:"x22",floated:"left",shape:"square",className:"theme-icon hover-rounded card-image p-1",inline:!0}):m.createElement(u.JT,{image:m.createElement(u.Xo,{name:e.id,size:"mini","data-componentid":"".concat(l,"-item-image-inner")}),size:"mini",spaced:"right","data-testid":"".concat(l,"-item-image"),inline:!0}),e.name),m.createElement(O.Z.Description,{className:"card-description"},e.description)))}))):m.createElement(u.$J,{image:(0,r.jF)().newList,imageSize:"tiny",title:c("applications:edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.title"),subtitle:c("applications:edit.sections.access.addProtocolWizard.steps.protocolSelection.quickSetup.emptyPlaceholder.subtitles")}))};function sn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return un(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}cn.defaultProps={"data-componentid":"application-protocol-selection-wizard-form"};var dn=function(e){var t,n,i,o,r,a=e.summary,l=e.triggerSubmit,c=e.onSubmit,s=e.image,d=e.customProtocol,p=e.samlMetaFileSelected,g=e["data-testid"],h=(0,f.$)().t,v=sn((0,m.useState)(""),2),E=v[0],y=v[1];return(0,m.useEffect)((function(){if(l)if(p){var e={metadataFile:null==a?void 0:a.metadataFile};c(e)}else c(a)}),[l]),(0,m.useEffect)((function(){s===L.AI.WS_FEDERATION?y("wsFed"):s===L.AI.WS_TRUST?y("wsTrust"):y(s)}),[s]),m.createElement(b.Z,{className:"wizard-summary","data-testid":g},m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},m.createElement("div",{className:"general-details"},d?m.createElement(u.Yt,{name:null==a?void 0:a.name,size:"tiny"}):m.createElement(u.JT,{image:P.y.findIcon(E,(0,_.B0)()),size:"tiny"})))),(null==a||null===(t=a.manualConfiguration)||void 0===t?void 0:t.issuer)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.issuer.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null===(n=a.manualConfiguration)||void 0===n?void 0:n.issuer))),(null==a||null===(i=a.manualConfiguration)||void 0===i?void 0:i.serviceProviderQualifier)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.applicationQualifier.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},a.manualConfiguration.serviceProviderQualifier))),null!=a&&a.grantTypes&&a.grantTypes instanceof Array&&a.grantTypes.length>0?m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.grantType.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement(ge.Z.Group,null,a.grantTypes.map((function(e,t){return m.createElement(ge.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==a||null===(o=a.manualConfiguration)||void 0===o?void 0:o.assertionConsumerUrls)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.assertionURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},null===(r=a.manualConfiguration)||void 0===r?void 0:r.assertionConsumerUrls.map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==a?void 0:a.metadataURL)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.metadataURL.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==a?void 0:a.metadataURL))),(null==a?void 0:a.metadataFile)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.metaFile.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value constrain"},null==a?void 0:a.metadataFile))),(null==a?void 0:a.callbackURLs)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.callbackURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},V.EncodeDecodeUtils.decodeURLRegex(a.callbackURLs[0]).map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==a?void 0:a.audience)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==a?void 0:a.audience))),(null==a?void 0:a.certificateAlias)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.certificateAlias.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==a?void 0:a.certificateAlias))),(null==a?void 0:a.realm)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.realm.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==a?void 0:a.realm))),(null==a?void 0:a.replyTo)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},h("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==a?void 0:a.replyTo))),d&&(null==a?void 0:a.properties.map((function(e){return m.createElement(b.Z.Row,{className:"summary-field",columns:2,key:e.key},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},e.key)),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},e.value)))}))))};dn.defaultProps={"data-testid":"protocol-wizard-summary",samlMetaFileSelected:!1};var pn=n(18220);function mn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var gn=function(e){var t,n=e.fields,i=e.hideFieldHints,o=e.initialValues,r=e.templateValues,a=e.triggerSubmit,l=e.onSubmit,c=e["data-testid"],s=(0,f.$)().t,d=mn((0,m.useState)(""),2),p=d[0],v=d[1],E=mn((0,m.useState)(""),2),y=E[0],A=E[1],T=mn((0,m.useState)(""),2),S=T[0],O=T[1],I=mn((0,m.useState)(""),2),w=I[0],C=I[1],N=mn((0,m.useState)(!1),2),_=N[0],L=N[1],P=mn((0,m.useState)(null),2),k=P[0],M=P[1],U=(0,h.v9)((function(e){return e.config}));(0,m.useEffect)((function(){var e;if((0,R.Z)(null==o||null===(e=o.inboundProtocolConfiguration)||void 0===e?void 0:e.saml)){var t,n,i=null==r||null===(t=r.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t?void 0:t.manualConfiguration.assertionConsumerUrls,a=null==r||null===(n=r.inboundProtocolConfiguration)||void 0===n||null===(n=n.saml)||void 0===n?void 0:n.manualConfiguration.issuer;(0,R.Z)(i)?v(""):v(i.toString()),(0,R.Z)(a)?A(""):A(a.toString())}else{var l,c;v(null==o||null===(l=o.inboundProtocolConfiguration)||void 0===l||null===(l=l.saml)||void 0===l||null===(l=l.manualConfiguration.assertionConsumerUrls)||void 0===l?void 0:l.toString()),A(null==o||null===(c=o.inboundProtocolConfiguration)||void 0===c||null===(c=c.saml)||void 0===c||null===(c=c.manualConfiguration.issuer)||void 0===c?void 0:c.toString())}}),[o]),(0,m.useEffect)((function(){var e,t;if(r){var n=null==r||null===(e=r.inboundProtocolConfiguration)||void 0===e||null===(e=e.saml)||void 0===e||null===(e=e.templateConfiguration)||void 0===e?void 0:e.assertionConsumerUrls,i=null==r||null===(t=r.inboundProtocolConfiguration)||void 0===t||null===(t=t.saml)||void 0===t||null===(t=t.templateConfiguration)||void 0===t?void 0:t.issuer;n&&Array.isArray(n)&&n.length>0&&O(n[0]),i&&C(i)}}),[r]);var x;return r?m.createElement(B.Es,{onSubmit:function(e){x((function(t){(0,R.Z)(p)&&(0,R.Z)(t)?L(!0):l(function(e,t){var i={inboundProtocolConfiguration:{saml:{manualConfiguration:{}}}};return n&&!n.includes("assertionConsumerURLs")||(i.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls=t?t.split(","):p.split(",")),n&&!n.includes("issuer")||(i.inboundProtocolConfiguration.saml.manualConfiguration.issuer=e.get("issuer")),n&&!n.includes("applicationQualifier")||(i.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier=e.get("applicationQualifier")),i}(e,t))}))},submitState:a},m.createElement(b.Z,null,(!n||n.includes("issuer"))&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"issuer",label:s("applications:forms.inboundSAML.fields.issuer.label"),required:!0,requiredErrorMessage:s("applications:forms.inboundSAML.fields.issuer.validations.empty"),type:"text",placeholder:s("applications:forms.inboundSAML.fields.issuer.placeholder"),value:y,"data-testid":"".concat(c,"-issuer-input")}),!i&&m.createElement(u.kW,null,s("applications:forms.inboundSAML.fields.issuer.hint")))),(!n||n.includes("applicationQualifier"))&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(B.gN,{name:"applicationQualifier",label:s("applications:forms.inboundSAML.fields.qualifier.label"),required:!1,requiredErrorMessage:s("applications:forms.inboundSAML.fields.qualifier.validations.empty"),type:"text",placeholder:s("applications:forms.inboundSAML.fields.qualifier.placeholder"),value:null==o||null===(t=o.inboundProtocolConfiguration.saml)||void 0===t||null===(t=t.manualConfiguration)||void 0===t?void 0:t.serviceProviderQualifier,"data-testid":"".concat(c,"-application-qualifier-input")}),!i&&m.createElement(u.kW,null,s("applications:forms.inboundSAML.fields.qualifier.hint")))),(!n||n.includes("assertionConsumerURLs"))&&m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,className:"field"},m.createElement(u.wE,{urlState:p,setURLState:v,labelName:s("applications:forms.inboundSAML.fields.assertionURLs.label"),placeholder:s("applications:forms.inboundSAML.fields.assertionURLs.placeholder"),validationErrorMsg:s("applications:forms.spaProtocolSettingsWizard.fields.callBackUrls.validations.invalid"),emptyErrorMessage:s("applications:forms.inboundSAML.fields.assertionURLs.validations.empty"),validation:function(e){return!(!V.URLUtils.isURLValid(e,!0)||!V.URLUtils.isHttpUrl(e)&&!V.URLUtils.isHttpsUrl(e))&&(!!V.URLUtils.isMobileDeepLink(e)&&(M(null),!0))},computerWidth:10,required:!0,showError:_,setShowError:L,hint:!i&&s("applications:forms.inboundSAML.fields.assertionURLs.hint"),addURLTooltip:s("common:addURL"),duplicateURLErrorMessage:s("common:duplicateURLError"),"data-testid":"".concat(c,"-assertion-consumer-url-input"),getSubmit:function(e){x=e},showPredictions:!1,customLabel:k,popupHeaderPositive:s("applications:URLInput.withLabel.positive.header"),popupHeaderNegative:s("applications:URLInput.withLabel.negative.header"),popupContentPositive:s("applications:URLInput.withLabel.positive.content",{productName:U.ui.productName}),popupContentNegative:s("applications:URLInput.withLabel.negative.content",{productName:U.ui.productName}),popupDetailedContentPositive:s("applications:URLInput.withLabel.positive.detailedContent.0"),popupDetailedContentNegative:s("applications:URLInput.withLabel.negative.detailedContent.0"),insecureURLDescription:s("console:common.validations.inSecureURL.description"),showLessContent:s("common:showLess"),showMoreContent:s("common:showMore")}),S&&m.createElement(u.v0,{type:"info",content:m.createElement(m.Fragment,null,m.createElement(g.c,{i18nKey:"applications:forms.inboundSAML.fields.assertionURLs.info",tOptions:{assertionURLFromTemplate:S}},"Don\u2019t have an app? Try out a sample app using",m.createElement("strong",null,S),"as the assertion Response URL. (You can download and run a sample at a later step.)"),(void 0===p||""===p)&&m.createElement(u.Qj,{className:"m-1 p-1 with-no-border orange",onClick:function(e){e.preventDefault(),v(S),A(w)},"data-testid":"".concat(c,"-add-now-button")},m.createElement("span",{style:{fontWeight:"bold"}},"Add Now")))}))))):m.createElement(u.pO,null)};gn.defaultProps={"data-testid":"saml-protocol-settings-wizard-form",hideFieldHints:!1};var hn=function(e){var t,n,i,o,r,a,l,c,s,d,p,g,h,v,E,y,A=e.summary,T=e.triggerSubmit,S=e.onSubmit,O=e["data-testid"],I=(0,f.$)().t;return(0,m.useEffect)((function(){T&&S(A)}),[T]),m.createElement(b.Z,{className:"wizard-summary","data-testid":O},m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16,textAlign:"center"},m.createElement("div",{className:"general-details"},m.createElement(u.JT,{name:null==A?void 0:A.name,image:null==A?void 0:A.imageUrl,size:"tiny"}),(null==A?void 0:A.name)&&m.createElement(u.X6,{size:"small",className:"name"},A.name),(null==A||null===(t=A.advancedConfigurations)||void 0===t?void 0:t.discoverableByEndUsers)&&m.createElement(ge.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.discoverable.heading")),(null==A||null===(n=A.inboundProtocolConfiguration)||void 0===n||null===(n=n.oidc)||void 0===n?void 0:n.publicClient)&&m.createElement(ge.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.public.heading")),(null==A||null===(i=A.inboundProtocolConfiguration)||void 0===i||null===(i=i.oidc)||void 0===i||null===(i=i.refreshToken)||void 0===i?void 0:i.renewRefreshToken)&&m.createElement(ge.Z,{className:"info-label"},I("applications:addWizard.steps.summary.sections.renewRefreshToken.heading")),(null==A?void 0:A.description)&&m.createElement("div",{className:"description"},A.description)))),(null==A?void 0:A.accessUrl)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.accessURL.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},A.accessUrl))),(null==A||null===(o=A.inboundProtocolConfiguration)||void 0===o||null===(o=o.saml)||void 0===o||null===(o=o.manualConfiguration)||void 0===o?void 0:o.issuer)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.issuer.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},A.inboundProtocolConfiguration.saml.manualConfiguration.issuer))),(null==A||null===(r=A.inboundProtocolConfiguration)||void 0===r||null===(r=r.saml)||void 0===r||null===(r=r.manualConfiguration)||void 0===r?void 0:r.serviceProviderQualifier)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.applicationQualifier.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},A.inboundProtocolConfiguration.saml.manualConfiguration.serviceProviderQualifier))),null!=A&&null!==(a=A.inboundProtocolConfiguration)&&void 0!==a&&null!==(a=a.oidc)&&void 0!==a&&a.grantTypes&&A.inboundProtocolConfiguration.oidc.grantTypes instanceof Array&&A.inboundProtocolConfiguration.oidc.grantTypes.length>0?m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.grantType.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement(ge.Z.Group,null,A.inboundProtocolConfiguration.oidc.grantTypes.map((function(e,t){return m.createElement(ge.Z,{key:t,basic:!0,circular:!0},e)}))))):null,(null==A||null===(l=A.inboundProtocolConfiguration)||void 0===l||null===(l=l.saml)||void 0===l||null===(l=l.manualConfiguration)||void 0===l?void 0:l.assertionConsumerUrls)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.assertionURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},A.inboundProtocolConfiguration.saml.manualConfiguration.assertionConsumerUrls.map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==A||null===(c=A.inboundProtocolConfiguration)||void 0===c||null===(c=c.oidc)||void 0===c?void 0:c.callbackURLs)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.callbackURLs.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},V.EncodeDecodeUtils.decodeURLRegex(A.inboundProtocolConfiguration.oidc.callbackURLs[0]).map((function(e,t){return m.createElement("div",{className:"value url",key:t},e)})))),(null==A||null===(s=A.inboundProtocolConfiguration)||void 0===s||null===(s=s.wsTrust)||void 0===s?void 0:s.audience)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==A||null===(d=A.inboundProtocolConfiguration)||void 0===d||null===(d=d.wsTrust)||void 0===d?void 0:d.audience))),(null==A||null===(p=A.inboundProtocolConfiguration)||void 0===p||null===(p=p.wsTrust)||void 0===p?void 0:p.certificateAlias)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.certificateAlias.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==A||null===(g=A.inboundProtocolConfiguration)||void 0===g?void 0:g.wsTrust.certificateAlias))),(null==A||null===(h=A.inboundProtocolConfiguration)||void 0===h||null===(h=h.passiveSts)||void 0===h?void 0:h.realm)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.realm.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value"},null==A||null===(v=A.inboundProtocolConfiguration)||void 0===v?void 0:v.passiveSts.realm))),(null==A||null===(E=A.inboundProtocolConfiguration)||void 0===E||null===(E=E.passiveSts)||void 0===E?void 0:E.replyTo)&&m.createElement(b.Z.Row,{className:"summary-field",columns:2},m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:7,textAlign:"right"},m.createElement("div",{className:"label"},I("applications:addWizard.steps.summary.sections.audience.heading"))),m.createElement(b.Z.Column,{mobile:16,tablet:8,computer:8,textAlign:"left"},m.createElement("div",{className:"value url"},null==A||null===(y=A.inboundProtocolConfiguration)||void 0===y?void 0:y.passiveSts.replyTo))))};function vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}hn.defaultProps={"data-testid":"application-wizard-summary"};var En=function(e){var t,n,i=e.initialValues,o=e.templateValues,r=e.triggerSubmit,a=e.onSubmit,l=e["data-testid"],d=(0,f.$)().t,p=(0,h.I0)(),g=vn((0,m.useState)(void 0),2),v=g[0],E=g[1];return(0,m.useEffect)((function(){(0,M.WL)(L.Ii.WS_TRUST).then((function(e){E(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?p((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:"Retrieval error"})):p((0,s.V_)({description:"An error occurred retrieving the protocol metadata.",level:c.QU.ERROR,message:"Retrieval error"}))}))}),[]),o&&v?m.createElement(B.Es,{onSubmit:function(e){a(function(e){return{inboundProtocolConfiguration:{wsTrust:{audience:e.get("audience"),certificateAlias:e.get("certificateAlias")}}}}(e))},submitState:r},m.createElement(b.Z,null,m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{name:"audience",label:d("applications:forms.inboundWSTrust.fields.audience.label"),required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.audience.validations.empty"),placeholder:d("applications:forms.inboundWSTrust.fields.audience.placeholder"),type:"text",validation:function(e,t){q.I.url(e)||(t.isValid=!1,t.errorMessages.push(d("applications:forms.inboundWSTrust.fields.audience.validations.invalid")))},value:i?null==i?void 0:i.audience:null==o?void 0:o.audience,"data-testid":"".concat(l,"-audience-input")}),m.createElement(u.kW,null,d("applications:forms.inboundWSTrust.fields.audience.hint")))),m.createElement(b.Z.Row,{columns:1},m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:8},m.createElement(B.gN,{label:d("applications:forms.inboundWSTrust.fields.certificateAlias.label"),name:"certificateAlias",type:"dropdown",required:!0,requiredErrorMessage:d("applications:forms.inboundWSTrust.fields.certificateAlias.validations.empty"),default:v.certificateAlias.defaultValue,value:i?null==i?void 0:i.certificateAlias:null==o?void 0:o.certificateAlias,children:(t=null==v?void 0:v.certificateAlias,n=[],t&&t.options.map((function(e){n.push({key:t.options.indexOf(e),text:e,value:e})})),n),"data-testid":"".concat(l,"-certificate-alias-dropdown")}),m.createElement(u.kW,null,d("applications:forms.inboundWSTrust.fields.certificateAlias.hint")))))):m.createElement(u.pO,null)};function yn(e){return yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=yn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}En.defaultProps={"data-testid":"ws-trust-protocol-settings-wizard-form"};var On=Tn(Tn({},{authenticationProtocol:"oidc",id:L.EL.OIDC,image:"oidc",name:"OIDC",templateId:x.j.CUSTOM_APPLICATION_OIDC}),{},{application:{inboundProtocolConfiguration:{oidc:{grantTypes:["authorization_code"],publicClient:!1,state:L.ZM.ACTIVE}},name:""}});function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=In(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=In(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==In(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn=Cn(Cn({},{authenticationProtocol:"passive-sts",id:L.EL.WS_FEDERATION,image:"wsFed",name:"Passive STS",templateId:x.j.CUSTOM_APPLICATION_PASSIVE_STS}),{},{application:{inboundProtocolConfiguration:{passiveSts:{realm:"",replyTo:"",replyToLogout:""}},name:""}});function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_n(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=_n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=Pn(Pn({},{authenticationProtocol:"saml",id:L.EL.SAML,image:"saml",name:"SAML",templateId:x.j.CUSTOM_APPLICATION_SAML}),{},{application:{inboundProtocolConfiguration:{saml:{manualConfiguration:{assertionConsumerUrls:[""],issuer:""}}},name:""}});function Un(e){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(e)}function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Un(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Un(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Un(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Hn=function(e){return e.PROTOCOL_SELECTION="protocolSelection",e.GENERAL_SETTINGS="generalSettings",e.PROTOCOL_SETTINGS="protocolSettings",e.SUMMARY="summary",e}(Hn||{}),Vn=function(e){var t=e.closeWizard,n=e.currentStep,i=e.title,o=e.subTitle,r=e.template,a=e.addProtocol,l=e.selectedProtocols,p=e.appId,g=e.onUpdate,v=e["data-testid"],E=(0,f.$)().t,y=(0,h.I0)(),A=jn((0,u.IK)(),3),T=A[0],S=A[1],O=A[2],I=jn((0,m.useState)(void 0),2),w=I[0],C=I[1],N=jn((0,m.useState)(n),2),P=N[0],k=N[1],U=jn((0,m.useState)(!1),2),Z=U[0],F=U[1],H=jn((0,m.useState)(!1),2),V=H[0],q=H[1],G=jn((0,m.useState)(!1),1)[0],z=jn((0,m.useState)(void 0),2),W=z[0],K=z[1],Q=jn((0,m.useState)(void 0),2),Y=Q[0],J=Q[1],X=jn((0,m.useState)(void 0),2),ee=X[0],te=X[1],ne=jn((0,m.useState)(void 0),2),ie=ne[0],oe=ne[1],re=jn((0,m.useState)(r),2),ae=re[0],le=re[1],ce=jn((0,B.cC)(),2),se=ce[0],ue=ce[1],de=jn((0,B.cC)(),2),pe=de[0],me=de[1],fe=jn((0,B.cC)(),2),ge=fe[0],he=fe[1],ve=jn((0,B.cC)(),2),be=ve[0],Ee=ve[1];(0,m.useEffect)((function(){if(ae)if(ae.id===D.id){var e=[].concat(Ne);J(e.splice(1,1))}else te((0,Gt.Z)(ee,Zn({},Hn.PROTOCOL_SELECTION,ae.authenticationProtocol))),Z||ye(ae.id),a?k(P+1):J(Ne.slice(1))}),[ae,Z]),(0,m.useEffect)((function(){ae&&(0,M.WL)(ae.authenticationProtocol).then((function(e){K(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?S({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.fetchProtocolMeta.error.message")}):S({description:E("applications:notifications.fetchProtocolMeta.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.fetchProtocolMeta.genericError.message")})}))}),[Z,ae]),(0,m.useEffect)((function(){if(a){var e=[].concat(Ne);e.splice(1,1),J(e)}}),[a]),(0,m.useEffect)((function(){void 0!==w&&(k(P-1),C(void 0))}),[w]);var ye=function(e){e===L.EL.OIDC?oe(On.application):e===L.EL.SAML?oe(Mn.application):e===L.EL.WS_FEDERATION?oe(Rn.application):(0,M.FG)(e).then((function(e){oe(e.application)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?S({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.fetchTemplate.error.message")}):S({description:E("applications:notifications.fetchTemplate.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.fetchTemplate.genericError.message")})}))},Ae=function(e){var t=e;t=Dn(Dn({},t),{},{templateId:ae.id}),q(!0),(0,M.W3)(t).then((function(e){if(y((0,s.V_)({description:E("applications:notifications.addApplication.success.description"),level:c.QU.SUCCESS,message:E("applications:notifications.addApplication.success.message")})),!(0,R.Z)(e.headers.location)){var t=e.headers.location,n=t.substring(t.lastIndexOf("/")+1),i=0;return ae.id===D.id&&(i=1),void Ht.m.push({hash:"#".concat(j.El.TAB_INDEX).concat(i),pathname:Ft.$.getPaths().get("APPLICATION_EDIT").replace(":id",n),search:"?".concat(x.j.APP_STATE_URL_SEARCH_PARAM_KEY,"=").concat(x.j.APP_STATE_URL_SEARCH_PARAM_VALUE)})}Ht.m.push(Ft.$.getPaths().get("APPLICATIONS"))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?S({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.addApplication.error.message")}):S({description:E("applications:notifications.addApplication.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.addApplication.genericError.message")})})).finally((function(){q(!1)}))},Te=function(e){q(!0),(0,M.lp)(p,e,ae.authenticationProtocol).then((function(){y((0,s.V_)({description:E("applications:notifications.updateProtocol.success.description"),level:c.QU.SUCCESS,message:E("applications:notifications.updateProtocol.success.message")})),g(p),Ce()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?S({description:e.response.data.description,level:c.QU.ERROR,message:E("applications:notifications.updateProtocol.error.message")}):S({description:E("applications:notifications.updateProtocol.genericError.description"),level:c.QU.ERROR,message:E("applications:notifications.updateProtocol.error.message")})})).finally((function(){q(!1)}))},Se=function(){var e;switch(null===(e=Y[P])||void 0===e?void 0:e.name){case Hn.PROTOCOL_SELECTION:Ee();break;case Hn.GENERAL_SETTINGS:ue();break;case Hn.PROTOCOL_SETTINGS:me();break;case Hn.SUMMARY:he()}},Oe=function(e,t){t===Hn.PROTOCOL_SELECTION?e?(0,qt.Z)(e,ae)?k(P+1):le(e):Ee():(k(P+1),(0,Bt.Z)(ee,t)?te((0,$t.Z)(ee,t,e)):te((0,Gt.Z)(ee,Zn({},t,e))))},Ie=function(){if(ee){var e={};if(a){var t=ae.authenticationProtocol;return t===L.AI.WS_FEDERATION?t="passiveSts":t===L.AI.WS_TRUST&&(t="wsTrust"),e=(0,d.Z)(ee[Hn.PROTOCOL_SETTINGS],"inboundProtocolConfiguration."+t),ae.id===L.EL.SAML||Z||(e=(0,Gt.Z)((0,Vt.Z)(ie.inboundProtocolConfiguration[t]),e)),e}for(var n=0,i=Object.entries(ee);n<i.length;n++){var o=jn(i[n],2),r=o[0],l=o[1];r!==Hn.PROTOCOL_SELECTION&&(e=Dn(Dn({},e),l))}return(0,Gt.Z)((0,Vt.Z)(ie),e)}},we=function(e){ee[Hn.PROTOCOL_SELECTION]===L.AI.OIDC?delete e.inboundProtocolConfiguration.saml:ee[Hn.PROTOCOL_SELECTION]===L.AI.SAML&&delete e.inboundProtocolConfiguration.oidc,Ae(e)},Ce=function(){t()},Ne=[{icon:(0,_.jK)().protocolSelection,name:Hn.PROTOCOL_SELECTION,title:E("applications:addWizard.steps.protocolSelection.heading")},{icon:(0,_.jK)().general,name:Hn.GENERAL_SETTINGS,title:E("applications:addWizard.steps.generalSettings.heading")},{icon:(0,_.jK)().protocolConfig,name:Hn.PROTOCOL_SETTINGS,title:E("applications:addWizard.steps.protocolConfig.heading")},{icon:(0,_.jK)().summary,name:Hn.SUMMARY,title:E("applications:addWizard.steps.summary.heading")}];return Y?m.createElement($.Z,{open:!0,className:"wizard application-create-wizard",dimmer:"blurring",onClose:Ce,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(v,"-modal")},m.createElement($.Z.Header,{className:"wizard-header"},i,o&&m.createElement(u.X6,{as:"h6"},o)),m.createElement($.Z.Content,{className:"steps-container","data-testid":"".concat(v,"-steps")},m.createElement(u.Rg.Group,{current:P},Y.map((function(e,t){return m.createElement(u.Rg.Step,{key:t,icon:e.icon,title:e.title,"data-testid":"".concat(v,"-step-").concat(t)})})))),m.createElement($.Z.Content,{className:"content-container",scrolling:!0},T&&O,function(){var e;switch(null===(e=Y[P])||void 0===e?void 0:e.name){case Hn.PROTOCOL_SELECTION:return m.createElement(cn,{initialSelectedTemplate:ae,onSubmit:function(e){return Oe(e,Hn.PROTOCOL_SELECTION)},defaultTemplates:[],triggerSubmit:be,selectedProtocols:l,setSelectedCustomInboundProtocol:F,"data-testid":"".concat(v,"-protocol-selection-form")});case Hn.GENERAL_SETTINGS:return ae.id===D.id?m.createElement(tn,{triggerSubmit:se,initialValues:ee&&ee[Hn.GENERAL_SETTINGS],onSubmit:function(e){!function(e){for(var t=(0,j.M7)(),n=0,i=Object.entries(e);n<i.length;n++){var o=jn(i[n],2),r=o[0],a=o[1];t=Dn(Dn({},t),{},Zn({},r,a))}Ae(t)}(e)},templateValues:ie,"data-testid":"".concat(v,"-general-settings-form")}):m.createElement(tn,{triggerSubmit:se,initialValues:ee&&ee[Hn.GENERAL_SETTINGS],onSubmit:function(e){return Oe(e,Hn.GENERAL_SETTINGS)},templateValues:ie,"data-testid":"".concat(v,"-general-settings-form")});case Hn.PROTOCOL_SETTINGS:if(ee&&ee[Hn.PROTOCOL_SELECTION]){if(Z)return m.createElement(Jt,{triggerSubmit:pe,protocolName:ae.id,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],metadata:W,onSubmit:function(e){return Oe(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-custom-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.OIDC)return m.createElement(nn.A,{isProtocolConfig:!0,selectedTemplate:ae,triggerSubmit:pe,fields:["callbackURLs"],initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Oe(e,Hn.PROTOCOL_SETTINGS)},showCallbackURL:!0,"data-testid":"".concat(v,"-oauth-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.SAML)return ae.id===L.EL.SAML?m.createElement(pn._,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,onSubmit:function(e){return Oe(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-saml-protocol-all-settings-form")}):m.createElement(gn,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Oe(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-saml-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.WS_TRUST)return m.createElement(En,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Oe(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-ws-trust-protocol-settings-form")});if(ee[Hn.PROTOCOL_SELECTION]===L.AI.WS_FEDERATION)return m.createElement(on.u,{triggerSubmit:pe,initialValues:ee&&ee[Hn.PROTOCOL_SETTINGS],templateValues:ie,onSubmit:function(e){return Oe(e,Hn.PROTOCOL_SETTINGS)},"data-testid":"".concat(v,"-passive-sts-protocol-settings-form")})}return null;case Hn.SUMMARY:return a?m.createElement(dn,{triggerSubmit:ge,summary:Ie(),onSubmit:Te,image:ae.authenticationProtocol,customProtocol:Z,samlMetaFileSelected:G,"data-testid":"".concat(v,"-protocol-summary")}):m.createElement(hn,{triggerSubmit:ge,summary:Ie(),onSubmit:we,"data-testid":"".concat(v,"-summary")})}}()),m.createElement($.Z.Actions,null,m.createElement(b.Z,null,m.createElement(b.Z.Row,{column:1},m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},m.createElement(u.Qj,{"data-testid":"".concat(v,"-cancel-button"),floated:"left",onClick:Ce},E("common:cancel"))),m.createElement(b.Z.Column,{mobile:8,tablet:8,computer:8},P<Y.length-1&&m.createElement(u.KM,{floated:"right",onClick:Se,"data-testid":"".concat(v,"-next-button")},E("common:next"),m.createElement(Ge.Z,{name:"arrow right"})),P===Y.length-1&&m.createElement(u.KM,{floated:"right",onClick:Se,"data-testid":"".concat(v,"-finish-button"),loading:V,disabled:V},E("common:finish")),P>0&&m.createElement(u.Qj,{floated:"right",onClick:function(){C(P)},"data-testid":"".concat(v,"-previous-button")},m.createElement(Ge.Z,{name:"arrow left"}),E("common:previous"))))))):null};function Bn(e){return Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(e)}function qn(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){zn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Bn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Bn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wn(){Wn=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var S=E.prototype=v.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Bn(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function w(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=C(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function C(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Bn(t)+" is not iterable")}return b.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Kn(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function Qn(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Kn(r,i,o,a,l,"next",e)}function l(e){Kn(r,i,o,a,l,"throw",e)}a(void 0)}))}}function Yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Jn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){if(e){if("string"==typeof e)return Xn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xn(e,t):void 0}}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Vn.defaultProps={currentStep:0,"data-testid":"application-create-wizard"};var ei=function(e){var t,n=e.application,A=e.appId,T=e.appName,S=e.certificate,O=e.featureConfig,I=e.inboundProtocolConfig,w=e.inboundProtocols,C=e.isLoading,N=e.setIsLoading,R=e.onUpdate,H=e.onProtocolUpdate,V=e.allowedOriginList,B=e.onAllowedOriginsUpdate,q=e.onApplicationSecretRegenerate,G=e.isInboundProtocolConfigRequestLoading,$=e.readOnly,z=e.template,W=e.extendedAccessConfig,K=e.applicationTemplateId,Q=e.isDefaultApplication,Y=e.isSystemApplication,J=e["data-componentid"],X=(0,f.$)().t,ee=(0,u.fQ)().getLink,te=(0,h.I0)(),ne=(0,U.b)(n.id).mutate,ie=(0,h.v9)((function(e){return e.application.meta.protocolMeta})),oe=a.h.getState().config.deployment.tenant,re=(0,h.v9)((function(e){return e.config.deployment.allowMultipleAppProtocols})),ae=Yn((0,m.useState)(void 0),2),le=ae[0],ce=ae[1],se=Yn((0,m.useState)([]),2),ue=se[0],de=se[1],pe=Yn((0,m.useState)(void 0),2),me=pe[0],fe=pe[1],ge=Yn((0,m.useState)(!1),2),he=ge[0],ve=ge[1],be=Yn((0,m.useState)(!1),2),Ee=be[0],ye=be[1],Ae=Yn((0,m.useState)(!1),2),Te=Ae[0],Se=Ae[1],Oe=Yn((0,m.useState)(void 0),2),Ie=Oe[0],we=Oe[1],Ce=Yn((0,m.useState)(!1),2),Ne=Ce[0],Re=Ce[1],_e=Yn((0,m.useState)(void 0),2),Le=_e[0],Pe=_e[1],ke=(0,m.useRef)(null),Me=Yn((0,m.useState)([]),2),Ue=Me[0],xe=Me[1],De=(0,i.EV)(null==O||null===(t=O.applications)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),Ze=function(){var e=Qn(Wn().mark((function e(t,n){var i;return Wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!1,e.abrupt("return",(0,M.lp)(A,t,n).then((function(){te((0,s.V_)({description:X("applications:notifications.updateInboundProtocolConfig.success.description"),level:c.QU.SUCCESS,message:X("applications:notifications.updateInboundProtocolConfig.success.message")})),B()})).catch((function(e){var t;i=!0,null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.updateInboundProtocolConfig.error.message")})):te((0,s.V_)({description:X("applications:notifications.updateInboundProtocolConfig.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.updateInboundProtocolConfig.genericError.message")}))})).finally((function(){H(),i||je()})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){z.id===D.id&&Le&&le===L.AI.SAML&&Pe(void 0)},Fe=function(e,t){N(!0),(0,M.hN)($n({id:A},e.general),!0).then(Qn(Wn().mark((function n(){return Wn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ze(e.inbound,t);case 2:ne();case 3:case"end":return n.stop()}}),n)})))).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.updateApplication.error.message")})):te((0,s.V_)({description:X("applications:notifications.updateApplication.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.updateApplication.genericError.message")}))})).finally((function(){N(!1)}))},He=function(){(0,M.gh)(A).then((function(e){te((0,s.V_)({description:X("applications:notifications.regenerateSecret.success.description"),level:c.QU.SUCCESS,message:X("applications:notifications.regenerateSecret.success.message")})),q(e.data),R(A)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.regenerateSecret.error.message")})):te((0,s.V_)({description:X("applications:notifications.regenerateSecret.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.regenerateSecret.genericError.message")}))}))},Ve=function(){(0,M.rA)(A).then((function(){te((0,s.V_)({description:X("applications:notifications.revokeApplication.success.description"),level:c.QU.SUCCESS,message:X("applications:notifications.revokeApplication.success.message")})),R(A)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.revokeApplication.error.message")})):te((0,s.V_)({description:X("applications:notifications.revokeApplication.success.description"),level:c.QU.ERROR,message:X("applications:notifications.revokeApplication.success.message")}))}))};(0,m.useEffect)((function(){w.length>0&&de(w),ce(null),Be()}),[w]);var Be=function(){var e=function(e){var t=null!=z&&z.authenticationProtocol?[z.authenticationProtocol]:Object.values(L.AI);return K===x.j.CUSTOM_APPLICATION_SAML?[L.AI.SAML]:K===x.j.CUSTOM_APPLICATION_OIDC||K===x.j.M2M_APP_TEMPLATE_ID?[L.AI.OAUTH2_OIDC]:K===x.j.CUSTOM_APPLICATION_PASSIVE_STS?[L.AI.WS_FEDERATION]:t=t.filter((function(t){return z&&z.id===D.id&&l.tZ.customApplication.allowedProtocolTypes&&l.tZ.customApplication.allowedProtocolTypes.length>0?!!l.tZ.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===L.AI.WS_TRUST||t===L.AI.CUSTOM||W&&t===L.AI.WS_FEDERATION||e&&t===e)&&t}))}();e=(0,p.Z)(e,(function(e){var t=zn(zn({},L.AI.OIDC,0),L.AI.SAML,1);return w.length>0&&w.forEach((function(e,n){Object.values(L.AI).includes(e)&&(t=$n($n({},t),{},zn({},e,n)))})),t[e]})),le||((null==z?void 0:z.templateId)===Z.id&&w.length>0?ce(w[0]):ce(e[0])),me||fe(e)},qe=function(e,t){if(t){var n=w.find((function(e){return e===t}));n&&(we(n),ye(!0))}},Ge=function(e,t){if(t){var n=qn(Ue);if(null!=n&&n.includes(t.accordionIndex)){var i=null==n?void 0:n.indexOf(t.accordionIndex);n.splice(i,1)}else n.push(t.accordionIndex);xe(n)}},$e=function(e){var t=e;return"oidc"===t&&(t=L.AI.OAUTH2_OIDC),P.y.resolveProtocolDisplayName(t)},ze=function(){return me?re?m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:10},me.map((function(e,t){return m.createElement(u.GI,{key:t,trigger:m.createElement(E.Z,{basic:!0,color:le===e?"red":"grey",content:le===e?"red":"grey",className:"mr-3 protocol-button",onClick:function(){return ce(e)}},m.createElement(u.dn,{fill:le===e?"primary":"accent1",inline:!0,transparent:!0,icon:(0,_.B0)()[e],size:"micro",spaced:"left",verticalAlign:"middle",className:"protocol-button-icon"}),m.createElement("div",{className:"protocol-change-title"},P.y.resolveProtocolDisplayName(e))),content:P.y.resolveProtocolDescription(e),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})})),m.createElement(v.Z,{hidden:!0}),m.createElement(v.Z,null))):K===j.u.M2M_APPLICATION?m.createElement(m.Fragment,null,m.createElement(y.Z,{as:"h3",className:"display-flex"},m.createElement(u.dn,{transparent:!0,width:"auto",icon:(0,_.B0)()[L.AI.OAUTH2],size:"x30",verticalAlign:"middle"}),m.createElement(y.Z.Content,{className:"mt-1"},m.createElement("strong",null,P.y.resolveProtocolDisplayName(L.AI.OAUTH2)))),We(),m.createElement(v.Z,{hidden:!0})):m.createElement(m.Fragment,null,m.createElement(y.Z,{as:"h3",className:"display-flex"},m.createElement(u.dn,{transparent:!0,width:"auto",icon:(0,_.B0)()[le],size:"x30",verticalAlign:"middle"}),m.createElement(y.Z.Content,{className:"mt-1"},m.createElement("strong",null," ",P.y.resolveProtocolDisplayName(le)," "))),We(),m.createElement(v.Z,{hidden:!0})):null},We=function(){return le===L.AI.OIDC?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(L.AI.OIDC)}),m.createElement(u.eb,{link:ee("develop.applications.editApplication.oidcApplication.protocol.learnMore")},X("common:learnMore"))):le===L.AI.OAUTH2_OIDC?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(K===j.u.M2M_APPLICATION?L.AI.OAUTH2:L.AI.OAUTH2_OIDC)}),m.createElement(u.eb,{link:ee("develop.applications.editApplication.oidcApplication.protocol.learnMore")},X("common:learnMore"))):le===L.AI.SAML?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundSAML.description"),m.createElement(u.eb,{link:ee("develop.applications.editApplication.samlApplication.protocol.learnMore")},X("common:learnMore"))):le===L.m5.CAS?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(L.m5.CAS)})):le===L.m5.JWT_SSO?m.createElement(y.Z,{as:"h6",color:"grey",compact:!0},X("applications:forms.inboundOIDC.description",{protocol:P.y.resolveProtocolDisplayName(L.m5.JWT_SSO)})):null};(0,m.useEffect)((function(){var e=Object.values(L.Ii);(null==z?void 0:z.templateId)===Z.id&&(e=w),e.map((function(e){if(e!==L.AI.WS_FEDERATION&&e!==L.AI.WS_TRUST){var t=e;Object.prototype.hasOwnProperty.call(ie,t)||(0,M.WL)(t).then((function(e){te((0,F.vX)(t,e))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?te((0,s.V_)({description:e.response.data.description,level:c.QU.ERROR,message:X("applications:notifications.fetchProtocolMeta.error.message")})):te((0,s.V_)({description:X("applications:notifications.fetchProtocolMeta.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.fetchProtocolMeta.genericError.message")}))}))}}))}),[w]);return C||Ne||G?m.createElement(u.pJ,{padded:"very"},m.createElement(u.pO,{inline:"centered",active:!0})):le||0!==w.length||re||K!==x.j.CUSTOM_APPLICATION_SAML?m.createElement(b.Z,null,m.createElement(m.Fragment,null,Be(),z&&m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},function(){if(!le||ue.length<1)return null;var e,t;return m.createElement(u.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:ke},ue.length>1?ue.map((function(e,t){return Object.values(L.AI).includes(e)?m.createElement(o.U,{key:t,globalActions:!$&&[{icon:"trash alternate",onClick:qe,type:"icon"}],authenticators:[{actions:[],content:e&&m.createElement(jt,{onUpdate:R,application:n,isLoading:C,setIsLoading:N,certificate:S,tenantDomain:oe,allowedOrigins:V,metadata:ie[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e],initialValues:(0,d.Z)(I,e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e)?I[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e]:void 0,onSubmit:function(t){return Fe(t,e)},type:e,onApplicationRegenerate:He,onApplicationRevoke:Ve,readOnly:$||!De,showSAMLCreation:e===L.AI.SAML,SAMLCreationOption:e===L.AI.SAML&&Le,template:z,"data-testid":"".concat(J,"-inbound-").concat(e,"-form"),"data-componentid":"".concat(J,"-inbound-").concat(e,"-form"),containerRef:ke,isDefaultApplication:Q,isSystemApplication:Y}),icon:{icon:(0,_.B0)()[e],size:"micro"},id:e,title:$e(e)}],accordionActiveIndexes:Ue,accordionIndex:t,handleAccordionOnClick:Ge,"data-testid":"".concat(J,"-accordion"),"data-componentid":"".concat(J,"-accordion")}):m.createElement(jt,{onUpdate:R,application:n,isLoading:C,setIsLoading:N,certificate:S,metadata:ie[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e],initialValues:(0,d.Z)(I,e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e)?I[e===L.AI.OAUTH2_OIDC?L.AI.OIDC:e]:void 0,onSubmit:function(t){return Fe(t,e)},type:L.AI.CUSTOM,readOnly:!De,template:z,"data-testid":"".concat(J,"-inbound-custom-form"),"data-componentid":"".concat(J,"-inbound-custom-form"),containerRef:ke})})):1===ue.length?m.createElement("div",{className:"form-container with-max-width"},C?null:ze(),(e=void 0,t=void 0,K===x.j.CUSTOM_APPLICATION_OIDC&&(e=ee("develop.applications.editApplication.standardBasedApplication.oauth2OIDC.protocol.learnMore"),t="applications:forms.inboundOIDC.documentation"),K===x.j.CUSTOM_APPLICATION_SAML&&(e=ee("develop.applications.editApplication.standardBasedApplication.saml.protocol.learnMore"),t="applications:forms.inboundSAML.documentation"),e?m.createElement(m.Fragment,null,m.createElement(u.v0,{visible:!0,type:"info",content:m.createElement(g.c,{i18nKey:t,tOptions:{protocol:P.y.resolveProtocolDisplayName(le)}},"Read through our",m.createElement(u.eb,{link:e},"documentation"),"to learn more about using",m.createElement(u.EK,{withBackground:!1},P.y.resolveProtocolDisplayName(le)),"protocol to implement login in your applications.")}),m.createElement(v.Z,{hidden:!0})):null),Object.values(L.AI).includes(le)?m.createElement(jt,{onUpdate:R,application:n,isLoading:C,setIsLoading:N,certificate:S,tenantDomain:oe,allowedOrigins:V,metadata:ie[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le],initialValues:(0,d.Z)(I,le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le)?I[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le]:void 0,onSubmit:function(e){return Fe(e,le)},type:le,onApplicationRegenerate:He,onApplicationRevoke:Ve,readOnly:$||!De,showSAMLCreation:le===L.AI.SAML,SAMLCreationOption:le===L.AI.SAML&&Le,template:z,"data-testid":"".concat(J,"-inbound-").concat(le,"-form"),"data-componentid":"".concat(J,"-inbound-").concat(le,"-form"),containerRef:ke,isDefaultApplication:Q,isSystemApplication:Y}):m.createElement(jt,{onUpdate:R,application:n,isLoading:C,setIsLoading:N,certificate:S,metadata:ie[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le],initialValues:(0,d.Z)(I,le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le)?I[le===L.AI.OAUTH2_OIDC?L.AI.OIDC:le]:void 0,onSubmit:function(e){return Fe(e,le)},type:L.AI.CUSTOM,readOnly:!De,template:z,"data-testid":"".concat(J,"-inbound-custom-form"),"data-componentid":"".concat(J,"-inbound-custom-form"),containerRef:ke})):void 0)}())),(null==w?void 0:w.length)<1&&m.createElement(b.Z.Row,null,m.createElement(b.Z.Column,{mobile:16,tablet:16,computer:16},m.createElement(u.pJ,{className:"protocol-settings-section form-wrapper",padded:"very",ref:ke},m.createElement(u.$J,{title:X("applications:edit.sections.protocol.title"),subtitle:[X("applications:edit.sections.protocol.subtitle")],action:m.createElement(u.KM,{onClick:function(){return ve(!0)}},X("applications:edit.sections.protocol.button")),image:(0,r.jF)().emptyList,imageSize:"tiny"})))),he&&m.createElement(Vn,{title:X("applications:edit.sections.access.addProtocolWizard.heading"),subTitle:X("applications:edit.sections.access.addProtocolWizard.subHeading",{appName:T}),closeWizard:function(){return ve(!1)},addProtocol:!0,selectedProtocols:w,onUpdate:R,appId:A,"data-testid":"".concat(J,"-protocol-add-wizard")}),Ee&&m.createElement(u.cV,{onClose:function(){return ye(!1)},type:"negative",open:Ee,assertion:Ie,assertionHint:m.createElement("p",null,m.createElement(g.c,{i18nKey:"applications:confirmations.deleteProtocol.assertionHint",tOptions:{name:Ie}},"Please type ",m.createElement("strong",null,Ie)," to confirm.")),assertionType:"input",primaryAction:X("common:confirm"),secondaryAction:X("common:cancel"),onSecondaryActionClick:function(){return ye(!1)},onPrimaryActionClick:function(){var e;e=Ie,(0,M.yY)(A,e).then((function(){te((0,s.V_)({description:X("applications:notifications.deleteProtocolConfig.success.description",{protocol:e}),level:c.QU.SUCCESS,message:X("applications:notifications.deleteProtocolConfig.success.message")})),R(A)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,s.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.error.message")})):te((0,s.V_)({description:X("applications:notifications.deleteProtocolConfig.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.genericError.message")}))})),ye(!1)},"data-testid":"".concat(J,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-header")},X("applications:confirmations.deleteProtocol.header")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-message")},X("applications:confirmations.deleteProtocol.message")),m.createElement(u.cV.Content,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-content")},X("applications:confirmations.deleteProtocol.content"))),Te&&m.createElement(u.cV,{onClose:function(){return ye(!1)},type:"negative",open:Te,primaryAction:X("common:confirm"),secondaryAction:X("common:cancel"),onSecondaryActionClick:function(){Se(!1)},onPrimaryActionClick:function(){var e;e=le,Re(!0),(0,M.yY)(A,e).then((function(){R(A)})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?te((0,s.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.error.message")})):te((0,s.V_)({description:X("applications:notifications.deleteProtocolConfig.genericError.description"),level:c.QU.ERROR,message:X("applications:notifications.deleteProtocolConfig.genericError.message")}))})).finally((function(){Re(!1),ce(void 0)})),Se(!1)},"data-testid":"".concat(J,"-protocol-delete-confirmation-modal"),closeOnDimmerClick:!1},m.createElement(u.cV.Header,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-header")},X("applications:confirmations.changeProtocol.header")),m.createElement(u.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-message")},X("applications:confirmations.changeProtocol.message",{name:le})),m.createElement(u.cV.Content,{"data-testid":"".concat(J,"-protocol-delete-confirmation-modal-content")},X("applications:confirmations.changeProtocol.content"))))):m.createElement(k,{setSAMLProtocol:function(e){Pe(e),ce(L.AI.SAML),ue.push(L.AI.SAML)}})};ei.defaultProps={"data-componentid":"application-access-configuration",extendedAccessConfig:!1}},44808:(e,t,n)=>{n.d(t,{I:()=>pl});var i={};n.r(i),n.d(i,{DefaultBasicLoginSequence:()=>ki});var o={};n.r(o),n.d(o,{EmailOTPSecondFactorLoginSequence:()=>Mi,PushAuthSecondFactorLoginSequence:()=>Di,SMSOTPSecondFactorLoginSequence:()=>Ui,TOTPSecondFactorLoginSequence:()=>xi});var r={};n.r(r),n.d(r,{EmailOTPPasswordlessLoginSequence:()=>Zi,FIDO2PasswordlessLoginSequence:()=>Fi,MagicLinkPasswordlessLoginSequence:()=>ji,PushAuthPasswordlessLoginSequence:()=>Vi,SmsOtpPasswordlessLoginSequence:()=>Hi});var a={};n.r(a),n.d(a,{AppleSocialLoginSequence:()=>Bi,FacebookSocialLoginSequence:()=>qi,GithubSocialLoginSequence:()=>Gi,GoogleSocialLoginSequence:()=>$i});var l={};n.r(l),n.d(l,{BasicLoginSequences:()=>i,MFALoginSequences:()=>o,PasswordlessLoginSequences:()=>r,SocialLoginSequences:()=>a});var c=n(44194),s=n(13098),u=n(2697),d=n(21257),p=n(47245),m=n(84882),f=n(9779),g=n(15022),h=n(12230),v=n(63317),b=n(89497),E=n(6567),y=n(84548),A=n(9821);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function S(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,w(i.key),i)}}function w(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return t=e,i=[{key:"getDefaultScript",value:function(){return A.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT}},{key:"generateScript",value:function(e){for(var t=[],n=1;n<e;n++)t.push("    executeStep(:index);".replace(":index",n.toString()));var i=S(A.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT);return i.splice.apply(i,[1,0].concat(t)),i}},{key:"isDefaultScript",value:function(t,n){for(var i=A.j.EMPTY_STRING,o=Array.isArray(t)?t.join(A.j.EMPTY_STRING):t,r=[],a=0;a<n;a++)r.push("executeStep("+(a+1)+");"),i+=r[a];var l=A.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT_HEADER+i+A.j.DEFAULT_ADAPTIVE_AUTH_SCRIPT_FOOTER;return e.minifyScript(o,!1)===e.minifyScript(l,!1)}},{key:"minifyScript",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return A.j.EMPTY_STRING;var n=Array.isArray(e)?e.join(A.j.EMPTY_STRING):String(e);return t&&(n=n.replace(/\/\*[\s\S]*?\*\/|\/\/.*/gm,A.j.EMPTY_STRING)),n=n.replace(/(?:\r\n|\r|\n)/g,A.j.EMPTY_STRING).replace(/\s/g,A.j.EMPTY_STRING).trim()}},{key:"isEmptyScript",value:function(t){return!t||Array.isArray(t)&&(0===t.length||0==t.join(A.j.EMPTY_STRING).trim().length)||t instanceof String&&0===t.trim().length||!e.minifyScript(t)}},{key:"sourceToString",value:function(e){return Array.isArray(e)?e.join(A.j.LINE_BREAK):null!=e?e:A.j.EMPTY_STRING}}],(n=null)&&I(t.prototype,n),i&&I(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i}(),N=n(12533),R=n(41158),_=n(6833),L=n(82406),P=n(43516),k=n(22557),M=n.n(k),U=n(47513),x=n(10479),D=n(42437),Z=n(59673),j=["mode","open","onClose","data-componentid"];function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F.apply(null,arguments)}var H=function(e){var t=e.mode,n=e.open,i=e.onClose,o=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,j),a=(0,x.$)().t;return c.createElement(P.cV,F({open:n,onClose:i,type:"warning",closeOnDimmerClick:!1,assertionHint:a("authenticationFlow:modes.switchConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:a("authenticationFlow:modes.switchConfirmationModal.primaryActionButtonText"),secondaryAction:a("authenticationFlow:modes.switchConfirmationModal.secondaryActionButtonText"),"data-componentid":o,onPrimaryActionClick:function(){return i(null,null)},onSecondaryActionClick:function(e){return i(e,null)}},r),c.createElement(P.cV.Header,{"data-componentid":"".concat(o,"-header")},a("authenticationFlow:modes.switchConfirmationModal.title")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},c.createElement(Z.c,{i18nKey:"authenticationFlow:modes.switchConfirmationModal.warningMessage",tOptions:{mode:t.label}},"If you switch to the ",c.createElement("strong",null,t.label),", you will loose the unsaved changes in the current flow. Please proceed with caution.")),c.createElement(P.cV.Content,{"data-componentid":"".concat(o,"-content")},a("authenticationFlow:modes.switchConfirmationModal.content")))};H.defaultProps={"data-componentid":"authentication-flow-mode-switch-disclaimer-modal"};const V=H;var B=n(88248),q=n(30325),G=n(46461),$=n(76271),z=n(96124);const W=function(e){var t={headers:{Accept:"application/json","Content-Type":"application/json"},method:_.f2.GET,url:"".concat($.h.getState().config.endpoints.multiFactorAuthenticators,"/connectors/").concat(e)},n=(0,z.Z)(t),i=n.data,o=n.error;return{data:i,error:o,isLoading:!o&&!i,isValidating:n.isValidating,mutate:n.mutate}};var K=n(60486),Q=n(40838),Y=n(54510),J=n(7332),X=n(55007),ee=n(4260);const te=function(){var e=(0,c.useContext)(ee.Z);if(void 0===e)throw new Error("useUserPreferences must be used within a UserPreferencesProvider");return e};var ne=(0,c.createContext)(null);ne.displayName="AuthenticationFlowContext";const ie=ne;function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=oe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const le=function(){var e=(0,c.useContext)(ie),t=te(),n=t.setPreferences,i=t.preferredAuthenticationFlowBuilderMode;if(void 0===e)throw new Error("UseAuthenticationFlow must be used within a AuthenticationFlowProvider");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({preferredAuthenticationFlowBuilderMode:i,setPreferredAuthenticationFlowBuilderMode:function(e){n({preferredAuthenticationFlowBuilderMode:e})}},e)};var ce=n(63826),se=n(18148),ue=n(48023),de=n(82925),pe=n(46570),me=n(1989),fe=n(88726),ge=n(917),he=n(43974),ve=n(29314),be=n(81759),Ee=n(50699),ye=n(42177),Ae=n(42005),Te=n(47018),Se=n(26154),Oe=n(62508),Ie=n(12950),we=n(37077),Ce=n(95165),Ne=n(77757),Re=n(89141),_e=n(51021),Le=n(34359);function Pe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw r}}}}function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Me(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||xe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){if(e){if("string"==typeof e)return De(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Ze(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Fe(i.key),i)}}function je(e,t,n){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=ke(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}var He=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"isSecondFactorAdditionValid",value:function(e,t,n){var i=Ue(this.getLeftAndRightSideSteps(t,n),1)[0];return e===N.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(A.j.TOTP_HANDLERS,i):e===N.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(A.j.EMAIL_OTP_HANDLERS,i):e===N.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID?this.hasSpecificFactorsInSteps(A.j.SMS_OTP_HANDLERS,i):this.hasSpecificFactorsInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,i)}},{key:"isFirstFactorValid",value:function(e,t){var n;return!(null===(n=t[e])||void 0===n||null===(n=n.options)||void 0===n?void 0:n.find((function(e){return e.authenticator===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME||e.authenticator===N.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME})))}},{key:"isConnectionsJITUPConflictWithMFA",value:function(t){var n=t.federatedAuthenticators,i=t.steps,o=t.subjectStepId;try{var r=(0,Le.Z)(i.filter((function(e){return e.id===o})).map((function(e){return e.options}))),a=Me(new Set(r.map((function(e){return e.idp})))).map((function(e){return n.find((function(t){return t.name===e}))})).filter(Boolean).filter((function(e){var t;return!(null!=e&&null!==(t=e.provisioning)&&void 0!==t&&null!==(t=t.jit)&&void 0!==t&&t.isEnabled)}));if(i.length<2)return{conflicting:!1,idpList:[]};var l=(0,Le.Z)(i.slice(1).map((function(e){return e.options}))),c=new Set(A.j.SECOND_FACTOR_AUTHENTICATORS),s=l.filter((function(e){return c.has(e.authenticator)}));return{conflicting:a.length>0&&s.length>0,idpList:null!=a?a:[]}}catch(e){return{conflicting:!1,idpList:[]}}}},{key:"isFederatedConflictWithSMSOTP",value:function(t){var n=t.federatedAuthenticators,i=t.steps,o=t.subjectStepId;try{var r=(0,Le.Z)(i.filter((function(e){return e.id===o})).map((function(e){return e.options}))),a=Me(new Set(r.map((function(e){return e.idp})))).map((function(e){return n.find((function(t){return t.name===e}))})).filter(Boolean);if(i.length<2)return{conflicting:!1,idpList:[]};var l=(0,Le.Z)(i.slice(1).map((function(e){return e.options}))),c=l.some((function(e){return"sms-otp-authenticator"===e.authenticator}));return{conflicting:a.length>0&&c,idpList:null!=a?a:[]}}catch(e){return{conflicting:!1,idpList:[]}}}},{key:"countTwoFactorAuthenticatorsInCurrentStep",value:function(e,t){return t[e].options.filter((function(e){return e.authenticator===N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME||e.authenticator===N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME||e.authenticator===N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME})).length}},{key:"hasSpecificAuthenticatorInCurrentStep",value:function(e,t,n){return!!n[t].options.find((function(t){return t.authenticator===e}))}}],(t=null)&&Ze(e.prototype,t),n&&Ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function Ve(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}je(He,"getLeftAndRightSideSteps",(function(e,t){return[0!==e?t.slice(0,e):[],e+1 in t?t.slice(e+1):[],e+1 in t?t.slice(e+1,e+2):[]]})),je(He,"hasSpecificFactorsInSteps",(function(e,t){var n,i=!1,o=Pe(t);try{for(o.s();!(n=o.n()).done;){var r,a=Pe(n.value.options);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(e.includes(l.authenticator)){i=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(i)break}}catch(c){o.e(c)}finally{o.f()}return i})),je(He,"getImmediateStepHavingSpecificFactors",(function(e,t){var n,i=!1,o=-1,r=Pe(t.entries());try{for(r.s();!(n=r.n()).done;){var a,l=Ue(n.value,2),c=l[0],s=Pe(l[1].options);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(e.includes(u.authenticator)){i=!0,o=c;break}}}catch(d){s.e(d)}finally{s.f()}if(i)break}}catch(d){r.e(d)}finally{r.f()}return o})),je(He,"checkImmediateStepHavingSpecificFactors",(function(e,t){var n,i=!1,o=Pe(t.entries());try{for(o.s();!(n=o.n()).done;){var r,a=Pe(Ue(n.value,2)[1].options);try{for(a.s();!(r=a.n()).done;){var l=r.value;if(e.includes(l.authenticator)){i=!0;break}}}catch(c){a.e(c)}finally{a.f()}if(i)break}}catch(c){o.e(c)}finally{o.f()}return i})),je(He,"countSpecificFactorInSteps",(function(e,t){var n,i=0,o=Pe(t);try{for(o.s();!(n=o.n()).done;){var r,a=Pe(n.value.options);try{for(a.s();!(r=a.n()).done;){var l=r.value;e.includes(l.authenticator)&&i++}}catch(c){a.e(c)}finally{a.f()}}}catch(c){o.e(c)}finally{o.f()}return i})),je(He,"isCustomAuthenticator",(function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("Custom")})),je(He,"isSecondFactorAuthenticator",(function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("2FA")}));var $e=function(e){var t=e.authenticators,n=e.authenticationSteps,i=e.currentStep,o=e.defaultName,r=e.heading,a=e.onAuthenticatorSelect,l=e.selected,s=e.showLabels,u=e["data-testid"],d=(0,x.$)().t,m=(0,ge.Z)().UIConfig,g=null==m?void 0:m.connectionResourcesUrl,h=Be((0,c.useState)(void 0),2),v=h[0],b=h[1],E=M()("authenticator",{"with-labels":s}),y=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment}));(0,c.useEffect)((function(){l&&b(l)}),[l]);var T=function(e){if(e.category===be.Xi.SECOND_FACTOR||e.category===be.Xi.TWO_FACTOR_CUSTOM)return 0!==i&&He.isSecondFactorAdditionValid(e.defaultAuthenticator.authenticatorId,i,n);if(e.name===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME)return 0!==i&&He.countTwoFactorAuthenticatorsInCurrentStep(i,n)>0;if([N.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,N.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID].includes(e.id))return He.isFirstFactorValid(i,n);if(e.name===N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME){var t;if(0!==(null===(t=n[i])||void 0===t||null===(t=t.options)||void 0===t?void 0:t.length))return!1;var o=Be(He.getLeftAndRightSideSteps(i,n),1)[0];if(!He.hasSpecificFactorsInSteps(A.j.ACTIVE_SESSIONS_LIMIT_HANDLERS,o))return!1}return!0},S=function(e){var t,o,r,a=c.createElement(we.Z,{attached:"top"},c.createElement(Se.Z,{name:"info circle"})," Info");return e.category===be.Xi.SECOND_FACTOR||e.category===be.Xi.TWO_FACTOR_CUSTOM?c.createElement(c.Fragment,null,0===i?c.createElement(c.Fragment,null,a,c.createElement(P.xv,null,null!==(t=_e.tZ.signInMethod.authenticatorSelection.messages.secondFactorDisabledInFirstStep)&&void 0!==t?t:d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabledInFirstStep"))):c.createElement(c.Fragment,null,a,c.createElement(P.xv,null,null!==(o=_e.tZ.signInMethod.authenticatorSelection.messages.secondFactorDisabled)&&void 0!==o?o:c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.secondFactorDisabled"},"The second-factor authenticators can only be used if"," ",c.createElement(P.EK,{withBackground:!0},"Username & Password"),","," ",c.createElement(P.EK,{withBackground:!0},"Social Login"),",",c.createElement(P.EK,{withBackground:!0},"Passkey"),"or any other handlers that can handle these factors are present in a previous step.")))):e.name===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,0===i?c.createElement(c.Fragment,null,a,c.createElement(P.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabledInFirstStep"))):c.createElement(c.Fragment,null,a,c.createElement(P.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.backupCodesDisabled")))):e.category===be.Xi.SOCIAL?c.createElement(c.Fragment,null,a,c.createElement(P.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.authenticatorDisabled"))):[N.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,N.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID].includes(e.id)?c.createElement(c.Fragment,null,a,c.createElement(P.xv,null,d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.firstFactorDisabled"))):e.name===N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,a,c.createElement(P.xv,null,0!==(null===(r=n[i])||void 0===r||null===(r=r.options)||void 0===r?void 0:r.length)?d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInMultiOptionStep"):d("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.sessionExecutorDisabledInFirstStep"))):void 0},O=function(e){var t;return e&&null!==(t=de.C.getAuthenticatorLabels(null==e?void 0:e.defaultAuthenticator))&&void 0!==t?t:[]},I=function(e){var t;return y&&(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===N.$.AUTHENTICATOR_IDS.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID?c.createElement(f.Z,{size:"small",label:d(ve.j.BETA),className:"oxygen-chip-beta"}):null};return c.createElement(c.Fragment,{"data-testid":u},r&&c.createElement(P.X6,{as:"h6"},r),t.map((function(e,t){var n;return e.id===N.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID?null:c.createElement(P.GI,{hoverable:!0,hideOnScroll:!0,position:"top center",key:t,on:"hover",disabled:T(e),content:S(e),trigger:c.createElement(P.rJ,{showTooltips:!0,imageSize:"micro",className:E,header:e.displayName||o,disabled:!T(e),selected:T(e)&&Array.isArray(v)&&v.some((function(t){return t.id===e.id})),subHeader:e.categoryDisplayName,description:e.description,featureStatus:I(e),image:e.idp===be.Xi.LOCAL||pe.Zs.isOrganizationSSOConnection(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId)?e.image:pe.Zs.resolveConnectionResourcePath(g,e.image),tags:s&&O(e),onClick:function(){T(e)&&function(e){if(e.isEnabled){if(v.some((function(t){return t.id===e.id}))){var t=v.filter((function(t){return t.id!==e.id}));return a(t),void b(t)}a([].concat(Ve(v),[e])),b([].concat(Ve(v),[e]))}}(e)},imageOptions:{floated:!1,inline:!0},"data-testid":"".concat(u,"-authenticator-").concat(e.name),showCardAction:!1,showSetupGuideButton:!1})})})))};$e.defaultProps={"data-testid":"authenticators",defaultName:"Unknown",showLabels:!0};var ze=n(29903);function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}var Ke=["allowSocialLoginAddition","authenticationSteps","authenticators","className","currentStep","header","onClose","open","onIDPCreateWizardTrigger","onModalSubmit","message","showStepSelector","stepCount","showLabels","data-testid"];function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qe.apply(null,arguments)}function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=We(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=We(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==We(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function et(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||nt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){if(e){if("string"==typeof e)return it(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(e,t):void 0}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ot=function(e){var t=e.allowSocialLoginAddition,n=e.authenticationSteps,i=e.authenticators,o=e.className,r=e.currentStep,a=e.header,l=e.onClose,s=e.open,u=e.onIDPCreateWizardTrigger,d=e.onModalSubmit,m=e.message,f=e.showStepSelector,g=e.stepCount,h=e.showLabels,v=e["data-testid"],b=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ke),E=(0,x.$)().t,y=(0,P.fQ)().getLink,A=le().hiddenAuthenticators,T=(0,fe.Z)().deploymentConfig,S=(0,ge.Z)().UIConfig,O=(0,p.I0)(),I=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment})),w=null==S?void 0:S.connectionResourcesUrl,C=he.l.getInstance(),N=tt((0,c.useState)(s),1)[0],R=tt((0,c.useState)([]),2),k=R[0],U=R[1],D=tt((0,c.useState)([]),2),Z=D[0],j=D[1],F=tt((0,c.useState)([]),2),H=F[0],V=F[1],B=tt((0,c.useState)(g),2),q=B[0],G=B[1],$=tt((0,c.useState)(null),2),z=$[0],W=$[1],K=tt((0,c.useState)(!1),2),Q=K[0],Y=K[1],J=tt((0,c.useState)([]),2),X=J[0],ee=J[1],te=tt((0,c.useState)([]),2),ne=te[0],ie=te[1],oe=(0,ce.R)(null,null,null,Q,!0),re=oe.data,ae=oe.isLoading,_e=oe.error;(0,c.useEffect)((function(){if(_e){var e;if(null!=_e&&null!==(e=_e.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description)return void O((0,L.V_)({description:E("authenticationProvider:notifications.getIDPTemplateList.error.description",{description:_e.response.data.description}),level:_.QU.ERROR,message:E("authenticationProvider:notifications.getIDPTemplateList.error.message")}));O((0,L.V_)({description:E("authenticationProvider:notifications.getIDPTemplateList.genericError.description"),level:_.QU.ERROR,message:E("authenticationProvider:notifications.getIDPTemplateList.genericError.message")}))}}),[_e]),(0,c.useEffect)((function(){if(i){var e=[].concat(et(Le(i.local,be.Xi.LOCAL,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.LOCAL)))),et(Le(i.social,be.Xi.SOCIAL,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.SOCIAL)))),et(Le(i.secondFactor,be.Xi.SECOND_FACTOR,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.SECOND_FACTOR)))),et(Le(i.enterprise,be.Xi.ENTERPRISE,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.ENTERPRISE)))),et(Le(i.recovery,be.Xi.RECOVERY,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.RECOVERY)))),et(Le(i.external,be.Xi.EXTERNAL,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.EXTERNAL)))),et(Le(i.internal,be.Xi.INTERNAL,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.INTERNAL)))),et(Le(i.twoFactorCustom,be.Xi.TWO_FACTOR_CUSTOM,E(de.C.getAuthenticatorTypeDisplayName(be.Xi.TWO_FACTOR_CUSTOM)))));e=e.filter((function(e){return e.defaultAuthenticator.name!==ue.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME})),V(e),j(e),Pe(e)}}),[i]);var Le=function(e,t,n){return(0,Ee.Z)(e)?[]:!A||!Array.isArray(A)||A.length<1?e:e.filter((function(e){return!A.includes(e.name)})).map((function(e){return Je(Je({},e),{},{category:t,categoryDisplayName:n})}))},Pe=function(e){var t=[];e.filter((function(e){de.C.getAuthenticatorLabels(e).filter((function(e){t.includes(e)||t.push(e)}))})),ee(t)},ke=function(e,t){var n=t.value.toLocaleLowerCase();W(n),V(Me(n,ne))},Me=function(e,t){var n=function(e){return!!(0,Ee.Z)(t)||de.C.getAuthenticatorLabels(e).some((function(e){return t.includes(e)}))};return Z.filter((function(t){var i,o,r;return e?(null==t||null===(i=t.displayName)||void 0===i?void 0:i.toLocaleLowerCase()).includes(e)||de.C.getAuthenticatorLabels(t).some((function(t){var n,i;return(null==t||null===(n=t.toLocaleLowerCase())||void 0===n?void 0:n.includes(e))||(null===(i=(0,Ae.Z)(t))||void 0===i||null===(i=i.toLocaleLowerCase())||void 0===i?void 0:i.includes(e))}))||null!==(o=t.category)&&void 0!==o&&null!==(o=o.toLocaleLowerCase())&&void 0!==o&&o.includes(e)||null!==(r=t.categoryDisplayName)&&void 0!==r&&null!==(r=r.toLocaleLowerCase())&&void 0!==r&&r.includes(e)?n(t):void 0:n(t)}))},Ue=function(){Y(!0)};return c.createElement(Te.Z,Qe({className:M()("add-authenticator-modal",o),"data-testid":v,open:N},b),c.createElement(Te.Z.Header,null,a),f&&c.createElement(Te.Z.Content,{className:"step-selection-dropdown-container"},c.createElement(c.Fragment,null,c.createElement(P.X6,{as:"h5"},E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.label")),c.createElement(P.kW,null,E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.hint")),c.createElement(Ne.Z,null,c.createElement(Ne.Z.Field,{inline:!0},c.createElement(Ne.Z.Select,{scrolling:!0,placeholder:E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.stepSelectDropdown.placeholder"),options:function(){for(var e=[],t=0;t<g;t++)e.push({key:t,text:"".concat(E("common:step")," ").concat(t+1),value:t+1});return e}(),onChange:function(e,t){var n=t.value;G(parseInt(n,10))},value:q,"data-testid":"".concat(v,"-step-select")}))))),Q?c.createElement(Te.Z.Content,{scrolling:!0,className:"authenticator-container"},c.createElement("div",{className:"page-header-wrapper"},c.createElement("div",{className:"back-button mb-0",onClick:function(){return Y(!1)}},c.createElement(Se.Z,{name:"arrow left"}),E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.goBackButton"))),c.createElement(Oe.Z,{hidden:!0}),c.createElement(P.Q8,{isLoading:ae,isEmpty:0===(null==re?void 0:re.length),emptyPlaceholder:c.createElement(P.$J,{image:(0,me.jF)().newList,imageSize:"tiny",title:E("authenticationProvider:placeHolders.emptyConnectionTypeList.title"),subtitle:[E("authenticationProvider:placeHolders.emptyConnectionTypeList.subtitles.0"),E("authenticationProvider:placeHolders.emptyConnectionTypeList.subtitles.1")],"data-testid":"".concat(v,"-empty-placeholder")})},null==re?void 0:re.map((function(e,t){var n,i=e.disabled,o=void 0;return e.id===se.f.CONNECTION_TEMPLATE_IDS.APPLE&&(null===(n=new URL(null==T?void 0:T.serverOrigin))||void 0===n?void 0:n.hostname)===se.f.LOCAL_SERVER_URL&&(i=!0,o=E("console:develop.pages.authenticationProviderTemplate.disabledHint.apple")),c.createElement(P.Q8.Card,{showSetupGuideButton:!!I,navigationLink:y(pe.Zs.resolveConnectionDocLink(e.id)),key:t,resourceName:(0,pe.uA)(null==e?void 0:e.name),isResourceComingSoon:e.comingSoon,disabled:i,disabledHint:o,comingSoonRibbonLabel:E(ve.j.COMING_SOON),resourceDescription:e.description,resourceImage:pe.Zs.resolveConnectionResourcePath(w,e.image),tags:e.tags,onClick:function(){u(e.id,(function(){Y(!1)}),e)},showTooltips:!1,"data-testid":"".concat(v,"-").concat(e.name)})})))):c.createElement(c.Fragment,null,c.createElement(Te.Z.Content,{className:"authenticator-search-container"},c.createElement(Ie.Z,{loading:!1,className:"mb-3",icon:c.createElement(Se.Z,{name:"search"}),value:z,iconPosition:"left",fluid:!0,onChange:ke,placeholder:E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.search.placeholder")}),X&&Array.isArray(X)&&X.length>0&&c.createElement(we.Z.Group,null,X.map((function(e,t){var n=ne.includes(e);return c.createElement(we.Z,{basic:!0,key:t,as:"a",className:"filter-label ".concat(n?"active":""),onClick:function(){return function(e){var t=[];t=ne.includes(e)?ne.filter((function(t){return t!==e})):[].concat(et(ne),[e]),ie(t),V(Me(z,t))}(e)}},e,n&&c.createElement(Se.Z,{name:"check"}))})))),c.createElement(Te.Z.Content,{scrolling:!0,className:"authenticator-container"},m,H&&Array.isArray(H)&&H.length>0?c.createElement(Ce.Z.Group,{itemsPerRow:3},c.createElement($e,{authenticators:H,authenticationSteps:n,onAuthenticatorSelect:function(e){U(e)},selected:k,showLabels:h,"data-testid":"".concat(v,"-authenticators"),currentStep:r}),t&&c.createElement(Ce.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(h?"with-labels":""),onClick:Ue},c.createElement(Ce.Z.Content,{textAlign:"center"},c.createElement(P.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,ze.s_)().addCircleOutline}),c.createElement(P.xv,{weight:"500"},E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title"))))):c.createElement("div",null,c.createElement(P.$J,{subtitle:[E("applications:placeholders.emptyAuthenticatorsList.subtitles",{type:z})]}),t&&c.createElement(Ce.Z.Group,{centered:!0,itemsPerRow:3},c.createElement(Ce.Z,{as:"div",className:"basic-card authenticator add-custom-authenticator-card ".concat(h?"with-labels":""),onClick:Ue},c.createElement(Ce.Z.Content,{textAlign:"center"},c.createElement(P.dn,{transparent:!0,className:"mb-3",size:"mini",icon:(0,ze.s_)().addCircleOutline}),c.createElement(P.xv,{weight:"500"},E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.addNewAuthenticatorCard.title")))))))),c.createElement(Te.Z.Actions,null,c.createElement(Re.Z,null,c.createElement(Re.Z.Row,{column:1},c.createElement(Re.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(P.Qj,{floated:"left",onClick:function(e){return l(e,null)}},E("common:cancel"))),!Q&&c.createElement(Re.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(P.KM,{floated:"right",onClick:function(){C.compute((function(){null==k||k.forEach((function(e){C.publish("application-sign-in-method-add-new-authenticator",{type:(0,ye.Z)(e.defaultAuthenticator.name)})}))})),d(k,q)},disabled:(0,Ee.Z)(k),"data-testid":"".concat(v,"-next-button")},E("common:add")))))))};ot.defaultProps={"data-testid":"add-authenticator-modal",showLabels:!0,size:"small"};var rt=["open","onClose","data-componentid","currentStep","onIDPCreateWizardTrigger"];function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},at.apply(null,arguments)}var lt=function(e){var t,n,i=e.open,o=e.onClose,r=e["data-componentid"],a=e.currentStep,l=e.onIDPCreateWizardTrigger,s=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,rt),u=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),d=le(),m=d.authenticators,f=d.authenticationSequence,g=d.addSignInOption,h=(0,X.EV)(null==u||null===(t=u.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create),v=(0,x.$)().t;return c.createElement(ot,at({authenticationSteps:null==f?void 0:f.steps,allowSocialLoginAddition:h,currentStep:a,open:i,onModalSubmit:function(e){e.map((function(e){g(a,e.id)})),o(null,null)},onClose:o,header:v("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:m,showStepSelector:!1,stepCount:null==f||null===(n=f.steps)||void 0===n?void 0:n.length,onIDPCreateWizardTrigger:l,"data-componentid":r},s))};lt.defaultProps={"data-componentid":"authentication-flow-option-add-modal"};const ct=lt;var st=["open","onClose","data-componentid"];function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ut.apply(null,arguments)}var dt=function(e){var t=e.open,n=e.onClose,i=e["data-componentid"],o=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,st),r=(0,x.$)().t;return c.createElement(P.cV,ut({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,assertionHint:r("authenticationFlow:revertConfirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:r("authenticationFlow:revertConfirmationModal.primaryActionButtonText"),secondaryAction:r("authenticationFlow:revertConfirmationModal.secondaryActionButtonText"),"data-componentid":i,onPrimaryActionClick:function(){return n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},o),c.createElement(P.cV.Header,{"data-componentid":"".concat(i,"-header")},r("authenticationFlow:revertConfirmationModal.title")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},r("authenticationFlow:revertConfirmationModal.warningMessage")),c.createElement(P.cV.Content,{"data-componentid":"".concat(i,"-content")},r("authenticationFlow:revertConfirmationModal.content")))};dt.defaultProps={"data-componentid":"authentication-flow-revert-disclaimer-modal"};const pt=dt;var mt=n(88752),ft=n(37612),gt=n(51835),ht=n.n(gt),vt=n(27975),bt=n.n(vt),Et=n(55900),yt=n.n(Et),At=n(21555),Tt=n.n(At),St=n(3621),Ot=n.n(St),It=n(5062),wt=n.n(It),Ct=n(74722),Nt={};Nt.styleTagTransform=wt(),Nt.setAttributes=Tt(),Nt.insert=yt().bind(null,"head"),Nt.domAPI=bt(),Nt.insertStyleElement=Ot();ht()(Ct.Z,Nt);Ct.Z&&Ct.Z.locals&&Ct.Z.locals;function Rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _t(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Lt=function(e){var t=e.id,n=e.data,i=e.sourceX,o=e.sourceY,r=e.targetX,a=e.targetY,l=e.sourcePosition,s=e.targetPosition,u=e.style,d=void 0===u?{}:u,p=e.markerEnd,m=e["data-componentid"],f=n.onNewStepAddition,g=Rt((0,D.OQ)({sourcePosition:l,sourceX:i,sourceY:o,targetPosition:s,targetX:r,targetY:a}),3),h=g[0],v=g[1],b=g[2];return c.createElement(c.Fragment,null,c.createElement(D.u5,{path:h,markerEnd:p,style:d,"data-componentid":"".concat(m,"-base-edge")}),c.createElement(D.XQ,null,c.createElement("div",{style:{transform:"translate(-50%, -50%) translate(".concat(v,"px,").concat(b,"px)")},className:"add-step-button-wrapper nodrag nopan"},c.createElement(mt.Z,{"aria-label":"add",className:"add-step-button",variant:"circular",onClick:function(e){return f(e,t)},"data-componentid":"add-step-button"},c.createElement(ft.pO,null)))))};Lt.defaultProps={};const Pt=Lt;var kt=n(91651),Mt=n(56723),Ut={};Ut.styleTagTransform=wt(),Ut.setAttributes=Tt(),Ut.insert=yt().bind(null,"head"),Ut.domAPI=bt(),Ut.insertStyleElement=Ot();ht()(Mt.Z,Ut);Mt.Z&&Mt.Z.locals&&Mt.Z.locals;function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xt.apply(null,arguments)}var Dt=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",xt({xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"}))},Zt=function(e){var t,n=e.id,i=e["data-componentid"],o=le().updateVisualEditorFlowNodeMeta,r=(0,c.useRef)(null);return(0,c.useEffect)((function(){r&&r.current&&o(n,{height:r.current.clientHeight,width:r.current.clientWidth})}),[null==r||null===(t=r.current)||void 0===t?void 0:t.clientHeight]),c.createElement("div",{ref:r,className:"done-node-wrapper","data-componentid":i},c.createElement(kt.Z,{"aria-label":"done",className:"done-node",variant:"circular","data-componentid":"".concat(i,"-circular-fab")},c.createElement(Dt,{"data-componentid":"".concat(i,"-check-icon")})),c.createElement(D.HH,{className:"hidden-handle",id:"targetLeft",type:"target",position:D.Ly.Left}))};Zt.defaultProps={"data-componentid":"done-node"};const jt=Zt;var Ft=n(17498),Ht=n(48461),Vt=n(23553),Bt=n(19179),qt=n(49748),Gt=n(77659),$t=n(89801),zt=n(40018),Wt=n(39786),Kt=n(97472),Qt=n(64294);function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yt.apply(null,arguments)}function Jt(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var Xt=function(e){var t=Object.assign({},(Jt(e),e));return c.createElement("svg",Yt({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),c.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},en=function(e){var t=Object.assign({},(Jt(e),e));return c.createElement("svg",Yt({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 512 512"},t),c.createElement("path",{d:"M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"}))},tn=function(e){var t=e.children,n=e.onOptionRemove,i=e.onOptionSwitch,o=e.optionSwitchTooltipContent,r=e.optionRemoveTooltipContent,a=e["data-componentid"];return n||i?c.createElement("div",{className:"basic-sign-in-option-controls-wrapper","data-componentid":a},c.createElement("div",{className:"basic-sign-in-option-controls"},i&&c.createElement(Kt.Z,{title:o,"data-componentid":"".concat(a,"-tooltip")},c.createElement(Gt.Z,{size:"small",onClick:i,className:"action-button","data-componentid":"".concat(a,"-switch-option-button")},c.createElement(en,null))),n&&c.createElement(Kt.Z,{title:r},c.createElement(Gt.Z,{size:"small",onClick:n,className:"action-button","data-componentid":"".concat(a,"-remove-option-button")},c.createElement(Xt,null)))),c.createElement("div",{className:"basic-sign-in-option-control-fields"},t)):null};tn.defaultProps={"data-componentid":"basic-sign-in-option-controls",optionRemoveTooltipContent:"Remove",optionSwitchTooltipContent:"Switch"};const nn=tn;var on=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,x.$)().t,o=function(){var e=new Date,t=new Date;return e.setDate(t.getDate()-5),new Date(e.getTime()+Math.random()*(t.getTime()-e.getTime())).toLocaleString([],{day:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit",month:"2-digit",year:"numeric"})};return c.createElement("div",{className:"active-sessions-limit-fragment","data-componentid":n},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.activeSessionsLimit.header")),c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.activeSessionsLimit.form.help")),c.createElement(nn,{onOptionRemove:function(e){t(e,{toRemove:N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement("table",null,c.createElement("tr",null,c.createElement("th",null,c.createElement(Ft.Z,{className:"non-interactive"})),c.createElement("th",null,i("authenticationFlow:nodes.activeSessionsLimit.form.sessions.browserLabel")),c.createElement("th",null,i("authenticationFlow:nodes.activeSessionsLimit.form.sessions.lastAccessedLabel"))),c.createElement("tr",null,c.createElement("td",null,c.createElement(Ft.Z,{className:"non-interactive"})),c.createElement("td",null,"Chrome"),c.createElement("td",null," ",o()," ")),c.createElement("tr",null,c.createElement("td",null,c.createElement(Ft.Z,{className:"non-interactive"})),c.createElement("td",null,"Firefox"),c.createElement("td",null," ",o()," ")))))};on.defaultProps={"data-componentid":"active-sessions-limit-fragment"};const rn=on;var an=n(73405),ln=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,x.$)().t;return c.createElement("div",{className:"basic-auth-fragment","data-componentid":n},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.signIn.header")),c.createElement(nn,{onOptionRemove:function(e){t(e,{toRemove:N.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME})},optionSwitchTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement(an.Z,{required:!0,fullWidth:!0,autoComplete:"off",label:i("authenticationFlow:nodes.signIn.form.fields.username.label"),name:"text",value:null,placeholder:i("authenticationFlow:nodes.signIn.form.fields.username.placeholder"),className:"non-interactive"}),c.createElement(an.Z,{required:!0,fullWidth:!0,name:"password",autoComplete:"new-password",label:i("authenticationFlow:nodes.signIn.form.fields.password.label"),type:"password",value:null,placeholder:i("authenticationFlow:nodes.signIn.form.fields.password.placeholder"),className:"non-interactive"})),c.createElement(Bt.Z,{className:"non-interactive"},c.createElement(Vt.Z,{control:c.createElement(Ft.Z,{color:"secondary"}),label:i("authenticationFlow:nodes.signIn.form.fields.rememberMe.label")})),c.createElement(G.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.signIn.form.actions.primary")))};ln.defaultProps={"data-componentid":"basic-auth-fragment"};const cn=ln;var sn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,x.$)().t;return c.createElement("div",{className:"email-otp-fragment","data-componentid":n},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.emailOTP.header")),c.createElement(nn,{onOptionRemove:function(e){t(e,{toRemove:N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.signIn.controls.optionRemoveTooltipContent")},c.createElement(an.Z,{required:!0,fullWidth:!0,name:"password",label:i("authenticationFlow:nodes.emailOTP.form.fields.code.label"),type:"password",placeholder:i("authenticationFlow:nodes.emailOTP.form.fields.code.placeholder"),autoComplete:"off",className:"otp-input non-interactive"})),c.createElement("div",{className:"oxygen-sign-in-action-group"},c.createElement(G.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.emailOTP.form.actions.primary")),c.createElement(G.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},i("authenticationFlow:nodes.emailOTP.form.actions.secondary"))))};sn.defaultProps={"data-componentid":"email-otp-fragment"};const un=sn;var dn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,x.$)().t;return c.createElement("div",{className:"identifier-first-fragment","data-componentid":n},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.identifierFirst.header")),c.createElement(nn,{onOptionRemove:function(e){t(e,{toRemove:N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME})},optionSwitchTooltipContent:i("authenticationFlow:nodes.identifierFirst.controls.optionSwitchTooltipContent"),optionRemoveTooltipContent:i("authenticationFlow:nodes.identifierFirst.controls.optionRemoveTooltipContent")},c.createElement(an.Z,{required:!0,fullWidth:!0,label:i("authenticationFlow:nodes.identifierFirst.form.fields.username.label"),name:"text",autoComplete:"off",value:null,placeholder:i("authenticationFlow:nodes.identifierFirst.form.fields.username.placeholder"),className:"non-interactive"})),c.createElement(Bt.Z,{className:"non-interactive"},c.createElement(Vt.Z,{control:c.createElement(Ft.Z,{color:"secondary"}),label:i("authenticationFlow:nodes.identifierFirst.form.fields.rememberMe.label")})),c.createElement(G.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.identifierFirst.form.actions.primary")))};dn.defaultProps={"data-componentid":"identifier-first-fragment"};const pn=dn;const mn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=void 0===n?"push-notification-fragment":n,o=(0,x.$)().t;return c.createElement("div",{className:"push-fragment","data-componentid":i},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},o("authenticationFlow:nodes.push.header")),c.createElement(nn,{onOptionRemove:function(e){t(e,{toRemove:N.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:o("authenticationFlow:nodes.push.controls.optionRemoveTooltipContent")},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},o("authenticationFlow:nodes.push.form.fields.code.label")),c.createElement(G.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive resend-button",type:"submit",fullWidth:!0,disabled:!0},o("authenticationFlow:nodes.push.form.actions.primary"))))};function fn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return gn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var hn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,x.$)().t;return c.createElement("div",{className:"sms-otp-fragment","data-componentid":n},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.smsOTP.header")),c.createElement(nn,{onOptionRemove:function(e){t(e,{toRemove:N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.smsOTP.controls.optionRemoveTooltipContent")},c.createElement(b.Z,{align:"left",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.smsOTP.form.fields.code.label")),c.createElement("div",{className:"pin-code-input-fields"},fn(Array(6)).map((function(e,t){return c.createElement(an.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",autoComplete:"off",className:"non-interactive"})})))),c.createElement("div",{className:"oxygen-sign-in-action-group"},c.createElement(G.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.smsOTP.form.actions.primary")),c.createElement(G.Z,{color:"secondary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",fullWidth:!0},i("authenticationFlow:nodes.smsOTP.form.actions.secondary"))))};hn.defaultProps={"data-componentid":"sms-otp-fragment"};const vn=hn;function bn(e){return function(e){if(Array.isArray(e))return En(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return En(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?En(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var yn=function(e){var t=e.onOptionRemove,n=e["data-componentid"],i=(0,x.$)().t;return c.createElement("div",{className:"totp-fragment","data-componentid":n},c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-header",variant:"h4"},i("authenticationFlow:nodes.totp.header")),c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle1"},i("authenticationFlow:nodes.totp.form.fields.code.label")),c.createElement(nn,{onOptionRemove:function(e){t(e,{toRemove:N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME})},optionRemoveTooltipContent:i("authenticationFlow:nodes.totp.controls.optionRemoveTooltipContent")},c.createElement("div",{className:"pin-code-input-fields"},bn(Array(6)).map((function(e,t){return c.createElement(an.Z,{key:"pincode-".concat(t+1),id:"pincode-".concat(t+1),name:"number",placeholder:".",className:"non-interactive"})})))),c.createElement(G.Z,{color:"primary",variant:"contained",className:"oxygen-sign-in-cta non-interactive",type:"submit",fullWidth:!0},i("authenticationFlow:nodes.totp.form.actions.primary")),c.createElement(b.Z,{align:"center",className:"oxygen-sign-in-sub-header",variant:"subtitle2"},i("authenticationFlow:nodes.totp.form.help")))};yn.defaultProps={"data-componentid":"totp-fragment"};const An=yn;var Tn=n(71605),Sn={};Sn.styleTagTransform=wt(),Sn.setAttributes=Tt(),Sn.insert=yt().bind(null,"head"),Sn.domAPI=bt(),Sn.insertStyleElement=Ot();ht()(Tn.Z,Sn);Tn.Z&&Tn.Z.locals&&Tn.Z.locals;function On(){return On=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},On.apply(null,arguments)}var In=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",On({xmlns:"http://www.w3.org/2000/svg",height:"14px",viewBox:"0 0 384 512",className:"cross-icon"},t),c.createElement("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}))},wn=function(e){var t,n,i,o,r,a=e.id,l=e.data,s=l.authenticators,u=l.authenticationSequence,d=l.onSignInOptionAdd,p=l.onSignInOptionRemove,f=l.onSignInOptionSwitch,g=l.onSignInStepRemove,h=l.onAttributeIdentifierStepChange,v=l.onSubjectIdentifierStepChange,E=l.stepIndex,y=l.showSelfSignUp,A=l["data-componentid"],T=(0,x.$)().t,S=le().updateVisualEditorFlowNodeMeta,O=(0,c.useRef)(null),I=Object.values(s).flat(),w=(0,c.useMemo)((function(){return[N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME]}),[]);(0,c.useEffect)((function(){O&&O.current&&S(a,{height:O.current.clientHeight,width:O.current.clientWidth})}),[null==O||null===(t=O.current)||void 0===t?void 0:t.clientHeight]);var C,R=function(){var e,t=void 0,n=null==u||null===(e=u.steps)||void 0===e||null===(e=e[E])||void 0===e||null===(e=e.options)||void 0===e?void 0:e.filter((function(e){return!w.includes(e.authenticator)}));return null==n||n.forEach((function(e){e.authenticator===N.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME?t=N.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME:e.authenticator===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?t=N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME:e.authenticator===N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME&&(t=N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME),1===n.length&&(e.authenticator===N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME?t=N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME:e.authenticator===N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME?t=N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME:e.authenticator===N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME?t=N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME:e.authenticator===N.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME&&(t=N.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME))})),t},_=(0,c.useMemo)((function(){var e,t=!1;return null==u||null===(e=u.steps)||void 0===e||null===(e=e[E])||void 0===e||e.options.map((function(e){e.authenticator===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&(t=!0)})),t}),[u]),L=(0,c.useMemo)((function(){var e,t=!1,n=!1;return null==u||null===(e=u.steps)||void 0===e||null===(e=e[E])||void 0===e||null===(e=e.options)||void 0===e||e.map((function(e){t=![N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME].includes(e.authenticator),[N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME].includes(e.authenticator)&&(n=!0)})),[t,n,_]}),[u]);return c.createElement("div",{ref:O,className:"sign-in-box-node","data-componentid":"".concat(A,"-step-").concat(E)},c.createElement("div",{className:"step-id"},c.createElement(b.Z,{variant:"body2","data-componentid":"".concat(A,"-step-").concat(E,"-id")},"Step ",E+1)),(null==u||null===(n=u.steps)||void 0===n?void 0:n.length)>1&&c.createElement(Kt.Z,{title:T("authenticationFlow:options.controls.remove")},c.createElement(Gt.Z,{size:"small",onClick:function(e){g(e,{stepIndex:E})},className:"remove-button"},c.createElement(In,null))),0!==E&&c.createElement(D.HH,{type:"target",position:D.Ly.Left}),c.createElement(m.Z,{className:"oxygen-sign-in","data-componentid":"".concat(A,"-inner")},c.createElement(zt.Z,{className:"oxygen-sign-in-box",elevation:0,variant:"outlined"},c.createElement(m.Z,{className:"oxygen-sign-in-form"},(C=R())===N.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,c.createElement(cn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;f(e,{stepIndex:E,toAdd:n,toRemove:i})}}),c.createElement(Ht.Z,null,T("authenticationFlow:options.divider"))):C===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,c.createElement(pn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;f(e,{stepIndex:E,toAdd:n,toRemove:i})}}),c.createElement(Ht.Z,null,T("authenticationFlow:options.divider"))):C===N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME?c.createElement(An,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):C===N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME?c.createElement(un,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):C===N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME?c.createElement(vn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):C===N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME?c.createElement(c.Fragment,null,c.createElement(rn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})},onOptionSwitch:function(e,t){var n=t.toAdd,i=t.toRemove;f(e,{stepIndex:E,toAdd:n,toRemove:i})}})):C===N.$.AUTHENTICATOR_NAMES.PUSH_AUTHENTICATOR_NAME?c.createElement(mn,{onOptionRemove:function(e,t){var n=t.toRemove;p(e,{stepIndex:E,toRemove:n})}}):c.createElement(c.Fragment,null),c.createElement("div",{className:"oxygen-sign-in-options-wrapper"},c.createElement("div",{className:"oxygen-sign-in-options"},null==u||null===(i=u.steps)||void 0===i||null===(i=i[E])||void 0===i||null===(i=i.options)||void 0===i?void 0:i.map((function(e){return function(e){if(!(I&&I instanceof Array&&I.length>0))return null;var t=null;return(t=e.idp===N.$.LOCAL_IDP_IDENTIFIER?I.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):(null==e?void 0:e.authenticator)===ue.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME?null==I?void 0:I.find((function(e){return(null==e?void 0:e.id)===Qt.F.getOrganizationAuthenticator().id})):I.find((function(t){return t.idp===e.idp})))?w.includes(t.name)||t.name===R()?null:c.createElement("div",{className:"oxygen-sign-in-option with-cancel-button"},c.createElement(Kt.Z,{title:T("authenticationFlow:options.controls.remove")},c.createElement(Gt.Z,{size:"small",onClick:function(e){var n;p(e,{stepIndex:E,toRemove:null===(n=t)||void 0===n||null===(n=n.defaultAuthenticator)||void 0===n?void 0:n.name})},className:"remove-button"},c.createElement(In,null))),c.createElement(G.Z,{startIcon:c.createElement("img",{className:"oxygen-sign-in-option-image",src:t.image}),variant:"contained",className:"oxygen-sign-in-option",type:"button",fullWidth:!0},t.displayName.startsWith("Sign In With")?t.displayName:T("authenticationFlow:options.displayName",{displayName:t.displayName}))):null}(e)})),R()!==N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME&&c.createElement(G.Z,{fullWidth:!0,startIcon:c.createElement(ft.pO,null),variant:"outlined",className:"oxygen-sign-in-option oxygen-sign-in-option-add",type:"button",onClick:function(e){return d(e,{stepIndex:E})},"data-componentid":"".concat(A,"-add-sign-in-option")},T("authenticationFlow:steps.controls.addOption")))),y&&c.createElement(qt.Z,{container:!0,className:"oxygen-sign-in-sign-up-link"},c.createElement(qt.Z,null,T("authenticationFlow:steps.controls.signUp.hint")),c.createElement(qt.Z,null,c.createElement($t.Z,{href:"#",className:"oxygen-sign-in-sign-up-link-action"},T("authenticationFlow:steps.controls.signUp.label"))))))),c.createElement(D.HH,{type:"source",position:D.Ly.Right,id:"a"}),c.createElement(Bt.Z,{className:"additional-behaviors"},L[0]&&c.createElement(c.Fragment,null,c.createElement(Vt.Z,{checked:(null==u?void 0:u.subjectStepId)===(null==u||null===(o=u.steps)||void 0===o||null===(o=o[E])||void 0===o?void 0:o.id),control:c.createElement(Wt.Z,null),onChange:function(e){var t;v(e,{stepIndex:null==u||null===(t=u.steps)||void 0===t||null===(t=t[E])||void 0===t?void 0:t.id})},label:T("authenticationFlow:nodes.controls.userAttributeSelector.label"),"data-componentid":"".concat(A,"-user-identifier-picker")}),c.createElement(Vt.Z,{checked:(null==u?void 0:u.attributeStepId)===(null==u||null===(r=u.steps)||void 0===r||null===(r=r[E])||void 0===r?void 0:r.id),control:c.createElement(Wt.Z,null),onChange:function(e){var t;h(e,{stepIndex:null==u||null===(t=u.steps)||void 0===t||null===(t=t[E])||void 0===t?void 0:t.id})},label:T("authenticationFlow:nodes.controls.attributeSelector.label"),"data-componentid":"".concat(A,"-attribute-identifier-picker")})),L[1]&&c.createElement(Vt.Z,{checked:_,control:c.createElement(Ft.Z,null),onChange:function(e){e.target.checked?d(e,{stepIndex:E,toAdd:N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME}):p(e,{stepIndex:E,toRemove:N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME})},label:T("authenticationFlow:nodes.controls.enableBackupCodes.label"),"data-componentid":"".concat(A,"-enable-backup-code-picker")})))};wn.defaultProps={"data-componentid":"sign-in-box-node"};const Cn=wn;var Nn="ELK-Risk-Based",Rn=(n(58169),n(76103)),_n={};_n.styleTagTransform=wt(),_n.setAttributes=Tt(),_n.insert=yt().bind(null,"head"),_n.domAPI=bt(),_n.insertStyleElement=Ot();ht()(Rn.Z,_n);Rn.Z&&Rn.Z.locals&&Rn.Z.locals;function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}var Pn=["onIDPCreateWizardTrigger","data-componentid","onUpdate"];function kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(n),!0).forEach((function(t){Un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Un(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ln(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ln(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ln(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Zn.apply(null,arguments)}var jn=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",Zn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M8,3 L3,8 L8,13 M12,20 L15,20 C18.3137085,20 21,17.3137085 21,14 C21,10.6862915 18.3137085,8 15,8 L4,8"}))},Fn=function(e){var t=e.onIDPCreateWizardTrigger,n=e["data-componentid"],i=e.onUpdate,o=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Pn),r=(0,x.$)().t,a=(0,p.I0)(),l=le(),s=l.authenticators,u=l.authenticationSequence,d=l.addSignInStep,m=l.addSignInOption,f=l.defaultAuthenticationSequence,g=l.isAdaptiveAuthAvailable,h=l.isValidAuthenticationFlow,v=l.isConditionalAuthenticationEnabled,b=l.removeSignInOption,E=l.removeSignInStep,y=l.revertAuthenticationSequenceToDefault,A=l.updateAuthenticationSequence,T=l.visualEditorFlowNodeMeta,S=W(N.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID),O=S.data,I=S.error,w=S.isLoading,C=(0,P.fQ)().getLink,R=(0,c.useRef)(null),k=xn((0,c.useState)(0),2),j=k[0],F=k[1],H=xn((0,c.useState)(!1),2),V=H[0],$=H[1],z=xn((0,c.useState)(!1),2),X=z[0],ee=z[1],te=xn((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=xn((0,c.useState)(void 0),2),re=oe[0],ae=oe[1],ce=xn((0,c.useState)(0),2),se=ce[0],ue=ce[1],de=xn((0,c.useState)(void 0),2),pe=de[0],me=de[1],fe=(0,c.useMemo)((function(){return{done:jt,loginBox:Cn}}),[]),ge=(0,c.useMemo)((function(){return{stepAdditionEdge:Pt}}),[]),he=(0,c.useMemo)((function(){var e,t={data:{"data-componentid":"done-node"},id:"-1",position:{x:0,y:0},type:"done"},n=[];return null==u||null===(e=u.steps)||void 0===e||e.filter((function(e,i){var o={data:{authenticationSequence:u,authenticators:s,"data-componentid":"sign-in-box-node",onAttributeIdentifierStepChange:function(e,t){var n=t.stepIndex;A({attributeStepId:n})},onSignInOptionAdd:function(e,t){var n=t.stepIndex,i=t.toAdd;i?m(n,i):($(!0),F(n))},onSignInOptionRemove:function(e,t){var n=t.stepIndex,i=t.toRemove;b(n,i)},onSignInOptionSwitch:function(e,t){var n=t.stepIndex,i=t.toRemove,o=t.toAdd;b(n,i),m(n,o)},onSignInStepRemove:function(e,t){var n=t.stepIndex;E(n)},onSubjectIdentifierStepChange:function(e,t){var n=t.stepIndex;A({subjectStepId:n})},stepIndex:i},id:"".concat(e.id),position:{x:0,y:0},type:"loginBox"};n.push(o),i===u.steps.length-1&&n.push(Mn(Mn({},t),{},{id:"".concat(i+2),position:{x:0,y:0}}))})),n.forEach((function(e,t){var i,o,r,a,l=n[t-1],c=null===(i=T[parseInt(e.id)-1])||void 0===i?void 0:i.height,s=null===(o=T[parseInt(e.id)-1])||void 0===o?void 0:o.width,u=null===(r=T[parseInt(e.id)])||void 0===r?void 0:r.height,d=null===(a=T[parseInt(e.id)])||void 0===a?void 0:a.width;if(c&&u){var p=l.position.y+c/2;e.position.y=p-u/2}s&&d&&(e.position.x=l.position.x+s/2+250),e.id===n.length.toString()&&(e.position.x=e.position.x+125)})),n}),[u,s,T]),ve=(0,c.useMemo)((function(){var e=he.length-1,t={markerEnd:{color:"#696969",height:20,type:D.QZ.Arrow,width:20},style:{stroke:"#696969",strokeWidth:2}},n=(0,U.Z)(he).slice(0,e).map((function(e,n){return Mn({id:"".concat(n,"-").concat(n+1),source:"".concat(n),target:"".concat(n+1)},t)})),i=Mn({data:{onNewStepAddition:function(){d()}},"data-componentid":"step-addition-edge",id:"".concat(e,"-").concat(e+1),source:"".concat(e),target:"".concat(e+1),type:"stepAdditionEdge"},t);return n.push(i),n}),[u,he]);return(0,c.useEffect)((function(){if(!w){var e,t;if(I)return null!=I&&null!==(e=I.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?void a((0,L.V_)({description:r("authenticationProvider:notifications.getConnectionDetails.error.description",{description:null==I||null===(t=I.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description}),level:_.QU.ERROR,message:r("authenticationProvider:notifications.getConnectionDetails.error.message")})):void a((0,L.V_)({description:r("authenticationProvider:notifications.getConnectionDetails.genericError.description"),level:_.QU.ERROR,message:r("authenticationProvider:notifications.getConnectionDetails.genericError.message")}));if(O){var n=null==O?void 0:O.properties,i=null==n?void 0:n.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),o="true"===(null==i?void 0:i.value);me(o)}}}),[O,I,w]),(0,c.useEffect)((function(){if(null==u?void 0:u.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===N.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})))}))){if(pe){var e,t=!(null==u||null===(e=u.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===N.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})));ae(t?c.createElement(c.Fragment,null,c.createElement(q.Z,null,r("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),c.createElement(Z.c,{i18nKey:r("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},c.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",c.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",c.createElement("strong",null," Conditional Authentication")," section."),c.createElement(P.eb,{link:C("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},r("common:learnMore"))):c.createElement(c.Fragment,null,c.createElement(q.Z,null,r("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled")),c.createElement(Z.c,{i18nKey:r("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",c.createElement("strong",null,"My Account"),"."),c.createElement(P.eb,{link:C("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},r("common:learnMore"))))}else ae(c.createElement(c.Fragment,null,c.createElement(Z.c,{i18nKey:r("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},c.createElement(P.rU,{external:!1,onClick:function(){Q.m.push(K.$.getPaths().get("IDP_EDIT").replace(":id","RklET0F1dGhlbnRpY2F0b3I"))}},"Passkey progressive enrollment"),"\xa0 is disabled. Users must enroll their passkeys through ",c.createElement("strong",null,"My Account")," to use passwordless sign-in."),c.createElement(P.eb,{link:C("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},r("common:learnMore"))));ie(!0)}else ie(!1)}),[pe,null==u?void 0:u.steps]),(0,c.useEffect)((function(){if(ne){if(null!=R&&R.current){var e,t=null==R||null===(e=R.current)||void 0===e?void 0:e.getBoundingClientRect(),n=null==t?void 0:t.height;ue(n)}}else ue(0)}),[ne]),c.createElement(c.Fragment,null,c.createElement("div",Zn({className:M()("react-flow-container","visual-editor"),"data-componentid":n},o),ne?c.createElement(B.Z,{className:"visual-editor-info-message",severity:"info",onClose:function(){return ie(!1)},ref:R},re):null,c.createElement(G.Z,{className:"revert-to-default-button",color:"secondary",onClick:function(){return ee(!0)},"data-componentid":"".concat(n,"-revert-button"),style:{marginTop:"".concat(se+15,"px")}},c.createElement(jn,null),r("authenticationFlow:visualEditor.actions.revert.label")),c.createElement(D.x$,{fitView:!0,nodeTypes:fe,edgeTypes:ge,nodes:he,edges:ve,proOptions:{hideAttribution:!0}},c.createElement(Y.A,{color:"#e1e1e1",gap:16,variant:Y.T.Dots,size:2}),c.createElement(J.Z,null),(!g||!v)&&c.createElement(G.Z,{color:"primary",variant:"contained",className:"update-button",onClick:function(){return i(u)},disabled:!h,"data-componentid":"".concat(n,"-update-button")},r("authenticationFlow:visualEditor.actions.update.label")))),V&&c.createElement(ct,{open:V,onClose:function(){return $(!1)},currentStep:j,onIDPCreateWizardTrigger:t}),c.createElement(pt,{open:X,onClose:function(){return ee(!1)},onPrimaryActionClick:function(){y(),i(f,!0),ee(!1)}}))};Fn.defaultProps={"data-componentid":"authentication-flow-visual-editor"};const Hn=Fn;var Vn=n(77366),Bn=n(23210),qn=n(91626),Gn=n(45054),$n=n(73399),zn=n(29246),Wn=n(64643),Kn=n(4717),Qn=n(47149),Yn=n(54388),Jn=n(47208),Xn=["isELKRiskBased","selectedTemplate","onELKConfigureClick","onTemplateChange","onClose","data-componentid"];function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ei.apply(null,arguments)}var ti=function(e){var t=e.isELKRiskBased,n=e.selectedTemplate,i=e.onELKConfigureClick,o=e.onTemplateChange,r=e.onClose,a=e["data-componentid"],l=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Xn),s=(0,x.$)().t;return c.createElement(P.cV,ei({onClose:r,type:"warning",primaryAction:s("common:confirm"),secondaryAction:s("common:cancel"),onSecondaryActionClick:function(e){r(e,null),o(void 0)},onPrimaryActionClick:function(e){r(e,null),o(n)},"data-componentid":a,closeOnDimmerClick:!1},l),c.createElement(P.cV.Header,{"data-componentid":"".concat(a,"-header")},s("authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.heading")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(a,"-message")},s("authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.message")),c.createElement(P.cV.Content,{"data-componentid":"".concat(a,"-content")},t&&c.createElement(c.Fragment,null,c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",c.createElement(P.rU,{onClick:i,external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",c.createElement(P.EK,null,c.createElement(ft.UG,{size:14})),")")),c.createElement(Z.c,{i18nKey:"authenticationFlow:adaptiveLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing script in the editor as well as the login steps you configured. Click ",c.createElement(P.EK,null,"Confirm")," to proceed.")))};ti.defaultProps={"data-componentid":"adaptive-auth-template-change-confirmation-modal"};const ni=ti;var ii=n(8225),oi=n(73432),ri=n(66528),ai=["template","open","onClose","data-componentid"];function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},li.apply(null,arguments)}function ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return si(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ui=function(e){var t,n,i=e.template,o=e.open,r=e.onClose,a=e["data-componentid"],l=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ai),s=(0,x.$)().t,u=(0,P.fQ)().getLink;return c.createElement(Te.Z,li({open:o,onClose:r,dimmer:"blurring",size:"small","data-componentid":a},l),c.createElement(Te.Z.Header,null,i.title),c.createElement(Te.Z.Content,{scrolling:!0},c.createElement("p",null,i.summary,(t=null==i?void 0:i.name,n=void 0,t===y.qr.USER_AGE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.userAgeBased.learnMore")),t===y.qr.GROUP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.groupBased.learnMore")),t===y.qr.IP_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.ipBased.learnMore")),t===y.qr.NEW_DEVICE_BASED&&(n=u("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.template.deviceBased.learnMore")),void 0===n?null:c.createElement(P.eb,{link:n,"data-componentid":"".concat(a,"-learn-more-link")},s("common:learnMore")))),Array.isArray(null==i?void 0:i.preRequisites)&&i.preRequisites.length>0&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.prerequisites")),c.createElement(oi.Z,null,i.preRequisites.map((function(e,t){var n=function(){var e=[];return(0,ii.Z)(i.parametersDescription)&&Object.entries(i.parametersDescription).map((function(t){var n=ci(t,1)[0];e.push(n)})),e}();return c.createElement(oi.Z.Item,{key:t},c.createElement(oi.Z.Icon,{name:"check circle outline",color:"green"}),c.createElement(oi.Z.Content,null,function(e,t){var n=e.split(" "),i=[],o="";return n.map((function(e,n){t.includes(e)?(i.push(c.createElement("span",{key:n},o," ")),i.push(c.createElement("span",{key:n},c.createElement(P.EK,null,e))),o=""):o=o.concat(e+" ")})),i.push(c.createElement("span",null,o)),c.createElement("p",null,i.map((function(e){return e})))}(e,n)))})))),(0,ii.Z)(i.parametersDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.parameters")),c.createElement(ri.Z,{definition:!0},c.createElement(ri.Z.Header,null,c.createElement(ri.Z.Row,null,c.createElement(ri.Z.HeaderCell,null),c.createElement(ri.Z.HeaderCell,null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.description")))),c.createElement(ri.Z.Body,null,Object.entries(i.parametersDescription).map((function(e,t){var n=ci(e,2),i=n[0],o=n[1];return c.createElement(ri.Z.Row,{key:t},c.createElement(ri.Z.Cell,null,c.createElement(P.EK,null,i)),c.createElement(ri.Z.Cell,null,o))}))))),(0,ii.Z)(i.defaultStepsDescription)&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.defaultSteps")),Object.entries(i.defaultStepsDescription).map((function(e,t,n){var i=ci(e,2),o=i[0],r=i[1];return c.createElement("div",{className:"stepper",key:"".concat(t,"-").concat(o)},c.createElement("div",{className:"step-number"},t+1),c.createElement("div",{className:"step-text"},r),n.length!==t+1&&c.createElement("div",{className:"step-connector"},c.createElement("div",{className:"step-line"})))}))),i.helpLink&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.helpReference")),c.createElement(P.v0,{type:"info",content:c.createElement("a",{target:"_blank",href:i.helpLink,rel:"noopener noreferrer"},i.helpLink)})),i.code&&c.createElement(c.Fragment,null,c.createElement("h4",null,s("applications:edit.sections.signOnMethod.sections.templateDescription.description.code")),c.createElement(P.pq,{lint:!0,language:"javascript",sourceCode:i.code,options:{lineWrapping:!0},readOnly:!0,"data-testid":"".concat(i.title,"-code-editor"),getThemeFromEnvironment:!0}))),c.createElement(Te.Z.Actions,null,c.createElement(P.Qj,{onClick:r},s("common:cancel"))))};ui.defaultProps={"data-componentid":"adaptive-auth-template-info-modal"};const di=ui;var pi=["selectedTemplate","onTemplateChange","onClose","data-componentid"];function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mi.apply(null,arguments)}var fi=function(e){var t=e.selectedTemplate,n=e.onTemplateChange,i=e.onClose,o=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,pi),a=(0,x.$)().t;return c.createElement(P.cV,mi({onClose:i,type:"warning",primaryAction:a("common:confirm"),secondaryAction:a("common:cancel"),onSecondaryActionClick:function(e){i(e,null),n(void 0)},onPrimaryActionClick:function(e){i(e,null),n(t)},"data-componentid":o,closeOnDimmerClick:!1},r),c.createElement(P.cV.Header,{"data-componentid":"".concat(o,"-header")},a("authenticationFlow:basicLoginFlowSelectConfirmationModal.heading")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(o,"-message")},a("authenticationFlow:basicLoginFlowSelectConfirmationModal.message")),c.createElement(P.cV.Content,{"data-componentid":"".concat(o,"-content")},c.createElement(Z.c,{i18nKey:"authenticationFlow:basicLoginFlowSelectConfirmationModal.content"},"The selected template will replace the existing login steps you configured. Click ",c.createElement(P.EK,null,"Confirm")," to proceed.")))};fi.defaultProps={"data-componentid":"basic-login-flow-change-confirmation-modal"};const gi=fi;var hi=["authenticators","authenticatorCategoryDisplayName","onSelect","onClose","data-componentid"];function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vi.apply(null,arguments)}function bi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ei(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ei(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var yi=function(e){var t=e.authenticators,n=e.authenticatorCategoryDisplayName,i=e.onSelect,o=e.onClose,r=e["data-componentid"],a=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,hi),l=(0,x.$)().t,s=bi((0,c.useState)(t[0]),2),u=s[0],d=s[1];return c.createElement(P.cV,vi({type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:o,primaryAction:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(e){o(e,null)},onPrimaryActionClick:function(e){i(u),o(e,null)},"data-componentid":r,closeOnDimmerClick:!1},a),c.createElement(P.cV.Header,null,l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:n})),c.createElement(P.cV.Message,{attached:!0,warning:!0},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:n})),c.createElement(P.cV.Content,{scrolling:!0},c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:n}},"You have multiple Social Connections configured with \xa0",c.createElement(P.EK,null,n,"Authenticator"),". Select the desired one from the selection below to proceed.")),c.createElement(Oe.Z,{hidden:!0}),c.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME})).map((function(e,t){return c.createElement(P.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:u.id===e.id,image:e.image,label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(r,"-authenticator-").concat(e.name),onClick:function(){return d(e)}})})))))};yi.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const Ai=yi;var Ti=n(73502),Si=["open","authenticatorCategoryTemplate","authenticatorCategoryDisplayName","onClose","data-componentid"];function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oi.apply(null,arguments)}function Ii(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ci=function(e){var t=e.open,n=e.authenticatorCategoryTemplate,i=e.authenticatorCategoryDisplayName,o=e.onClose,r=e["data-componentid"],a=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Si),l=le().refetchAuthenticators,s=Ii((0,c.useState)(t),2),u=s[0],d=s[1],p=Ii((0,c.useState)(!1),2),m=p[0],f=p[1],g=(0,x.$)().t;(0,c.useEffect)((function(){d(t)}),[open]);return c.createElement(c.Fragment,null,c.createElement(P.cV,Oi({open:u,type:"info",onClose:function(e,t){o(e,t)},primaryAction:g("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:g("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(e){o(e,null)},onPrimaryActionClick:function(){f(!0),d(!1)},"data-componentid":r,closeOnDimmerClick:!1},a),c.createElement(P.cV.Header,null,g("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:i})),c.createElement(P.cV.Message,{attached:!0,info:!0},g("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:i})),c.createElement(P.cV.Content,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:i}},"You do not have an active Social Connection configured with",c.createElement(P.EK,null," ",i,"Authenticator"),". Click on the ",c.createElement("strong",null,"Configure")," button to register a new",c.createElement(P.EK,null,i," Social Connection")," or navigate to the ",c.createElement("a",{onClick:function(){Q.m.push(K.$.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually."))),m&&function(){if(n)return c.createElement(Ti.zy,{isModalOpen:m,handleModalVisibility:function(e){return f(e)},type:n,selectedTemplate:null,onIDPCreate:function(){l()},onWizardClose:function(){f(!1),o(null,null)}})}())};Ci.defaultProps={"data-componentid":"duplicate-social-authenticator-selection-modal"};const Ni=Ci;function Ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Li=function(e){var t=e.selectedSequence,n=e.onSelect,i=le().authenticators,o=Ri((0,c.useState)([]),2),r=o[0],a=o[1],l=Ri((0,c.useState)(void 0),2),s=l[0],u=l[1],d=Ri((0,c.useState)(void 0),2),p=d[0],m=d[1],f=Ri((0,c.useState)(!1),2),g=f[0],h=f[1],v=Ri((0,c.useState)(!1),2),b=v[0],E=v[1];(0,c.useEffect)((function(){var e;if(t){var o=null,r=null;"GoogleSocialLoginSequence"===t.id?(o=ue.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,r=ue.$.AUTHENTICATOR_NAMES.GOOGLE_OIDC_AUTHENTICATOR_NAME,m(se.f.CONNECTION_TEMPLATE_IDS.GOOGLE),u(ue.$.AUTHENTICATOR_DISPLAY_NAMES.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME)):"GithubSocialLoginSequence"===t.id?(o=ue.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,r=ue.$.AUTHENTICATOR_NAMES.GITHUB_AUTHENTICATOR_NAME,m(se.f.CONNECTION_TEMPLATE_IDS.GITHUB),u(ue.$.AUTHENTICATOR_DISPLAY_NAMES.GITHUB_AUTHENTICATOR_DISPLAY_NAME)):"FacebookSocialLoginSequence"===t.id?(o=ue.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,r=ue.$.AUTHENTICATOR_NAMES.FACEBOOK_AUTHENTICATOR_NAME,m(se.f.CONNECTION_TEMPLATE_IDS.FACEBOOK),u(ue.$.AUTHENTICATOR_DISPLAY_NAMES.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME)):"AppleSocialLoginSequence"===t.id&&(o=ue.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,r=ue.$.AUTHENTICATOR_NAMES.APPLE_AUTHENTICATOR_NAME,m(se.f.CONNECTION_TEMPLATE_IDS.APPLE),u(ue.$.AUTHENTICATOR_DISPLAY_NAMES.APPLE_AUTHENTICATOR_DISPLAY_NAME));var l=null==i||null===(e=i.social)||void 0===e?void 0:e.filter((function(e){var t;return(null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)===o}));a(l),(0,Ee.Z)(l)?E(!0):l.length>1?h(!0):1!==l.length||n(y(t.sequence,r,l[0].idp))}}),[i,t]);var y=function(e,t,n){var i=(0,U.Z)(e);return i.steps[0].options.map((function(e){e.authenticator===t&&(e.idp=n)})),i};return g?c.createElement(Ai,{open:g,authenticators:r,authenticatorCategoryDisplayName:s,onSelect:function(e){n(y(t.sequence,e.defaultAuthenticator.name,e.idp))},onClose:function(){return h(!1)}}):b?c.createElement(Ni,{open:b,authenticatorCategoryTemplate:p,authenticatorCategoryDisplayName:s,onClose:function(){m(void 0),E(!1)}}):null};Li.defaultProps={"data-componentid":"predefined-social-flow-handler-modal-factory"};const Pi=Li,ki=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}'),Mi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),Ui=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),xi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),Di=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"push-notification-authenticator","idp":"LOCAL"}]}]}'),Zi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),ji=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Fi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),Hi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),Vi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"push-notification-authenticator","idp":"LOCAL"}]}]}'),Bi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),qi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),Gi=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),$i=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}');var zi=function(e){return e.Basic="BasicLoginSequences",e.MFA="MFALoginSequences",e.Passwordless="PasswordlessLoginSequences",e.Social="SocialLoginSequences",e}({}),Wi=function(e){return e.Apple="<APPLE_IDP>",e.Facebook="<FACEBOOK_IDP>",e.Google="<GOOGLE_IDP>",e.Microsoft="Microsoft",e.GitHub="<GITHUB_IDP>",e}({}),Ki=n(42835),Qi={};Qi.styleTagTransform=wt(),Qi.setAttributes=Tt(),Qi.insert=yt().bind(null,"head"),Qi.domAPI=bt(),Qi.insertStyleElement=Ot();ht()(Ki.Z,Qi);Ki.Z&&Ki.Z.locals&&Ki.Z.locals;function Yi(e){return Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yi(e)}function Ji(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ji(Object(n),!0).forEach((function(t){eo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ji(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Yi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Yi(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yi(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(e){return function(e){if(Array.isArray(e))return oo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||io(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||io(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(e,t){if(e){if("string"==typeof e)return oo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}function oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function ro(){return ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ro.apply(null,arguments)}function ao(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var lo=function(e){var t=Object.assign({},(ao(e),e));return c.createElement("svg",ro({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"}))},co=function(e){var t=Object.assign({},(ao(e),e));return c.createElement("svg",ro({viewBox:"0 0 24 24"},t),c.createElement("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}))},so=function(e){var t=Object.assign({},(ao(e),e));return c.createElement("svg",ro({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},t),c.createElement("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"}))},uo=function(e){var t=Object.assign({},(ao(e),e));return c.createElement("svg",ro({stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M6 20l6.5 -9"}),c.createElement("path",{d:"M19 20c-6 0 -6 -16 -12 -16"}))},po=function(e){var t,n=e.onAdaptiveAuthTemplateChange,i=e.onBasicLoginTemplateChange,o=e.showBasicLoginTemplates,r=e.showAdaptiveLoginTemplates,a=e["data-componentid"],s=(0,x.$)().t,u=(0,fe.Z)().deploymentConfig,d=le(),f=d.adaptiveAuthTemplates,g=d.authenticators,h=d.defaultAuthenticationSequence,v=d.updateAuthenticationSequence,E=d.onConditionalAuthenticationToggle,y=Object.values(g).flat(),A=no((0,c.useState)(["basic-login-panel"]),2),T=A[0],S=A[1],O=no((0,c.useState)(!1),2),I=O[0],w=O[1],N=no((0,c.useState)(!1),2),R=N[0],k=N[1],U=no((0,c.useState)(!1),2),D=U[0],Z=U[1],j=no((0,c.useState)(void 0),2),F=j[0],H=j[1],V=no((0,c.useState)(void 0),2),B=V[0],q=V[1],$=no((0,c.useState)(void 0),2),z=$[0],W=$[1],K=no((0,c.useState)(!1),2),Q=K[0],Y=K[1],J=no((0,c.useState)(!1),2),X=J[0],ee=J[1],te=no((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=no((0,c.useState)(void 0),2),re=oe[0],ae=oe[1],ce=no((0,c.useState)(void 0),2),ue=ce[0],de=ce[1],pe=no((0,c.useState)(void 0),2),me=pe[0],ge=pe[1],he=no((0,c.useState)(!1),2),ve=he[0],be=he[1],Ee=(0,p.I0)(),ye=function(e){T.includes(e)?S(T.filter((function(t){return t!==e}))):S([].concat(to(T),[e]))},Ae=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:Jn.e.decodeConnectorPropertyName(n),value:e[n]});zn.K.connectorToggleName[null==re?void 0:re.name]&&zn.K.autoEnableConnectorToggleProperty&&t.properties.push({name:Jn.e.decodeConnectorPropertyName(zn.K.connectorToggleName[null==re?void 0:re.name]),value:"true"}),be(!0),(0,Kn.u9)(t,ue,me).then((function(){Ee((0,L.V_)({description:s("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:_.QU.SUCCESS,message:s("governanceConnectors:notifications.updateConnector.success.message")}))})).catch((function(e){var t,n;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?Ee((0,L.V_)({description:s("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:_.QU.ERROR,message:s("governanceConnectors:notifications.updateConnector.error.message")})):Ee((0,L.V_)({description:s("governanceConnectors:notifications.updateConnector.genericError.description"),level:_.QU.ERROR,message:s("governanceConnectors:notifications.updateConnector.genericError.message")}))})).finally((function(){be(!1),Se()}))},Se=function(){return ee(!1)},Oe=function(){!function(){var e=Qn.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=Qn.v.ANALYTICS_ENGINE_CONNECTOR_ID;de(e),ge(t),ie(!0),(0,Kn.PP)(e,t).then((function(e){ae(e)})).catch((function(e){var t,n,i;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?Ee((0,L.V_)({description:s("governanceConnectors:notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description}),level:_.QU.ERROR,message:s("governanceConnectors:notifications.getConnector.error.message")})):Ee((0,L.V_)({description:s("governanceConnectors:notifications.getConnector.genericError.description"),level:_.QU.ERROR,message:s("governanceConnectors:notifications.getConnector.genericError.message")}))})).finally((function(){ie(!1)}))}(),ee(!0)};return c.createElement("div",{className:"predefined-flows-side-panel","data-componentid":a},c.createElement("div",{className:"toolbar-container"},c.createElement($n.Z,{variant:"dense"},c.createElement(b.Z,null,s("authenticationFlow:predefinedFlows.header")))),c.createElement("div",{className:M()("predefined-flows-side-panel-content",{"full-height":!o||!r})},o&&c.createElement(Vn.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:T.includes("basic-login-panel"),className:M()("predefined-flow-categories",{expanded:T.includes("basic-login-panel"),"full-height":1===T.length&&T.includes("basic-login-panel")})},c.createElement(qn.Z,{className:"predefined-flow-category-heading","aria-controls":"basic-login-panel-content",id:"basic-login-panel-header",expandIcon:c.createElement(co,{height:"14px"}),onClick:function(){return ye("basic-login-panel")}},c.createElement(b.Z,null,s("authenticationFlow:predefinedFlows.basic.header"))),c.createElement(Bn.Z,null,Object.entries(l).map((function(e){var t,n=no(e,2),i=n[0],o=n[1],r=null;i===zi.Basic?r=s("authenticationFlow:predefinedFlows.categories.basic.label"):i===zi.MFA?r=s("authenticationFlow:predefinedFlows.categories.mfa.label"):i===zi.Passwordless?r=s("authenticationFlow:predefinedFlows.categories.passwordless.label"):i===zi.Social&&(r=s("authenticationFlow:predefinedFlows.categories.social.label"));var a=null===(t=window.AppUtils)||void 0===t||null===(t=t.getConfig())||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.pushProviders)||void 0===t?void 0:t.enabled;return c.createElement(m.Z,{key:i,className:"predefined-flow-category"},c.createElement(b.Z,{variant:"body1"},r),c.createElement(m.Z,{className:"predefined-flow-category-items"},Object.entries(o).map((function(e){var t,n=no(e,2),o=n[0],r=n[1];return"AppleSocialLoginSequence"===o&&(null===(t=new URL(null==u?void 0:u.serverOrigin))||void 0===t?void 0:t.hostname)===se.f.LOCAL_SERVER_URL?null:"PushAuthPasswordlessLoginSequence"!==o&&"PushAuthSecondFactorLoginSequence"!==o||a?c.createElement(m.Z,{key:o,className:M()("predefined-flow-sequence",{"full-width":r.steps.length>1}),onClick:function(){H({sequence:r,sequenceCategoryId:i,sequenceId:o}),k(!0)}},r.steps.map((function(e,t){var n;return c.createElement(c.Fragment,null,c.createElement("div",{className:"predefined-flow-sequence-step"},null==e||null===(n=e.options)||void 0===n?void 0:n.map((function(t,n){return c.createElement(c.Fragment,null,c.createElement("div",{key:n,className:"predefined-flow-sequence-step-option"},c.createElement(Gn.Z,{height:"14px",src:(0,Wn.C4)()[t.authenticator]||(0,Wn.C4)()[t.idp]}),c.createElement(b.Z,null,function(e,t){var n;if("LOCAL"!==t){if(t===Wi.Apple)return s("authenticationFlow:predefinedFlows.authenticators.apple.displayName");if(t===Wi.Facebook)return s("authenticationFlow:predefinedFlows.authenticators.facebook.displayName");if(t===Wi.Google)return s("authenticationFlow:predefinedFlows.authenticators.google.displayName");if(t===Wi.GitHub)return s("authenticationFlow:predefinedFlows.authenticators.github.displayName")}return null===(n=y.find((function(t){return t.defaultAuthenticator.name===e})))||void 0===n?void 0:n.displayName}(t.authenticator,t.idp))),e.options.length>1&&n!==e.options.length-1&&c.createElement(lo,{height:"10px"}))}))),r.steps.length>1&&t!==r.steps.length-1&&c.createElement("div",{className:"predefined-flow-sequence-step-separator"},c.createElement(so,{height:"10px"})))}))):null}))))})))),r&&f&&Object.entries(f).length>0&&c.createElement(Vn.Z,{square:!0,disableGutters:!0,defaultExpanded:!0,expanded:T.includes("conditional-login-panel"),className:M()("predefined-flow-categories",{expanded:T.includes("conditional-login-panel"),"full-height":1===T.length&&T.includes("conditional-login-panel")})},c.createElement(qn.Z,{className:"predefined-flow-category-heading","aria-controls":"conditional-login-panel-content",id:"conditional-login-panel-header",expandIcon:c.createElement(co,{height:"14px"}),onClick:function(){return ye("conditional-login-panel")}},c.createElement(b.Z,null,s("authenticationFlow:predefinedFlows.adaptive.header"))),c.createElement(Bn.Z,null,Object.entries(f).map((function(e){var t,n,i=no(e,2),o=i[0],r=i[1];return null==r||!r.templates||(null==r||null===(t=r.templates)||void 0===t?void 0:t.length)<=0?null:c.createElement(m.Z,{key:o,className:"predefined-flow-category"},c.createElement(b.Z,{variant:"body1"},r.displayName),c.createElement(m.Z,{className:"predefined-flow-category-items"},null==r||null===(n=r.templates)||void 0===n?void 0:n.map((function(e,t){return c.createElement(m.Z,{key:t,className:"predefined-flow-sequence full-width no-hover"},c.createElement("div",{className:"predefined-flow-sequence-step adaptive-auth-template"},c.createElement("div",{className:"label"},c.createElement(uo,null),e.name),c.createElement("div",{className:"actions"},e.name===Nn&&c.createElement(Gt.Z,{size:"small",onClick:function(){q(e),Oe()}},c.createElement(ft.UG,{size:14})),c.createElement(Gt.Z,{size:"small",onClick:function(){q(e),Z(!0)}},c.createElement(ft.Kb,{size:14})),c.createElement(G.Z,{size:"small",className:"add-button",onClick:function(){q(e),w(!0)}},s("authenticationFlow:predefinedFlows.adaptive.actions.add")))))}))))}))))),I&&c.createElement(ni,{onELKConfigureClick:function(){return Oe()},isELKRiskBased:"ELK-Risk-Based"===(null==B?void 0:B.name),open:I,onClose:function(){return w(!1)},selectedTemplate:B,onTemplateChange:function(e){!function(e){if(e){var t={};if(e.code&&(t=Xi(Xi({},t),{},{script:e.code.join("\n")})),e.defaultAuthenticators){for(var n=[],i=0,o=Object.entries(e.defaultAuthenticators);i<o.length;i++){var r=no(o[i],2),a=r[0],l=r[1];n.push({id:parseInt(a,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=Xi(Xi({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}E(!0),v(t)}}(e),n&&n(e)}}),R&&c.createElement(gi,{open:R,onClose:function(){return k(!1)},selectedTemplate:F,onTemplateChange:function(e){!function(e){var t;if(e){var n=Xi(Xi({},e.sequence),{},{script:null!==(t=e.sequence.script)&&void 0!==t?t:C.generateScript(e.sequence.steps.length+1).join("\n")});if(e.sequenceCategoryId===zi.Social)return W({id:e.sequenceId,sequence:n}),void Y(!0);v(n)}}(e),i&&i(e)}}),D&&c.createElement(di,{template:B,open:D,onClose:function(){return Z(!1)}}),Q&&c.createElement(Pi,{selectedSequence:z,onSelect:function(e){v(Xi(Xi({},h),e)),Y(!1)}}),c.createElement(Te.Z,{open:X,onClose:Se,size:"small",dimmer:"blurring"},c.createElement(Te.Z.Header,null,null==re?void 0:re.friendlyName,c.createElement(P.X6,{subHeading:!0,ellipsis:!0,as:"h6"},s("governanceConnectors:connectorSubHeading",{name:null==re?void 0:re.friendlyName}))),c.createElement(Te.Z.Content,{className:"elk-analytics-modal",scrolling:!0},ne?c.createElement(P.pO,{inline:"centered",active:!0}):c.createElement(Yn.Z,{onSubmit:Ae,triggerSubmission:function(e){t=e},initialValues:re,isConnectorEnabled:!0,isSubmitting:ve,hideUpdateButton:!0,isModalForm:!0})),c.createElement(Te.Z.Actions,null,c.createElement(Re.Z,null,c.createElement(Re.Z.Row,{column:1},c.createElement(Re.Z.Column,{mobile:8},c.createElement(P.Qj,{"data-testid":"".concat(a,"-cancel-button"),floated:"left",onClick:function(){return Se()}},s("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(Re.Z.Column,{mobile:8},c.createElement(P.KM,{"data-testid":"".concat(a,"-finish-button"),floated:"right",onClick:function(){return t()},loading:ve},s("common:update"))))))))};po.defaultProps={"data-componentid":"predefined-flows-side-panel",showAdaptiveLoginTemplates:!0,showBasicLoginTemplates:!0};const mo=po;var fo=n(49314),go=["open","onClose","data-componentid"];function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ho.apply(null,arguments)}var vo=function(e){var t=e.open,n=e.onClose,i=e["data-componentid"],o=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,go),r=(0,x.$)().t,a=le().onConditionalAuthenticationToggle;return c.createElement(P.cV,ho({open:t,onClose:n,type:"warning",closeOnDimmerClick:!1,primaryAction:r("common:confirm"),secondaryAction:r("common:cancel"),"data-componentid":i,onPrimaryActionClick:function(){a(!1),n(null,null)},onSecondaryActionClick:function(e){return n(e,null)}},o),c.createElement(P.cV.Header,{"data-componentid":"".concat(i,"-header")},r("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(i,"-message")},r("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(P.cV.Content,{"data-componentid":"".concat(i,"-content")},c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",c.createElement(P.EK,null,"Confirm")," to proceed.")))};vo.defaultProps={"data-componentid":"adaptive-script-reset-confirmation-modal"};const bo=vo;var Eo=n(57438),yo=n(3658),Ao=n(35390),To=n(69357),So=n(34159),Oo=n(72237),Io=n(2446),wo=n(17751),Co=n(4203),No=n(63068),Ro=n(93139),_o=n(11192),Lo=n(59173),Po=n(30355),ko=n(5709),Mo=n(86105),Uo=["deletingSecret","open","onClose","data-componentid"];function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xo.apply(null,arguments)}var Do=function(e){var t=e.deletingSecret,n=e.open,i=e.onClose,o=e["data-componentid"],r=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Uo),a=(0,x.$)().t,l=(0,p.I0)();return c.createElement(P.cV,xo({open:n,onClose:i,type:"negative",closeOnDimmerClick:!1,assertionHint:a("secrets:modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:a("secrets:modals.deleteSecret.primaryActionButtonText"),secondaryAction:a("secrets:modals.deleteSecret.secondaryActionButtonText"),"data-componentid":o,onPrimaryActionClick:function(){(0,Lo.c8)({params:{secretName:t.secretName,secretType:t.type}}).then((function(){l((0,L.V_)({description:a("secrets:alerts.deleteSecret.description",{secretName:t.secretName,secretType:t.type}),level:_.QU.SUCCESS,message:a("secrets:alerts.deleteSecret.message")}))})).catch((function(e){e.response&&e.response.data&&e.response.data.description?l((0,L.V_)({description:e.response.data.description,level:_.QU.ERROR,message:e.response.data.message})):l((0,L.V_)({description:a("secrets:errors.generic.description"),level:_.QU.ERROR,message:a("secrets:errors.generic.message")}))})).finally((function(){i(null,null)}))},onSecondaryActionClick:function(e){return i(e,null)}},r),c.createElement(P.cV.Header,{"data-componentid":"".concat(o,"-delete-confirmation-modal-header")},a("secrets:modals.deleteSecret.title")),c.createElement(P.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(o,"-delete-confirmation-modal-message")},a("secrets:modals.deleteSecret.warningMessage")),c.createElement(P.cV.Content,{"data-componentid":"".concat(o,"-delete-confirmation-modal-content")},a("secrets:modals.deleteSecret.content")))};Do.defaultProps={"data-componentid":"secret-delete-confirmation-modal"};const Zo=Do;var jo=n(24858),Fo={};Fo.styleTagTransform=wt(),Fo.setAttributes=Tt(),Fo.insert=yt().bind(null,"head"),Fo.domAPI=bt(),Fo.insertStyleElement=Ot();ht()(jo.Z,Fo);jo.Z&&jo.Z.locals&&jo.Z.locals;function Ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Bo.apply(null,arguments)}var qo=function(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return c.createElement("svg",Bo({stroke:"currentColor",fill:"none",strokeWidth:"1.5",viewBox:"0 0 24 24","aria-hidden":"true",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg"},t),c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"}))},Go=function(e){var t,n=e.open,i=e.onSecretSelect,o=e.onClose,r=e.onOpen,a=e["data-componentid"],l=(0,x.$)().t,s=(0,p.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),u=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),d=(0,Lo.xA)(ko.H0),m=d.data,f=d.isLoading,g=d.mutate,h=Ho((0,c.useState)(n),2),v=h[0],E=h[1],y=Ho((0,c.useState)(null),2),A=y[0],T=y[1],S=Ho((0,c.useState)(!1),2),O=S[0],I=S[1],w=Ho((0,c.useState)(!1),2),C=w[0],N=w[1],R=Ho((0,c.useState)(void 0),2),_=R[0],L=R[1];return(0,c.useEffect)((function(){E(n)}),[n]),c.createElement(c.Fragment,null,c.createElement(G.Z,{className:"secret-selection-menu-trigger","aria-controls":v?"create-new-secret-menu":void 0,"aria-haspopup":"true","aria-expanded":v?"true":void 0,onClick:function(e){T(e.currentTarget),E(!0),r()},endIcon:c.createElement(ft.v4,null),startIcon:c.createElement(qo,{height:14,width:14}),variant:"contained",color:"secondary",size:"small","data-componentid":"".concat(a,"-trigger")},l("authenticationFlow:scriptEditor.secretSelector.label")),c.createElement(wo.ZP,{anchorEl:A,open:v,onClose:function(e,t){T(null),E(!1),o(e,t)},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},classes:{paper:"create-new-secret-dropdown"},"data-componentid":"".concat(a,"-popover")},c.createElement(No.Z,{"data-componentid":"".concat(a,"-list")},f?c.createElement(Ro.Z,{alignItems:"center",className:"create-new-secret-dropdown-item-loading","data-componentid":"".concat(a,"-list-loader")},c.createElement(yo.Z,{size:20})):0===(null==m?void 0:m.length)?c.createElement(Ro.Z,{className:"create-new-secret-dropdown-empty-placeholder","data-componentid":"".concat(a,"-list-empty-placeholder")},c.createElement(_o.Z,null,c.createElement(b.Z,{variant:"body1"},l("authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.header")),c.createElement(Ht.Z,null),c.createElement(b.Z,{variant:"caption"},c.createElement(Z.c,{i18nKey:"authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.description"},"You can securely store sensitive information, such as API keys and other secrets, for use in conditional authentication scripts. Once stored, these secrets can be referenced in your scripts using the syntax ",c.createElement(Co.Z,{variant:"caption"},"secrets.{secret_name}"),".")))):null==m?void 0:m.map((function(e,t){return c.createElement(c.Fragment,null,c.createElement(Ro.Z,{key:e.secretId,"data-componentid":"".concat(a,"-list-item-").concat(e.secretId)},c.createElement(_o.Z,{primary:c.createElement(b.Z,{noWrap:!0},e.secretName),secondary:c.createElement(b.Z,{noWrap:!0},e.description)}),c.createElement(Gt.Z,{onClick:function(){return i(e)},"data-componentid":"".concat(a,"-list-item-").concat(e.secretId,"-add")},c.createElement(ft.pO,{size:14})),c.createElement(Gt.Z,{onClick:function(){L(e),N(!0)},"data-componentid":"".concat(a,"-list-item-").concat(e.secretId,"-delete")},c.createElement(ft.XH,{size:14}))),t!==(null==m?void 0:m.length)-1&&c.createElement(Ht.Z,null))})),c.createElement(Ht.Z,null),c.createElement(Ro.Z,{onClick:function(){return null},disableGutters:!0,disablePadding:!0},(0,Mo.Xr)(null==u?void 0:u.secretsManagement,null==u||null===(t=u.secretsManagement)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create,s)&&c.createElement(G.Z,{fullWidth:!0,color:"primary",className:"create-new-secret-button",startIcon:c.createElement(ft.pO,{size:14}),onClick:function(){T(null),E(!1),I(!0)},"data-componentid":"".concat(a,"-create-new-secret-button")},l("authenticationFlow:scriptEditor.secretSelector.actions.create.label"))))),O&&c.createElement(Po.Z,{onClose:function(){I(!1),g()},"data-componentid":"".concat(a,"-add-secret-modal")}),C&&c.createElement(Zo,{deletingSecret:_,open:C,onClose:function(){N(!1),g()},"data-componentid":"".concat(a,"-delete-secret-modal")}))};Go.defaultProps={"data-componentid":"secret-selection-dropdown"};const $o=Go;var zo=function(e){return e.DARK="vs-dark",e.HIGH_CONTRAST="hc-black",e.LIGHT="vc",e}({}),Wo=function(e){return e.Maximized="maximized",e.Minimized="minimized",e}({}),Ko=n(78998),Qo={};Qo.styleTagTransform=wt(),Qo.setAttributes=Tt(),Qo.insert=yt().bind(null,"head"),Qo.domAPI=bt(),Qo.insertStyleElement=Ot();ht()(Ko.Z,Qo);Ko.Z&&Ko.Z.locals&&Ko.Z.locals;function Yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Xo=(0,c.lazy)((function(){return Promise.resolve().then(n.bind(n,52962))})),er=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:o,width:n,xmlns:"http://www.w3.org/2000/svg"},c.createElement("polyline",{points:"15 3 21 3 21 9"}),c.createElement("polyline",{points:"9 21 3 21 3 15"}),c.createElement("line",{x1:"21",y1:"3",x2:"14",y2:"10"}),c.createElement("line",{x1:"3",y1:"21",x2:"10",y2:"14"}))},tr=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:o,width:n,xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M18 10h-4v-4"}),c.createElement("path",{d:"M20 4l-6 6"}),c.createElement("path",{d:"M6 14h4v4"}),c.createElement("path",{d:"M10 14l-6 6"}))},nr=function(e){var t,n,i,o,r=e.className,a=e["data-componentid"],l=(0,x.$)().t,s=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.secretsManagement})),u=(0,X.EV)(null==s||null===(t=s.scopes)||void 0===t?void 0:t.read),d=(0,c.useRef)(null),f=le(),g=f.authenticationSequence,h=f.updateAuthenticationSequence,v=Oo.W.getUserPreferences(),E=Yo((0,c.useState)(null!==(n=null==v||null===(i=v.identityAppsSettings)||void 0===i||null===(i=i.userPreferences)||void 0===i?void 0:i[A.j.CONDITIONAL_AUTH_EDITOR_THEME_STORAGE_KEY])&&void 0!==n?n:zo.DARK),2),y=E[0],T=E[1],S=Yo((0,c.useState)(!1),2),O=S[0],I=S[1],w=Yo((0,c.useState)(Wo.Minimized),2),N=w[0],R=w[1],_=(0,c.useCallback)((function(e){d.current=e}),[d]),L=(0,c.useCallback)((function(e){h({script:e})}),[h]),P=function(){N!==Wo.Minimized?R(Wo.Minimized):R(Wo.Maximized)},k=c.createElement(Xo,{loading:null,className:"script-editor",width:"100%",height:"100%",language:"javascript",theme:y,value:C.isEmptyScript(null==g?void 0:g.script)?C.generateScript((null==g||null===(o=g.steps)||void 0===o?void 0:o.length)+1).join("\n"):null==g?void 0:g.script,options:{automaticLayout:!0},onChange:L,onMount:_,"data-componentid":"".concat(a,"-code-editor")}),D=c.createElement(m.Z,{className:"script-editor-toolbar-container"},c.createElement($n.Z,{variant:"dense"},c.createElement(m.Z,null,c.createElement(b.Z,null,l("authenticationFlow:scriptEditor.panelHeader"))),c.createElement("div",{className:"actions"},N===Wo.Minimized&&c.createElement(c.Fragment,null,c.createElement("div",{className:"editor-theme-select"},c.createElement(Ao.Z,{size:"small"},c.createElement(So.Z,{labelId:"demo-select-small-label",id:"demo-select-small",value:y,onChange:function(e){T(e.target.value),function(e){var t,n=Oo.W.getUserPreferences();if(!(0,Ee.Z)(n)){var i=(0,U.Z)(n);(0,Io.Z)(null==i||null===(t=i.identityAppsSettings)||void 0===t?void 0:t.userPreferences,A.j.CONDITIONAL_AUTH_EDITOR_THEME_STORAGE_KEY,e),Oo.W.setUserPreferences(i)}}(e.target.value)}},c.createElement(To.Z,{value:zo.LIGHT},l("authenticationFlow:scriptEditor.themes.light.label")),c.createElement(To.Z,{value:zo.DARK},l("authenticationFlow:scriptEditor.themes.dark.label")),c.createElement(To.Z,{value:zo.HIGH_CONTRAST},l("authenticationFlow:scriptEditor.themes.highContrast.label"))))),c.createElement("div",{className:"secret-selection-menu-wrapper"},(null==s?void 0:s.enabled)&&u&&c.createElement($o,{open:O,onClose:function(){return I(!1)},onOpen:function(){return I(!0)},onSecretSelect:function(e){return function(e){if(d.current){var t=d.current.getSelection();t&&(d.current.executeEdits("replaceCodeBlock",[{range:t,text:e}]),I(!1))}}(e.secretName)}}))),c.createElement("div",{className:"editor-fullscreen"},c.createElement(Kt.Z,{title:N===Wo.Minimized?l("common:goFullScreen"):l("common:exitFullScreen"),"data-componentid":"editor-fullscreen-toggle-tooltip"},c.createElement(Gt.Z,{size:"small",onClick:P},N===Wo.Minimized?c.createElement(er,{height:16,width:16}):c.createElement(tr,{height:16,width:16})))))));return c.createElement(c.Suspense,{fallback:c.createElement(yo.Z,null)},c.createElement("div",{className:M()("script-editor-panel",r),"data-componentid":a},D,c.createElement(Eo.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:N===Wo.Maximized,onClose:P},c.createElement(m.Z,{className:"full-screen-script-editor-container"},D,k)),k))};nr.defaultProps={"data-componentid":"script-editor-panel"};const ir=nr;var or=n(27470),rr={};rr.styleTagTransform=wt(),rr.setAttributes=Tt(),rr.insert=yt().bind(null,"head"),rr.domAPI=bt(),rr.insertStyleElement=Ot();ht()(or.Z,rr);or.Z&&or.Z.locals&&or.Z.locals;function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var cr=function(e){var t,n=e.readOnly,i=e["data-componentid"],o=(0,x.$)().t,r=le(),a=r.authenticationSequence,l=r.isConditionalAuthenticationEnabled,f=r.onConditionalAuthenticationToggle,g=r.updateAuthenticationSequence,h=r.applicationMetaData,v=(0,u.Z)().aiGeneratedLoginFlow,E=(0,d.z)().isSubOrganization,y=ar((0,c.useState)(!1),2),A=y[0],T=y[1],S=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures}));(0,c.useEffect)((function(){var e,t,n,i;(null!=S&&S.includes(s.X7)||E()||null==v||!v.script||C.isDefaultScript(v.script,null==v||null===(e=v.steps)||void 0===e?void 0:e.length)||C.isEmptyScript(null==v?void 0:v.script))&&(null==h||null===(t=h.authenticationSequence)||void 0===t||!t.script||C.isDefaultScript(h.authenticationSequence.script,null===(n=h.authenticationSequence)||void 0===n||null===(n=n.steps)||void 0===n?void 0:n.length)||C.isEmptyScript(null===(i=h.authenticationSequence)||void 0===i?void 0:i.script))?f(!1):f(!0)}),[null==h||null===(t=h.authenticationSequence)||void 0===t?void 0:t.script]);return c.createElement(c.Fragment,null,c.createElement(m.Z,{className:"script-based-flow-switch","data-componentid":i},c.createElement(Vn.Z,{expanded:l,elevation:0},c.createElement(qn.Z,{disabled:n},c.createElement(qt.Z,{className:"script-based-flow-switch-accordion-summary"},c.createElement(qt.Z,{xs:12,sm:6,md:2,lg:1,xl:1},c.createElement(fo.Z,{checked:l,onChange:function(){l?T(!0):f(!0)}})),c.createElement(qt.Z,{className:"script-based-flow-switch-text",xs:12,sm:6,md:11,lg:11,xl:11},c.createElement(b.Z,{variant:"body1"},o("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading")),c.createElement(b.Z,{variant:"body2"},o("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"))))),c.createElement(Bn.Z,{className:"script-based-flow-switch-accordion-details"},c.createElement(ir,null)))),A&&c.createElement(bo,{open:A,onClose:function(){var e;g({script:C.generateScript((null==a||null===(e=a.steps)||void 0===e?void 0:e.length)+1).join("\n")}),T(!1)}}))};cr.defaultProps={"data-componentid":"script-based-flow-switch"};const sr=cr;var ur=n(57271),dr=n(73929),pr={};pr.styleTagTransform=wt(),pr.setAttributes=Tt(),pr.insert=yt().bind(null,"head"),pr.domAPI=bt(),pr.insertStyleElement=Ot();ht()(dr.Z,pr);dr.Z&&dr.Z.locals&&dr.Z.locals;var mr=["children","className","drawerIcon","panel","panelControlsLabel","open","data-componentid","onClose"];function fr(){return fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fr.apply(null,arguments)}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var vr=function(e){var t=e.width,n=void 0===t?16:t,i=e.height,o=void 0===i?16:i;return c.createElement("svg",{width:n,height:o,viewBox:"0 0 23 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("path",{d:"M11.671 10.4793L11.7803 10.3509L19.4469 3.01762C19.616 2.85521 19.8425 2.75926 20.0818 2.74866C20.3211 2.73807 20.5559 2.8136 20.7399 2.96037C20.9239 3.10715 21.0437 3.31452 21.0758 3.54161C21.1079 3.76871 21.0499 3.99907 20.9132 4.18728L20.8039 4.31562L13.8139 10.9999L20.8039 17.6843C20.9624 17.8362 21.0601 18.0364 21.0801 18.2502C21.1001 18.4639 21.041 18.6776 20.9132 18.854L20.8039 18.9823C20.6451 19.1339 20.4358 19.2273 20.2123 19.2464C19.9889 19.2655 19.7655 19.209 19.5811 19.0868L19.4469 18.9823L11.7803 11.6489C11.6218 11.497 11.5241 11.2968 11.5041 11.083C11.4842 10.8693 11.5432 10.6556 11.671 10.4793ZM2.08769 10.4793L2.19694 10.3509L9.86361 3.01762C10.0326 2.85521 10.2591 2.75926 10.4985 2.74866C10.7378 2.73807 10.9726 2.8136 11.1566 2.96037C11.3406 3.10715 11.4604 3.31452 11.4925 3.54161C11.5245 3.76871 11.4665 3.99907 11.3299 4.18728L11.2206 4.31562L4.23053 10.9999L11.2206 17.6843C11.3791 17.8362 11.4768 18.0364 11.4968 18.2502C11.5167 18.4639 11.4577 18.6776 11.3299 18.854L11.2206 18.9823C11.0618 19.1339 10.8524 19.2273 10.629 19.2464C10.4055 19.2655 10.1822 19.209 9.99778 19.0868L9.86361 18.9823L2.19694 11.6489C2.03848 11.497 1.94076 11.2968 1.9208 11.083C1.90083 10.8693 1.95989 10.6556 2.08769 10.4793Z",fill:"black"}))},br=function(e){var t=e.children,n=e.className,i=e.drawerIcon,o=e.panel,r=e.panelControlsLabel,a=e.open,l=e["data-componentid"],s=e.onClose,u=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,mr),d=gr((0,c.useState)(a),2),p=d[0],f=d[1];(0,c.useEffect)((function(){f(a)}),[a]);return c.createElement(c.Fragment,null,c.createElement(m.Z,{component:"main",sx:{flexGrow:1},"data-componentid":"".concat(l,"-main")},t),o&&c.createElement(ur.Z,fr({open:p,PaperProps:{className:M()("side-panel-drawer",{open:p},n),style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},variant:"permanent",anchor:"right",className:M()("side-panel-drawer",{open:p},n),"data-componentid":l},u),c.createElement("div",{className:"side-panel-drawer-panel"},c.createElement("div",{className:"side-panel-drawer-panel-controls",onClick:function(e){p?(f(!1),s&&s(e,"backdropClick")):f(!0)}},c.createElement("div",{className:"side-panel-drawer-panel-controls-chevron"},i||c.createElement(vr,{height:16,width:16})),r&&c.createElement("div",{className:"side-panel-drawer-panel-controls-label"},c.createElement(b.Z,null,r))),c.createElement("div",{className:"side-panel-drawer-panel-content"},o))))};br.defaultProps={"data-componentid":"side-panel-drawer"};const Er=br;var yr=function(e){return e.Classic="classic",e.Visual="visual",e}({}),Ar=n(16209),Tr={};Tr.styleTagTransform=wt(),Tr.setAttributes=Tt(),Tr.insert=yt().bind(null,"head"),Tr.domAPI=bt(),Tr.insertStyleElement=Ot();ht()(Ar.Z,Tr);Ar.Z&&Ar.Z.locals&&Ar.Z.locals;function Sr(e){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){wr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Sr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Sr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Sr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Rr=function(e){var t=e.legacyBuilder,n=e.onIDPCreateWizardTrigger,i=e.readOnly,o=e["data-componentid"],r=(0,x.$)().t,a=(0,p.I0)(),l=le(),s=l.applicationMetaData,d=l.isAdaptiveAuthAvailable,A=l.isAuthenticationSequenceDefault,T=l.isVisualEditorEnabled,S=l.isLegacyEditorEnabled,O=l.refetchApplication,I=l.authenticationSequence,w=l.preferredAuthenticationFlowBuilderMode,k=l.setPreferredAuthenticationFlowBuilderMode,Z=l.isConditionalAuthenticationEnabled,j=l.updateAuthenticationSequence,F=l.isSystemApplication,H=l.onActiveFlowModeChange,B=(0,u.Z)().setAiGeneratedLoginFlow,q=i?[{id:0,label:r("authenticationFlow:modes.legacy.label"),mode:yr.Classic}]:[{id:0,label:r("authenticationFlow:modes.legacy.label"),mode:yr.Classic},{extra:c.createElement(f.Z,{size:"small",label:"Beta",className:"oxygen-chip-beta"}),id:1,label:r("authenticationFlow:modes.visual.label"),mode:yr.Visual}],G=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.isSAASDeployment})),$=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),z=Cr((0,c.useState)(q[0]),2),W=z[0],K=z[1],Q=Cr((0,c.useState)(null),2),Y=Q[0],J=Q[1],X=Cr((0,c.useState)(A),1)[0],ee=Cr((0,c.useState)(!1),2),te=ee[0],ne=ee[1];(0,c.useEffect)((function(){var e,t;T&&S||(T&&!i?(K(q[1]),H(null===(e=q[1])||void 0===e?void 0:e.mode)):(K(q[0]),H(null===(t=q[0])||void 0===t?void 0:t.mode)))}),[T,S]),(0,c.useEffect)((function(){if(w){var e=q.find((function(e){return e.mode===w}));K(e),H(null==e?void 0:e.mode)}}),[w]);var ie=function(e,t){var n,i={},o=Ir(Ir({},(0,U.Z)(e)),{},{type:t?y.a1.DEFAULT:y.a1.USER_DEFINED});d&&Z&&!C.isEmptyScript(I.script)||(o.script=C.generateScript((null==I||null===(n=I.steps)||void 0===n?void 0:n.length)+1).join("\n"));$===R.$B.SUBORGANIZATION&&(o.script=""),j(Ir(Ir({},e),{},{script:o.script})),i=F?{authenticationSequence:o,name:null==s?void 0:s.name}:{authenticationSequence:o},oe(null==e?void 0:e.steps)&&(0,E.bz)(null==s?void 0:s.id,i).then((function(){a((0,L.V_)({description:r("applications:notifications.updateAuthenticationFlow.success.description"),level:_.QU.SUCCESS,message:r("applications:notifications.updateAuthenticationFlow.success.message")}))})).catch((function(e){var t,n;"APP-60001"!==(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code)?null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?a((0,L.V_)({description:e.response.data.description,level:_.QU.ERROR,message:r("applications:notifications.updateAuthenticationFlow.error.message")})):a((0,L.V_)({description:r("applications:notifications.updateAuthenticationFlow.genericError.description"),level:_.QU.ERROR,message:r("applications:notifications.updateAuthenticationFlow.genericError.message")})):a((0,L.V_)({description:r("applications:notifications.updateAuthenticationFlow.invalidScriptError.description"),level:_.QU.ERROR,message:r("applications:notifications.updateAuthenticationFlow.invalidScriptError.message")}))})).finally((function(){B(void 0),O()}))},oe=function(e){return 1===e.length&&1===e[0].options.length&&e[0].options[0].authenticator===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?(a((0,L.V_)({description:r("applications:notifications.updateOnlyIdentifierFirstError.description"),level:_.QU.WARNING,message:r("applications:notifications.updateOnlyIdentifierFirstError.message")})),!1):!(1===e.length&&e[0].options.length>1&&re(e[0].options))||(a((0,L.V_)({description:r("applications:notifications.updateIdentifierFirstInFirstStepError.description"),level:_.QU.WARNING,message:r("applications:notifications.updateIdentifierFirstInFirstStepError.message")})),!1)},re=function(e){return e.some((function(e){return e.authenticator===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME}))};return c.createElement(m.Z,{className:"sign-in-method-split-view","data-componentid":o},c.createElement(Er,{open:X,className:M()("predefined-side-panel-drawer",{hidden:W.id===q[0].id}),panel:c.createElement(mo,{showAdaptiveLoginTemplates:d}),panelControlsLabel:r("authenticationFlow:predefinedFlows.panelHeader")},c.createElement("div",{id:"drawer-container",style:{position:"relative"}},c.createElement(m.Z,null,S&&T&&c.createElement(m.Z,null,c.createElement(v.Z,{value:W.id,onChange:function(e,t){J(q[t]),ne(!0)},"aria-label":"basic tabs example"},q.map((function(e){return c.createElement(g.Z,{key:e.id,label:c.createElement("div",{className:"beta-feature-tab-item"},c.createElement(b.Z,{sx:{fontWeight:500}},e.label),G&&e.extra),"data-componentid":"".concat(o,"-").concat(e.id,"-tab")})})))),c.createElement(h.Z,{index:0,value:W.id,"data-componentid":"".concat(o,"-legacy-builder")},c.createElement("div",{className:"ui basic very padded segment sign-on-methods-tab-content"},t)),c.createElement(h.Z,{index:1,value:W.id,className:"visual-editor-tab-panel","data-componentid":"".concat(o,"-visual-builder")},c.createElement(D.tV,null,c.createElement(Hn,{onIDPCreateWizardTrigger:n,className:"visual-editor",onUpdate:function(e,t){return ie(e,t)}})),d&&c.createElement(sr,null),d&&Z&&c.createElement("div",{className:"visual-editor-update-button-container"},c.createElement(P.KM,{variant:"contained",className:"update-button","data-componentid":"".concat(o,"-update-button"),onClick:function(){return ie(I)}},r("authenticationFlow:visualEditor.actions.update.label"))))))),te&&c.createElement(V,{mode:Y,open:te,onPrimaryActionClick:function(){K(Y),J(null),ne(!1),O(),k(null==Y?void 0:Y.mode)},onClose:function(){J(null),ne(!1)}}))};Rr.defaultProps={"data-componentid":"authentication-flow-builder",readOnly:!1};const _r=Rr;var Lr=n(37746),Pr=n(87029),kr=n(28676),Mr=function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("Custom")},Ur=function(e){var t;return null==e||null===(t=e.defaultAuthenticator)||void 0===t||null===(t=t.tags)||void 0===t?void 0:t.includes("2FA")};function xr(e){return xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(e)}var Dr=["script"];function Zr(e){return function(e){if(Array.isArray(e))return qr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Br(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=xr(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Br(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){if(e){if("string"==typeof e)return qr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qr(e,t):void 0}}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Gr=function(e){var t=e.application,n=e.authenticators,i=e.children,o=e.isSystemApplication,r=e.onUpdate,a=e.onAuthenticatorsRefetch,l=e.hiddenAuthenticators,s=e.authenticationSequence,u=(0,Lr.Z)().isAdaptiveAuthenticationAvailable,d=(0,p.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.applications})),m=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),f=(0,E.Tl)().data,g=(0,ge.Z)().UIConfig,h=null==g?void 0:g.connectionResourcesUrl,v=(0,x.$)().t,b=(0,p.I0)(),T=Vr((0,c.useState)((0,U.Z)(null==t?void 0:t.authenticationSequence)),2),S=T[0],O=T[1],I=Vr((0,c.useState)(!1),2),w=I[0],R=I[1],P=Vr((0,c.useState)({enterprise:[],external:[],internal:[],local:[],recovery:[],secondFactor:[],social:[],twoFactorCustom:[]}),2),k=P[0],M=P[1],D=Vr((0,c.useState)({height:0,width:0}),2),Z=D[0],j=D[1];(0,c.useEffect)((function(){var e;null!=t&&null!==(e=t.authenticationSequence)&&void 0!==e&&e.script||O(Fr(Fr({},S),{},{script:G.script}))}),[]),(0,c.useEffect)((function(){s&&O(s)}),[s]),(0,c.useEffect)((function(){if(n&&Array.isArray(n)&&n[0]&&n[1]){var e=n[0],t=n[1],i=[],o=[],r=[],a=[],l=[],c=[],s=[],u=[];e.forEach((function(e){e.name===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?a.push(e):A.j.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push(e):Mr(e)?Ur(e)?s.push(e):c.push(e):u.push(e)})),t.forEach((function(e){var t,n,a,c,s,u;e.image=pe.Zs.isOrganizationSSOConnection(null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.authenticatorId)?de.C.getAuthenticatorIcon(null!==(n=null===(a=e.federatedAuthenticators)||void 0===a?void 0:a.defaultAuthenticatorId)&&void 0!==n?n:null===(c=e.defaultAuthenticator)||void 0===c?void 0:c.authenticatorId):pe.Zs.resolveConnectionResourcePath(h,e.image),Mr(e)?l.push(e):null!==(s=A.j.SECOND_FACTOR_AUTHENTICATORS)&&void 0!==s&&s.includes(null==e||null===(u=e.defaultAuthenticator)||void 0===u?void 0:u.authenticatorId)?null==r||r.push(e):A.j.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push(e):o.push(e)})),M({enterprise:o,external:l,internal:c,local:u,recovery:a,secondFactor:r,social:i,twoFactorCustom:s})}}),[n]);var F=(0,c.useMemo)((function(){return m!==Pr.$B.SUBORGANIZATION&&u}),[u,m]),H=(0,c.useMemo)((function(){return!(null==d?void 0:d.disabledFeatures).includes("applications.loginFlow.visualEditor")}),[d]),V=(0,c.useMemo)((function(){return!(null==d?void 0:d.disabledFeatures).includes("applications.loginFlow.legacyEditor")}),[d]),B=(0,c.useMemo)((function(){var e;return null==S||null===(e=S.steps)||void 0===e?void 0:e.every((function(e){return!(0,Ee.Z)(e.options)}))}),[S]),q=function(){b((0,L.V_)({description:v("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:_.QU.WARNING,message:v("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},G=(0,c.useMemo)((function(){return Fr(Fr({},ki),{},{attributeStepId:1,requestPathAuthenticators:[],script:C.generateScript(2).join("\n"),subjectStepId:1,type:y.a1.DEFAULT})}),[]),$=(0,c.useMemo)((function(){G.script;var e=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(G,Dr);return(0,kr.Z)(e,S)}),[S,G]),z=(0,c.useCallback)((function(e,t){j((function(n){return Fr(Fr({},n),{},Hr({},e,t))}))}),[]);return c.createElement(ie.Provider,{value:{adaptiveAuthTemplates:f,addSignInOption:function(e,t){var n,i,o=Object.values(k).flat().find((function(e){var n;return e.id===t||(null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)===t}));if(o){var r=Zr(null==S?void 0:S.steps),a=function(e,t){var n,i=null==t?void 0:t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),o=A.j.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return i&&o&&(i=null==t?void 0:t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!i||(b((0,L.V_)({description:v("applications:notifications.duplicateAuthenticationStep.genericError.description"),level:_.QU.WARNING,message:v("applications:notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(o,null===(n=r[e])||void 0===n?void 0:n.options);A.j.HANDLER_AUTHENTICATORS.includes(t);var l=A.j.FIRST_FACTOR_AUTHENTICATORS.includes(t),c=A.j.SECOND_FACTOR_AUTHENTICATORS.includes(t)||function(e){return Mr(e)&&Ur(e)}(o),s=He.isSecondFactorAdditionValid(o.defaultAuthenticator.authenticatorId,e,r);if(!c||(l||0!==e&&s)&&(!l||0===e||s)){if((!_e.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||_e.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,b))&&a){var u=o.authenticators.find((function(e){return e.authenticatorId===o.defaultAuthenticator.authenticatorId}));null===(i=r[e])||void 0===i||null===(i=i.options)||void 0===i||i.push({authenticator:u.name,idp:o.idp}),O(Fr(Fr({},S),{},{steps:r}))}}else b((0,L.V_)({description:v("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:_.QU.WARNING,message:v("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},addSignInStep:function(){var e=Zr(null==S?void 0:S.steps),t=S.script;C.isDefaultScript(t,e.length)&&(t=C.generateScript(e.length+2).join("\n")),e.push({id:e.length+1,options:[]}),O(Fr(Fr({},S),{},{script:t,steps:e}))},applicationMetaData:t,authenticationSequence:S,authenticators:k,defaultAuthenticationSequence:G,hiddenAuthenticators:l,isAdaptiveAuthAvailable:F,isAuthenticationSequenceDefault:$,isConditionalAuthenticationEnabled:w,isLegacyEditorEnabled:V,isSystemApplication:o,isValidAuthenticationFlow:B,isVisualEditorEnabled:H,onActiveFlowModeChange:function(e){O(null==t?void 0:t.authenticationSequence)},onConditionalAuthenticationToggle:function(e){return R(e)},refetchApplication:function(){return r(t.id)},refetchAuthenticators:a,removeSignInOption:function(e,t){var n,i=Zr(null==S?void 0:S.steps),o=i[e],r=null===(n=o.options)||void 0===n?void 0:n.find((function(e){return e.authenticator===t})),a=-1;(null==r?void 0:r.authenticator)!==N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME&&(null==r?void 0:r.authenticator)!==N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME&&(null==r?void 0:r.authenticator)!==N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME||He.hasSpecificAuthenticatorInCurrentStep(N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,e,i)&&He.countTwoFactorAuthenticatorsInCurrentStep(e,i)<2&&o.options.map((function(e,t){e.authenticator===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&(a=t)}));var l=Vr(He.getLeftAndRightSideSteps(e,i),2),c=l[0],s=l[1];if(He.hasSpecificFactorsInSteps(Zr(A.j.SECOND_FACTOR_AUTHENTICATORS),s)){var u=Fr({},r),d=He.countSpecificFactorInSteps(Zr(A.j.SECOND_FACTOR_AUTHENTICATORS),s)===He.countSpecificFactorInSteps([N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME],s),p=[].concat(Zr(A.j.FIRST_FACTOR_AUTHENTICATORS),[N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME]).includes(u.authenticator),m=[].concat(Zr(A.j.TOTP_HANDLERS),Zr(A.j.EMAIL_OTP_HANDLERS)).includes(u.authenticator),f=He.getImmediateStepHavingSpecificFactors(A.j.SECOND_FACTOR_AUTHENTICATORS,i);if(p||m){var g=0,h=0;if(i[e].options.filter((function(e){A.j.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&g++,[].concat(Zr(A.j.TOTP_HANDLERS),Zr(A.j.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&h++})),d&&h<=1||!d&&g<=1)if(!(d?He.hasSpecificFactorsInSteps([].concat(Zr(A.j.TOTP_HANDLERS),Zr(A.j.EMAIL_OTP_HANDLERS)),c):He.hasSpecificFactorsInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,c))){var v=Vr(He.getLeftAndRightSideSteps(f,i),1)[0];if((d?He.countSpecificFactorInSteps([].concat(Zr(A.j.TOTP_HANDLERS),Zr(A.j.EMAIL_OTP_HANDLERS)),v):He.countSpecificFactorInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,v))<=1)return void q()}}}-1!==a&&i[e].options.splice(a,1);var b=i[e].options.findIndex((function(e){return e.authenticator===t}));-1!==b&&i[e].options.splice(b,1),O(Fr(Fr({},S),{},{steps:i}))},removeSignInStep:function(e){var t=Zr(null==S?void 0:S.steps),n=S.script;if(t.length<=1)b((0,L.V_)({description:v("applications:notifications.authenticationStepMin.genericError.description"),level:_.QU.WARNING,message:v("applications:notifications.authenticationStepMin.genericError.message")}));else{var i=Vr(He.getLeftAndRightSideSteps(e,t),3),o=i[0],r=i[1],a=i[2],l=He.hasSpecificFactorsInSteps(A.j.SECOND_FACTOR_AUTHENTICATORS,r),c=He.countSpecificFactorInSteps([N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME],r),s=He.countSpecificFactorInSteps(A.j.SECOND_FACTOR_AUTHENTICATORS,r)+He.countSpecificFactorInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,r);if(l)if(!(s===c?He.hasSpecificFactorsInSteps(A.j.TOTP_HANDLERS,o):He.hasSpecificFactorsInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,o)||He.checkImmediateStepHavingSpecificFactors(A.j.FIRST_FACTOR_AUTHENTICATORS,a)))return void b((0,L.V_)({description:v("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:_.QU.WARNING,message:v("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));C.isDefaultScript(n,t.length)&&(n=C.generateScript(t.length).join("\n")),t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),O(Fr(Fr({},S),{},{script:n,steps:t}))}},revertAuthenticationSequenceToDefault:function(){O(G)},updateAuthenticationSequence:function(e){O(Fr(Fr(Fr({},S),(0,U.Z)(e)),{},{type:y.a1.USER_DEFINED}))},updateVisualEditorFlowNodeMeta:z,visualEditorFlowNodeMeta:Z}},i)};var $r=n(23754),zr=n(30331),Wr=n(30639),Kr=n(16590),Qr=n(23750),Yr=n(36940),Jr=n(26060),Xr=n.n(Jr),ea=n(64704),ta=n(86885),na=n(71551),ia=n(39114),oa=n(50988),ra=n(66638),aa=n(23744),la=n(58934),ca=n(19980);function sa(e){return function(e){if(Array.isArray(e))return pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||da(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||da(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function da(e,t){if(e){if("string"==typeof e)return pa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(e,t):void 0}}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ma=(0,c.forwardRef)((function(e,t){var n=e.defaultActiveIndexes,i=e.onTemplateSelect,o=e.templates,r=e.title,a=e.visible,l=e.isELKConfigureClicked,s=e.onELKModalClose,u=e.readOnly,d=e["data-componentid"],m=(0,x.$)().t,f=ua((0,c.useState)(n),2),g=f[0],h=f[1],v=ua((0,c.useState)(null),2),b=v[0],E=v[1],y=ua((0,c.useState)(!1),2),A=y[0],T=y[1],S=ua((0,c.useState)(!1),2),O=S[0],I=S[1],w=ua((0,c.useState)(void 0),2),C=w[0],N=w[1],R=ua((0,c.useState)(void 0),2),k=R[0],M=R[1],U=ua((0,c.useState)(void 0),2),D=U[0],Z=U[1],j=ua((0,c.useState)(!1),2),F=j[0],H=j[1],V=(0,p.I0)(),B=function(e,t){var n=t.index,i=sa(g);if(i.includes(n)){var o=i.indexOf(n);i.splice(o,1)}else i.push(n);h(i)},q=function(e){var t={operation:"UPDATE",properties:[]};for(var n in e)t.properties.push({name:Jn.e.decodeConnectorPropertyName(n),value:e[n]});zn.K.connectorToggleName[null==C?void 0:C.name]&&zn.K.autoEnableConnectorToggleProperty&&t.properties.push({name:Jn.e.decodeConnectorPropertyName(zn.K.connectorToggleName[null==C?void 0:C.name]),value:"true"}),H(!0),(0,Kn.u9)(t,k,D).then((function(){V((0,L.V_)({description:m("extensions:manage.serverConfigurations.analytics.form.notification.success.description"),level:_.QU.SUCCESS,message:m("governanceConnectors:notifications.updateConnector.success.message")}))})).catch((function(e){var t,n;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?V((0,L.V_)({description:m("extensions:manage.serverConfigurations.analytics.form.notification.error.description"),level:_.QU.ERROR,message:m("governanceConnectors:notifications.updateConnector.error.message")})):V((0,L.V_)({description:m("governanceConnectors:notifications.updateConnector.genericError.description"),level:_.QU.ERROR,message:m("governanceConnectors:notifications.updateConnector.genericError.message")}))})).finally((function(){H(!1),G()}))},G=function(){T(!1),s()};(0,c.useEffect)((function(){l&&z()}),[l]);var $,z=function(){!function(){var e=Qn.v.OTHER_SETTINGS_CONNECTOR_CATEGORY_ID,t=Qn.v.ANALYTICS_ENGINE_CONNECTOR_ID;M(e),Z(t),I(!0),(0,Kn.PP)(e,t).then((function(e){N(e)})).catch((function(e){var t,n,i;null!=e&&e.response&&null!=e&&null!==(t=e.response)&&void 0!==t&&t.data&&null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.detail?V((0,L.V_)({description:m("governanceConnectors:notifications.getConnector.error.description",{description:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description}),level:_.QU.ERROR,message:m("governanceConnectors:notifications.getConnector.error.message")})):V((0,L.V_)({description:m("governanceConnectors:notifications.getConnector.genericError.description"),level:_.QU.ERROR,message:m("governanceConnectors:notifications.getConnector.genericError.message")}))})).finally((function(){I(!1)}))}(),T(!0)};return c.createElement(c.Fragment,null,b&&c.createElement(di,{template:b,open:!!b,onClose:function(){E(null)}}),c.createElement(oa.Z,{as:ca.Z,ref:t,className:"script-templates-panel",animation:"overlay",icon:"labeled",direction:"right",vertical:!0,secondary:!0,visible:a,"data-componentid":d},r&&"string"==typeof r?c.createElement(P.X6,{as:"h6",bold:!0},r):r,o&&o instanceof Array&&o.length>0?c.createElement(la.Z,{as:na.Z,className:"template-category-menu","data-componentid":"".concat(d,"-accordion"),fluid:!0,secondary:!0,vertical:!0},(0,aa.Z)(o,"order").map((function(e,t){return(null==e?void 0:e.templates)&&e.templates instanceof Array&&c.createElement(na.Z.Item,{key:t},c.createElement(la.Z.Title,{active:g.includes(t),className:"category-name",content:e.displayName,index:t,icon:c.createElement(Se.Z,{className:"angle right caret-icon"}),onClick:B,"data-componentid":"".concat(d,"-accordion-title-").concat(t)}),c.createElement(la.Z.Content,{className:"template-list",active:g.includes(t),"data-componentid":"".concat(d,"-accordion-content-").concat(t)},e.templates.map((function(e,t){return c.createElement(na.Z.Item,{key:t,className:"template-list-item","data-componentid":e.name},c.createElement(P.GI,{trigger:c.createElement("div",{className:"template-name"},e.name),content:e.title||e.name}),c.createElement("div",{className:"actions"},e.name===Nn&&c.createElement(P.u,{compact:!0,trigger:c.createElement(Se.Z,{className:"add-button",name:"cog",onClick:function(){z()}}),content:m("common:configure")}),c.createElement(P.u,{compact:!0,trigger:c.createElement(Se.Z,{className:"add-button",name:"info circle",onClick:function(){E(e)},"data-componentid":"".concat(e.name,"-info")}),content:m("applications:edit.sections.signOnMethod.sections.templateDescription.popupContent")}),!u&&c.createElement(P.u,{compact:!0,trigger:c.createElement(Se.Z,{className:"add-button",name:"add",onClick:function(){return i(e)},"data-componentid":"".concat(e.name,"-add")}),content:m("common:add")})))}))))}))):null),c.createElement(Te.Z,{open:A,onClose:G,size:"small",dimmer:"blurring"},c.createElement(Te.Z.Header,null,null==C?void 0:C.friendlyName,c.createElement(P.X6,{subHeading:!0,ellipsis:!0,as:"h6"},m("governanceConnectors:connectorSubHeading",{name:null==C?void 0:C.friendlyName}))),c.createElement(Te.Z.Content,{className:"elk-analytics-modal",scrolling:!0},O?c.createElement(P.pO,{inline:"centered",active:!0}):c.createElement(Yn.Z,{onSubmit:q,triggerSubmission:function(e){$=e},initialValues:C,isConnectorEnabled:!0,isSubmitting:F,hideUpdateButton:!0,isModalForm:!0})),c.createElement(Te.Z.Actions,null,c.createElement(Re.Z,null,c.createElement(Re.Z.Row,{column:1},c.createElement(Re.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(P.Qj,{"data-testid":"".concat(d,"-cancel-button"),floated:"left",onClick:function(){return G()}},m("apiResources:tabs.scopes.form.cancelButton"))),c.createElement(Re.Z.Column,{mobile:8,tablet:8,computer:8},c.createElement(P.KM,{"data-testid":"".concat(d,"-finish-button"),floated:"right",onClick:function(){return $()},loading:F},m("common:update"))))))))}));ma.defaultProps={"data-componentid":"script-templates-side-panel",defaultActiveIndexes:[-1],visible:!1};var fa=n(36836),ga={};ga.styleTagTransform=wt(),ga.setAttributes=Tt(),ga.insert=yt().bind(null,"head"),ga.domAPI=bt(),ga.insertStyleElement=Ot();ht()(fa.Z,ga);fa.Z&&fa.Z.locals&&fa.Z.locals;function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function va(){va=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var S=E.prototype=v.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ha(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function w(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=C(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function C(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ha(t)+" is not iterable")}return b.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function ba(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function Ea(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ya(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Aa=function(e){var t,n,i,o=e.authenticationSequence,r=e.onTemplateSelect,a=e.onScriptChange,l=e.readOnly,s=e.authenticationSteps,u=e.isDefaultScript,d=e.onAdaptiveScriptReset,m=e["data-componentid"],g=(0,x.$)().t,h=(0,P.fQ)().getLink,v=(0,p.I0)(),y=(0,c.useRef)(null),T=(0,c.useRef)(null),S=Ea((0,c.useState)(void 0),2),O=S[0],I=S[1],w=Ea((0,c.useState)(void 0),2),N=w[0],R=w[1],k=Ea((0,c.useState)(!0),2),M=k[0],D=k[1],j=Ea((0,c.useState)(void 0),2),F=j[0],H=j[1],V=Ea((0,c.useState)(!0),2),B=V[0],q=V[1],$=Ea((0,c.useState)(void 0),2),z=$[0],W=$[1],K=Ea((0,c.useState)(void 0),2),Q=K[0],Y=K[1],J=Ea((0,c.useState)(!1),2),ee=J[0],te=J[1],ne=Ea((0,c.useState)(!1),2),ie=ne[0],oe=ne[1],re=Ea((0,c.useState)(!1),2),ae=re[0],ce=re[1],se=Ea((0,c.useState)(!1),2),ue=se[0],de=se[1],pe=Ea((0,c.useState)(!1),2),fe=pe[0],ge=pe[1],be=Ea((0,c.useState)(!1),2),Ae=be[0],Te=be[1],Oe=Ea((0,c.useState)(void 0),2),we=Oe[0],Ce=Oe[1],Ne=(0,X.Ac)("console.application.signIn.adaptiveAuth"),Re=(0,X.wY)("console.application.signIn.adaptiveAuth"),_e=Ea((0,c.useState)(!1),2),Le=_e[0],Pe=_e[1],ke=Ea((0,c.useState)(!1),2),Me=ke[0],Ue=ke[1],xe=Ea((0,c.useState)(!1),2),De=xe[0],Ze=xe[1],je=Ea((0,c.useState)(null),2),Fe=je[0],He=je[1],Ve=Ea((0,c.useState)([]),2),Be=Ve[0],qe=Ve[1],Ge=Ea((0,c.useState)([]),2),$e=Ge[0],ze=Ge[1],We=Ea((0,c.useState)(!0),2),Ke=We[0],Qe=We[1],Ye=Ea((0,c.useState)(!1),2),Je=Ye[0],Xe=Ye[1],et=Ea((0,c.useState)(void 0),2),tt=et[0],nt=et[1],it=le(),ot=it.isConditionalAuthenticationEnabled,rt=it.onConditionalAuthenticationToggle,at=he.l.getInstance(),lt=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),ct=(0,X.EV)(null==lt||null===(t=lt.secretsManagement)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create),st=(0,X.EV)(null==lt||null===(n=lt.secretsManagement)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.read);(0,c.useEffect)((function(){st&&ut()}),[]);var ut=function(){Wr.F.getOrganizationType()!==Pr.$B.SUPER_ORGANIZATION&&Wr.F.getOrganizationType()!==Pr.$B.FIRST_LEVEL_ORGANIZATION&&Wr.F.getOrganizationType()!==Pr.$B.TENANT||(Qe(!0),(0,Lo.pR)({params:{secretType:ko.H0}}).then((function(e){qe(e.data),ze(e.data)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?v((0,L.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:_.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):v((0,L.V_)({description:g("secrets:errors.generic.description"),level:_.QU.ERROR,message:g("secrets:errors.generic.message")}))})).finally((function(){Qe(!1)})))};(0,c.useEffect)((function(){Ne===X.iK.ENABLED&&null!=Re&&Re.includes(X.yM.PREMIUM)&&Pe(!0)}),[]);var dt=function(){ut()},pt=function(){Te(!1),dt()};(0,c.useEffect)((function(){(0,E.im)().then((function(e){I(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?v((0,L.V_)({description:e.response.data.description,level:_.QU.ERROR,message:Yr.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE})):v((0,L.V_)({description:A.j.ADAPTIVE_AUTH_TEMPLATES_FETCH_ERROR,level:_.QU.ERROR,message:Yr.ru.API_RETRIEVAL_ERROR_ALERT_MESSAGE}))}))}),[]);var mt=function(){var e,t="100%";M&&(t="calc(100% - ".concat(null==y||null===(e=y.current)||void 0===e||null===(e=e.ref)||void 0===e||null===(e=e.current)||void 0===e?void 0:e.offsetWidth,"px)"));T.current.style.width=t};(0,c.useEffect)((function(){mt()}),[M]),(0,c.useEffect)((function(){mt()})),(0,c.useEffect)((function(){var e;l?rt(!0):null==o||!o.script||C.isDefaultScript(o.script,null==o||null===(e=o.steps)||void 0===e?void 0:e.length)?rt(!1):rt(!0)}),[o]),(0,c.useEffect)((function(){vt(null==o?void 0:o.script)}),[null==o?void 0:o.steps,null==o?void 0:o.script,s]);var gt,ht,vt=function(e){var t,n;if(!e&&0===(null==o||null===(t=o.steps)||void 0===t?void 0:t.length))return H(C.getDefaultScript()),void te(!1);if(!e&&(null==o||null===(n=o.steps)||void 0===n?void 0:n.length)>0)return H(C.generateScript(s+1)),void te(!1);if(Kr.StringUtils.isValidJSONString(e)){if(ee&&!ie&&C.minifyScript(z)!==C.minifyScript(JSON.parse(e)))return;return te(!0),H(JSON.parse(e)),void oe(!1)}return e&&function(e){for(var t=!1,n=Q>s?Q:s;n>0;n--)if(C.isDefaultScript(e,n)){t=!0;break}return t}(e)&&C.minifyScript(z)===C.minifyScript(F)||e&&C.isDefaultScript(null!=z?z:e,null!=Q?Q:s)&&C.minifyScript(z)!==C.minifyScript(F)?(Y(s),H(C.generateScript(s+1)),void te(!1)):e&&!C.isDefaultScript(null!=z?z:e,null!=Q?Q:s)?(Y(s),C.minifyScript(z)!==C.minifyScript(e)&&C.minifyScript(z)!==C.minifyScript(F)?void H(null!=z?z:e):(H(Xr().js((0,ra.jr)(e))),void te(!1))):void(u?bt():(H(e),te(!1)))},bt=function(){H(C.generateScript(s+1)),te(!1),d(),rt(!1)},Et=[{content:c.createElement("div",{className:"tour-step"},c.createElement(P.X6,{bold:!0,as:"h6"},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.heading")),c.createElement(P.xv,null,g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.0")),c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.0.content.1"},"Click on the ",c.createElement(P.EK,null,"Next")," button to learn about the process."))),disableBeacon:!0,placement:"top",target:'[data-tourid="conditional-auth"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(P.X6,{bold:!0,as:"h6"},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.heading")),c.createElement(P.xv,null,g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.1.content.0"))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-authentication-options-button"]'},{content:c.createElement("div",{className:"tour-step"},c.createElement(P.X6,{bold:!0,as:"h6"},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.heading")),c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.conditionalAuthTour.steps.2.content.0"},"Click here if you need to add more steps to the flow. Once you add a new step,",c.createElement(P.EK,null,"executeStep(STEP_NUMBER);")," will appear on the script editor."))),disableBeacon:!0,placement:"right",target:'[data-tourid="add-new-step-button"]'}],yt=function(){var e,t=(e=va().mark((function e(){return va().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tt){e.next=19;break}return e.prev=1,e.next=4,(0,Lo.c8)({params:{secretName:tt.secretName,secretType:tt.type}});case 4:v((0,L.V_)({description:g("secrets:alerts.deleteSecret.description",{secretName:tt.secretName,secretType:tt.type}),level:_.QU.SUCCESS,message:g("secrets:alerts.deleteSecret.message")})),e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=12;break}return v((0,L.V_)({description:e.t0.response.data.description,level:_.QU.ERROR,message:e.t0.response.data.message})),e.abrupt("return");case 12:v((0,L.V_)({description:g("secrets:errors.generic.description"),level:_.QU.ERROR,message:g("secrets:errors.generic.message")}));case 13:return e.prev=13,dt(),Xe(!1),nt(void 0),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[1,7,13,19]])})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){ba(r,i,o,a,l,"next",e)}function l(e){ba(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),At=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Oo.W.getUserPreferences();if(!(0,Ee.Z)(n)){var i=(0,U.Z)(n);(0,Io.Z)(null==i||null===(e=i.identityAppsSettings)||void 0===e?void 0:e.devPortal,A.j.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,t),Oo.W.setUserPreferences(i)}},Tt=function(){var e,t=Oo.W.getUserPreferences();return!(0,Ee.Z)(t)&&(0,ea.Z)(null==t||null===(e=t.identityAppsSettings)||void 0===e?void 0:e.devPortal,A.j.CONDITIONAL_AUTH_TOUR_STATUS_STORAGE_KEY,!1)},St=c.createElement(P.cV,{onClose:function(){Xe(!1),nt(void 0)},onSecondaryActionClick:function(){Xe(!1),nt(void 0)},onPrimaryActionClick:yt,open:Je,type:"negative",assertionHint:g("secrets:modals.deleteSecret.assertionHint"),assertionType:"checkbox",primaryAction:g("secrets:modals.deleteSecret.primaryActionButtonText"),secondaryAction:g("secrets:modals.deleteSecret.secondaryActionButtonText"),"data-componentid":"".concat(m,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(P.cV.Header,{"data-componentid":"".concat(m,"-delete-confirmation-modal-header")},g("secrets:modals.deleteSecret.title")),c.createElement(P.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(m,"-delete-confirmation-modal-message")},g("secrets:modals.deleteSecret.warningMessage")),c.createElement(P.cV.Content,{"data-componentid":"".concat(m,"-delete-confirmation-modal-content")},g("secrets:modals.deleteSecret.content")));return c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-section"},c.createElement(P.el,{fluid:!0,"data-componentid":"".concat(m,"-accordion"),className:"conditional-auth-accordion"},c.createElement(P.el.Title,{"data-componentid":"".concat(m,"-accordion-title"),active:ot,content:c.createElement(c.Fragment,null,c.createElement("div",{className:"conditional-auth-accordion-title"},!l&&c.createElement(ia.Z,{toggle:!0,"data-tourid":"conditional-auth",onChange:function(){ot?ce(!0):(at.publish("application-sign-in-method-enable-conditional-authentication"),rt(!0))},checked:ot,className:"conditional-auth-accordion-toggle"}),c.createElement("div",{className:"conditional-auth-accordion-title-text"},c.createElement(P.X6,{as:"h5",compact:!0,className:"heading"},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.heading"),Le&&c.createElement(P.GI,{basic:!0,inverted:!0,position:"top center",content:c.createElement("p",null,g("applications:featureGate.enabledFeatures.tags.premium.warning")),trigger:c.createElement(f.Z,{icon:c.createElement(ft.nb,null),label:g(ve.j.PREMIUM),className:"oxygen-menu-item-chip oxygen-chip-premium",style:{height:"fit-content"}})})),c.createElement(P.xv,{muted:!0,compact:!0},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.accordion.title.description"),c.createElement(P.eb,{link:h("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.learnMore")},g("common:learnMore"))))),c.createElement(ta.ZP,{continuous:!0,disableOverlay:!0,showSkipButton:!0,callback:function(e){e.status!==ta.Q_.FINISHED&&e.status!==ta.Q_.SKIPPED||At()},run:!!ot&&!1===Tt(),steps:Et,styles:{buttonClose:{display:"none"},tooltipContent:{paddingBottom:1}},locale:{back:g("common:back"),close:g("common:close"),last:g("common:done"),next:g("common:next"),skip:g("common:skip")}})),hideChevron:!0}),c.createElement(P.el.Content,{active:ot,className:"conditional-auth-accordion-content","data-componentid":"".concat(m,"-accordion-content")},c.createElement(oa.Z.Pushable,{className:"script-editor-with-template-panel no-border"},!l&&c.createElement(ma,{onELKModalClose:function(){return Ue(!1)},isELKConfigureClicked:Me,title:g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.templates.heading"),ref:y,onTemplateSelect:function(e){R(e),de(!0)},templates:(null==O?void 0:O.templatesJSON)&&Object.values(O.templatesJSON),visible:M,readOnly:l,"data-componentid":"".concat(m,"-script-templates-side-panel")}),c.createElement(oa.Z.Pusher,null,c.createElement("div",{className:"script-editor-container",ref:T},c.createElement(na.Z,{attached:"top",className:"action-panel",secondary:!0},c.createElement(na.Z.Menu,{position:"right"},void 0===(ht=h("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.apiReference"))?null:c.createElement(na.Z.Item,{className:"action p-3",href:ht,target:"_blank"},c.createElement(P.u,{compact:!0,trigger:c.createElement(P.zx,{labelPosition:"left"},c.createElement(P.dn,{className:"p-1 mr-1",transparent:!0,defaultIcon:!0,size:"micro",icon:(0,me.YT)().openBookIcon,"data-componentid":"".concat(m,"-code-editor-open-documentation")}),c.createElement("p",null,g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.apiDocumentation"))),content:g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.goToApiDocumentation"),size:"mini"})),(null==lt||null===(i=lt.secretsManagement)||void 0===i?void 0:i.enabled)&&st&&c.createElement(na.Z.Item,{className:"action ".concat(De?"selected-secret":"")},c.createElement("div",null,c.createElement(c.Fragment,null,c.createElement(P.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,me.YT)().keyIcon,"data-componentid":"".concat(m,"-code-editor-secret-selection"),onClick:function(e){He(e.currentTarget),Ze(!0)}}),c.createElement(wo.ZP,{anchorEl:Fe,open:De,onClose:function(){He(null),Ze(!1),ze(Be)},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},"data-componentid":"".concat(m,"-popover")},!Ke&&Be.length>0&&c.createElement("div",{className:"secret-search-input-container"},c.createElement(Ie.Z,{"data-componentid":"".concat(m,"-secret-search"),icon:"search",iconPosition:"left",className:"secret-search-input",placeholder:g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.search"),onChange:function(e){var t;null!==(t=e.currentTarget)&&void 0!==t&&t.value?ze(Be.filter((function(t){return t.secretName.toLowerCase().includes(e.currentTarget.value.toLowerCase())}))):ze(Be)},onClick:function(e){return e.stopPropagation()}})),c.createElement(No.Z,{"data-componentid":"".concat(m,"-secret-list"),className:"secrets-dropdown"},Ke?c.createElement(Ro.Z,{className:"create-new-secret-dropdown-item-loading","data-componentid":"".concat(m,"-list-loader")},c.createElement(yo.Z,{size:20})):$e.length>0?$e.map((function(e,t){return c.createElement(c.Fragment,null,c.createElement(Ro.Z,{key:e.secretId,"data-componentid":"".concat(m,"-list-item-").concat(e.secretId)},c.createElement(_o.Z,{primary:c.createElement(b.Z,{noWrap:!0},e.secretName),secondary:c.createElement(b.Z,{noWrap:!0},e.description)}),c.createElement(Gt.Z,{onClick:function(){return function(e){var t=null==we?void 0:we.getDoc(),n='"'.concat(e.secretName,'"');if(t.somethingSelected())t.replaceSelection(n);else{var i=t.getCursor();t.replaceRange(n,i)}}(e)},"data-componentid":"".concat(m,"-secret-add")},c.createElement(ft.pO,{size:14})),c.createElement(Gt.Z,{onClick:function(){!function(e){nt(e),Xe(!0)}(e)},"data-componentid":"".concat(m,"-secret-delete")},c.createElement(ft.XH,{size:14}))),t!==(null==$e?void 0:$e.length)-1&&c.createElement(Ht.Z,null))})):c.createElement(Ro.Z,{className:"create-new-secret-dropdown-empty-placeholder","data-componentid":"".concat(m,"-empty-placeholder")},c.createElement(_o.Z,null,c.createElement(b.Z,{variant:"body1",align:"center",gutterBottom:!0},g("authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.header")),c.createElement(Ht.Z,null),c.createElement(b.Z,{variant:"caption"},c.createElement(Z.c,{i18nKey:"authenticationFlow:scriptEditor.secretSelector.emptyPlaceholder.description"},"You can securely store sensitive information, such as API keys and other secrets, for use in conditional authentication scripts. Once stored, these secrets can be referenced in your scripts using the syntax",c.createElement(Co.Z,{variant:"caption"},"secrets.{secret_name}"),".")))),(null==lt||null===(gt=lt.secretsManagement)||void 0===gt?void 0:gt.enabled)&&ct&&!Ke&&(Wr.F.getOrganizationType()===Pr.$B.SUPER_ORGANIZATION||Wr.F.getOrganizationType()===Pr.$B.FIRST_LEVEL_ORGANIZATION||Wr.F.getOrganizationType()===Pr.$B.TENANT)&&c.createElement(c.Fragment,null,c.createElement(Ht.Z,null),c.createElement(Ro.Z,{onClick:function(){return null},disableGutters:!0,disablePadding:!0},c.createElement(G.Z,{fullWidth:!0,color:"primary",className:"create-new-secret-button",startIcon:c.createElement(ft.pO,{size:14}),onClick:function(){He(null),Ze(!1),Te(!0)},"data-componentid":"".concat(m,"-create-new-secret-button")},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.secretsList.create"))))))))),c.createElement(na.Z.Item,{className:"action"},c.createElement(P.u,{compact:!0,trigger:c.createElement("div",null,c.createElement(P.dn,{hoverable:!0,transparent:!0,defaultIcon:!0,size:"micro",hoverType:"rounded",icon:(0,me.YT)().maximize,onClick:function(){ge(!fe)},"data-componentid":"".concat(m,"-code-editor-fullscreen-toggle")})),content:function(){var e=g("common:goFullScreen");return fe&&setTimeout((function(){e=g("common:exitFullScreen")}),500),e},size:"mini"})),c.createElement(na.Z.Item,{className:"action"},c.createElement(P.u,{compact:!0,trigger:c.createElement("div",null,c.createElement(P.dn,{hoverable:!0,defaultIcon:!0,transparent:!0,size:"micro",hoverType:"rounded",icon:B?(0,me.YT)().lightMode:(0,me.YT)().darkMode,onClick:function(){q(!B)},"data-componentid":"".concat(m,"-code-editor-mode-toggle")})),content:g(B?"common:lightMode":"common:darkMode"),size:"mini"})),!l&&c.createElement(na.Z.Item,{onClick:function(){D(!M)},className:"action hamburger","data-componentid":"".concat(m,"-script-template-sidebar-toggle")},c.createElement(Se.Z,{name:"bars"})))),c.createElement("div",{className:"code-editor-wrapper"},c.createElement(P.pq,{editorDidMount:function(e){Ce(e)},lint:!0,allowFullScreen:!0,controlledFullScreenMode:!1,triggerFullScreen:fe,language:"javascript",sourceCode:F,options:{lineWrapping:!0},onChange:function(e,t,n){W(n),a(n)},onFullScreenToggle:function(e){ge(e),function(){var e=C.sourceToString(z);if(e!==C.sourceToString(F)){var t=null==we?void 0:we.doc.getCursor();H(e.split(A.j.LINE_BREAK)),null==we||we.doc.setCursor(t)}}()},theme:B?"dark":"light",readOnly:l,translations:{copyCode:g("common:copyToClipboard"),exitFullScreen:g("common:exitFullScreen"),goFullScreen:g("common:goFullScreen")},"data-componentid":"".concat(m,"-code-editor")}))))))),Ae&&c.createElement(Po.Z,{onClose:pt}),Je&&St),ae&&c.createElement(P.cV,{onClose:function(){return ce(!1)},type:"warning",open:ae,primaryAction:g("common:confirm"),secondaryAction:g("common:cancel"),onSecondaryActionClick:function(){return ce(!1)},onPrimaryActionClick:function(){ce(!1),bt()},"data-componentid":"".concat(m,"-delete-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(P.cV.Header,{"data-componentid":"".concat(m,"-reset-confirmation-modal-header")},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(m,"-reset-confirmation-modal-message")},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(P.cV.Content,{"data-componentid":"".concat(m,"-reset-confirmation-modal-content")},c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.content"},"This action will reset the adaptive authentication script back to default. Click ",c.createElement(P.EK,null,"Confirm")," to proceed."))),ue&&c.createElement(P.cV,{onClose:function(){return de(!1)},type:"warning",open:ue,primaryAction:g("common:confirm"),secondaryAction:g("common:cancel"),onSecondaryActionClick:function(){de(!1),R(void 0)},onPrimaryActionClick:function(){var e;de(!1),e=N,at.publish("application-sign-in-method-conditional-authentication-template",{type:(0,ye.Z)(e.name)}),oe(!0),r(e),R(void 0)},"data-componentid":"".concat(m,"-adaptive-script-template-change-confirmation-modal"),closeOnDimmerClick:!1},c.createElement(P.cV.Header,{"data-componentid":"".concat(m,"-reset-confirmation-modal-header")},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.heading")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(m,"-reset-confirmation-modal-message")},g("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.resetConfirmation.message")),c.createElement(P.cV.Content,{"data-componentid":"".concat(m,"-reset-confirmation-modal-content")},N.name===Nn&&c.createElement(c.Fragment,null,c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.configure"},"(",c.createElement(P.rU,{onClick:function(){return Ue(!0)},external:!1},"Configure"),"ELK Analytics settings for proper functionality.)")),c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"governanceConnectors:connectorCategories.otherSettings.connectors.elasticAnalyticsEngine.warningModal.reassure"},"You can update your settings anytime.")," (",c.createElement(P.EK,null,c.createElement(ft.UG,{size:14})),")")),c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.scriptBased.editor.changeConfirmation.content"},"The selected template will replace the existing script in the editor and the step configuration. Your current progress will be lost. Click ",c.createElement(P.EK,null,"Confirm")," to proceed."))))};Aa.defaultProps={"data-componentid":"script-based-flow"};var Ta=n(50250),Sa=n(719);function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ia(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ia(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var wa=function(e){var t=e.authenticators,n=e.className,i=e.onStepDelete,o=e.onAddAuthenticationClick,r=e.onStepOptionAuthenticatorChange,a=e.onStepOptionDelete,l=e.readOnly,s=e.showStepDeleteAction,u=e.showStepMeta,d=e.step,p=e.stepIndex,m=e.subjectStepId,f=e.attributeStepId,g=e.onSubjectCheckboxChange,h=e.onAttributeCheckboxChange,v=e.updateAuthenticationStep,b=e["data-componentid"],E=(0,x.$)().t,y=(0,ge.Z)().UIConfig,A=null==y?void 0:y.connectionResourcesUrl,T=M()("authentication-step-container timeline-body",n),S=Oa((0,c.useState)(!1),2),O=S[0],I=S[1],w=Oa((0,c.useState)(!1),2),C=w[0],R=w[1],_=Oa((0,c.useState)(null),2),L=_[0],k=_[1],U=le().isConditionalAuthenticationEnabled;(0,c.useEffect)((function(){var e=!1;d.options.map((function(t){[N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_NAME].includes(t.authenticator)?I(!1):I(!0),[N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME].includes(t.authenticator)&&(e=!0)})),R(e)}),[JSON.stringify(d.options)]);var D,Z=(0,c.useMemo)((function(){return m===p+1}),[m,p]),j=(0,c.useMemo)((function(){return f===p+1}),[f,p]),F=(0,c.useMemo)((function(){var e=!1;return d.options.map((function(t,n){t.authenticator===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&(e=!0,k(n))})),e}),[JSON.stringify(d.options)]);return c.createElement("div",{className:"timeline-item"},c.createElement("div",{className:"timeline-badge"},d.id),c.createElement("div",{className:T,"data-componentid":b},u&&c.createElement("div",{className:"authentication-step-actions"},c.createElement(P.X6,{className:"step-header",bold:"500",as:"h6"},E("common:step")," ",d.id),!l&&s&&c.createElement(Se.Z,{className:"delete-button",name:"cancel",onClick:function(){return i(p)},"data-componentid":"".concat(b,"-delete-button")})),c.createElement("div",{className:"authentication-step with-extension ".concat(d.options&&d.options instanceof Array&&d.options.length>0?"":"empty-placeholder-container")},d.options&&d.options instanceof Array&&d.options.length>0?c.createElement(c.Fragment,null,d.options.map((function(e,n){return function(e,n,i){if(t&&t instanceof Array&&t.length>0){var o,s,u,d,p=null;return(p=e.idp===N.$.LOCAL_IDP_IDENTIFIER?t.find((function(t){return t.defaultAuthenticator.name===e.authenticator})):(null==e?void 0:e.authenticator)===ue.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME?null==t?void 0:t.find((function(e){return(null==e?void 0:e.id)===Qt.F.getOrganizationAuthenticator().id})):t.find((function(t){return t.idp===e.idp})))?c.createElement(P.GI,{wide:!0,style:{minWidth:"200px"},key:n,hoverable:!0,disabled:!(null!==(o=p)&&void 0!==o&&o.authenticators&&p.authenticators instanceof Array&&p.authenticators.length>1),trigger:c.createElement("div",{className:"authenticator-item-wrapper","data-componentid":"".concat(b,"-option"),hidden:(null===(s=p)||void 0===s?void 0:s.id)===N.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID},c.createElement(Ce.Z,{fluid:!0,className:"basic-card authenticator-card"},c.createElement(Ce.Z.Content,null,!l&&c.createElement(we.Z,{basic:!0,floating:!0,circular:!0,className:"close-button",size:"mini",onClick:!l&&function(){return a(n,i)},"data-componentid":"".concat(b,"-close-button")},c.createElement(P.dn,{transparent:!0,size:"nano",icon:(0,me.s_)().crossIcon})),c.createElement(P.dn,{square:!0,inline:!0,className:"card-image",size:"micro",spaced:"right",floated:"left",icon:p.idp===Ta.Xi.LOCAL||pe.Zs.isOrganizationSSOConnection(null===(u=p.defaultAuthenticator)||void 0===u?void 0:u.authenticatorId)?p.image:pe.Zs.resolveConnectionResourcePath(A,p.image),"data-componentid":"".concat(b,"-image"),transparent:!0}),c.createElement("span",{"data-componentid":"".concat(b,"-option-name")},p.displayName)))),content:c.createElement("div",null,c.createElement(we.Z,{attached:"top"},E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.selectAuthenticator")),c.createElement(Ne.Z,{"data-componentid":"".concat(b,"-authenticator-selection")},null===(d=p)||void 0===d||null===(d=d.authenticators)||void 0===d?void 0:d.map((function(t){return c.createElement(Ne.Z.Field,{key:t.authenticatorId},c.createElement(Sa.Z,{label:t.name,name:t.name,value:t.authenticatorId,checked:t.name===e.authenticator,onChange:function(){return r(n,i,t)}}))}))))}):null}}(e,p,n)})),!l&&c.createElement(P.Qj,{"data-tourid":"add-authentication-options-button",className:"authenticator-item-wrapper",onClick:o},c.createElement(Se.Z,{name:"plus"}),E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication"))):!l&&c.createElement(c.Fragment,null,c.createElement(P.Qj,{fluid:!0,"data-tourid":"add-authentication-options-button",onClick:o},c.createElement(Se.Z,{name:"plus"}),E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.actions.addAuthentication")),c.createElement(P.$J,{subtitle:[E("applications:placeholders.emptyAuthenticatorStep.subtitles.0")],"data-componentid":"".concat(b,"-empty-placeholder")}))),!l&&u&&d.options&&d.options instanceof Array&&d.options.length>0&&c.createElement("div",{className:"checkboxes-extension"},O?c.createElement(c.Fragment,null,(D=!1,d.options.map((function(e){e.authenticator!==N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME||U||(D=!0)})),D?c.createElement(P.u,{trigger:c.createElement(ia.Z,{label:E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:Z,"data-componentid":"".concat(b,"-subject-step-checkbox"),onChange:function(){return g(p+1)},readOnly:!0}),content:E("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(b,"-subject-step-tooltip"),basic:!0}):c.createElement(ia.Z,{label:E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.subjectIdentifierFrom.label"),checked:Z,"data-componentid":"".concat(b,"-subject-step-checkbox"),onChange:function(){return g(p+1)},readOnly:Z})),d.options.some((function(e){return e.authenticator===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME&&!U}))?c.createElement(P.u,{trigger:c.createElement(ia.Z,{label:E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:j,"data-componentid":"".concat(b,"-attribute-step-checkbox"),onChange:function(){return h(p+1)},readOnly:!0}),content:E("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.idf.tooltipText"),"data-componentid":"".concat(b,"-attribute-step-tooltip"),basic:!0}):c.createElement(ia.Z,{label:E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.attributesFrom.label"),checked:j,"data-componentid":"".concat(b,"-attribute-step-checkbox"),onChange:function(){return h(p+1)},readOnly:j})):null,C?c.createElement(ia.Z,{label:E("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.forms.fields.enableBackupCodes.label"),checked:F,onChange:function(){F?a(p,L):v(p,N.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID)}}):null)))};function Ca(e){return function(e){if(Array.isArray(e))return _a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ra(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Ra(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){if(e){if("string"==typeof e)return _a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_a(e,t):void 0}}function _a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}wa.defaultProps={"data-componentid":"authentication-step"};var La=function(e){var t,n=e.authenticators,i=e.authenticationSequence,o=e.onIDPCreateWizardTrigger,r=e.onUpdate,a=e.readOnly,l=e.triggerUpdate,s=e.updateSteps,u=e.onAuthenticationSequenceChange,d=e.isApplicationShared,m=e["data-componentid"],f=(0,x.$)().t,g=(0,p.I0)(),h=Na((0,c.useState)([]),2),v=h[0],b=h[1],E=Na((0,c.useState)([]),2),T=E[0],S=E[1],O=Na((0,c.useState)([]),2),I=O[0],w=O[1],C=Na((0,c.useState)([]),2),R=C[0],k=C[1],M=Na((0,c.useState)([]),2),U=M[0],D=M[1],Z=Na((0,c.useState)([]),2),j=Z[0],F=Z[1],H=Na((0,c.useState)([]),2),V=H[0],B=H[1],q=Na((0,c.useState)([]),2),G=q[0],$=q[1],z=Na((0,c.useState)([]),2),W=z[0],K=z[1],Q=Na((0,c.useState)(1),2),Y=Q[0],J=Q[1],ee=Na((0,c.useState)(1),2),te=ee[0],ne=ee[1],ie=Na((0,c.useState)(!1),2),oe=ie[0],re=ie[1],ae=Na((0,c.useState)(!1),2),le=ae[0],ce=ae[1],se=Na((0,c.useState)(1),2),de=se[0],pe=se[1],me=Na((0,c.useState)(!1),2),fe=me[0],ge=me[1],ve=Na((0,c.useState)(0),2),be=ve[0],ye=ve[1],Ae=Na((0,c.useState)(0),2),Te=Ae[0],Se=Ae[1],Oe=Na((0,c.useState)(0),2),Ie=Oe[0],we=Oe[1],Ce=(0,c.useRef)(null),Ne=he.l.getInstance(),Re=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),Le=(0,X.EV)(null==Re||null===(t=Re.identityProviders)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.create);(0,c.useEffect)((function(){if(n&&Array.isArray(n)&&n[0]&&n[1]){var e=n[0],t=n[1],i=[],o=[],r=[],a=[],l=[],c=[],s=[],u=[];e.forEach((function(e){e.name===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?u.push(e):A.j.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?s.push(e):He.isCustomAuthenticator(e)?He.isSecondFactorAuthenticator(e)?l.push(e):a.push(e):c.push(e)})),t.forEach((function(e){A.j.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push(e):A.j.SECOND_FACTOR_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?s.push(e):He.isCustomAuthenticator(e)?r.push(e):o.push(e)})),k(s),D(u),w(c),b(o),S(i),F(r),B(a),$(l)}}),[n]),(0,c.useEffect)((function(){i&&(K(null==i?void 0:i.steps),J(null==i?void 0:i.subjectStepId),ne(null==i?void 0:i.attributeStepId))}),[i]),(0,c.useEffect)((function(){l&&(Fe()&&r({attributeStepId:te,requestPathAuthenticators:[],steps:W,subjectStepId:Y,type:y.a1.USER_DEFINED}))}),[l]),(0,c.useEffect)((function(){if(null!=Ce&&Ce.current)try{Ce.current.scrollLeft=Ce.current.scrollWidth}catch(e){}}),[W]),(0,c.useEffect)((function(){Ca(W).some((function(e){return!(0,Ee.Z)(e.options)}))?u(!1,W):u(!0,W)}),[W]);var Pe=function(e,t){var n,i=[].concat(Ca(I),Ca(v),Ca(T),Ca(R),Ca(U),Ca(j),Ca(V),Ca(G)).find((function(e){return e.id===t}));if(i){var o=Ca(W);e===o.length&&(o.push({id:o.length+1,options:[]}),s(!0));var r=function(e,t){var n,i=t.some((function(t){var n;return t.authenticator===(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name)})),o=A.j.EIDP_AUTHENTICATORS.includes(null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name);return i&&o&&(i=t.some((function(t){return t.idp===(null==e?void 0:e.idp)}))),!i||(g((0,L.V_)({description:f("applications:notifications.duplicateAuthenticationStep.genericError.description"),level:_.QU.WARNING,message:f("applications:notifications.duplicateAuthenticationStep.genericError.message")})),!1)}(i,o[e].options),a=A.j.FIRST_FACTOR_AUTHENTICATORS.includes(t),l=A.j.SECOND_FACTOR_AUTHENTICATORS.includes(t)||Mr(i)&&Ur(i),c=He.isSecondFactorAdditionValid(null==i||null===(n=i.defaultAuthenticator)||void 0===n?void 0:n.authenticatorId,e,o);if(A.j.HANDLER_AUTHENTICATORS.includes(t)&&re(!0),!l||(a||0!==e&&c)&&(!a||0===e||c)){if((!_e.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation||_e.tZ.signInMethod.authenticatorSelection.customAuthenticatorAdditionValidation(t,e,g))&&r){var u=i.authenticators.find((function(e){return e.authenticatorId===i.defaultAuthenticator.authenticatorId}));o[e].options.push({authenticator:u.name,idp:i.idp}),Ve(),K(o)}}else g((0,L.V_)({description:f("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.description"),level:_.QU.WARNING,message:f("applications:notifications.secondFactorAuthenticatorToFirstStep.genericError.message")}))}},ke=function(e,t){var n=Ca(W),i=n[e],o=i.options[t].authenticator;if(0===e&&o===ue.$.AUTHENTICATOR_NAMES.ORGANIZATION_ENTERPRISE_AUTHENTICATOR_NAME&&d)g((0,L.V_)({description:f("applications:notifications.authenticationStepDeleteErrorDueToAppShared.genericError.description"),level:_.QU.WARNING,message:f("applications:notifications.authenticationStepDeleteErrorDueToAppShared.genericError.message")}));else{if((o===N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME||o===N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME||o===N.$.AUTHENTICATOR_NAMES.SMS_OTP_AUTHENTICATOR_NAME)&&He.hasSpecificAuthenticatorInCurrentStep(N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME,e,n)&&He.countTwoFactorAuthenticatorsInCurrentStep(e,n)<2)return i.options.map((function(e,t){e.authenticator===N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME&&Se(t)})),we(t),ye(e),void ce(!0);var r=Na(He.getLeftAndRightSideSteps(e,n),2),a=r[0],l=r[1];if(He.hasSpecificFactorsInSteps(Ca(A.j.SECOND_FACTOR_AUTHENTICATORS),l)){var c=n[e].options[t],s=He.countSpecificFactorInSteps(Ca(A.j.SECOND_FACTOR_AUTHENTICATORS),l)===He.countSpecificFactorInSteps([N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME,N.$.AUTHENTICATOR_NAMES.EMAIL_OTP_AUTHENTICATOR_NAME],l),u=[].concat(Ca(A.j.FIRST_FACTOR_AUTHENTICATORS),[N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME]).includes(c.authenticator),p=[].concat(Ca(A.j.TOTP_HANDLERS),Ca(A.j.EMAIL_OTP_HANDLERS)).includes(c.authenticator),m=He.getImmediateStepHavingSpecificFactors(A.j.SECOND_FACTOR_AUTHENTICATORS,n);if(u||p){var h=0,v=0;if(n[e].options.filter((function(e){A.j.FIRST_FACTOR_AUTHENTICATORS.includes(e.authenticator)&&h++,[].concat(Ca(A.j.TOTP_HANDLERS),Ca(A.j.EMAIL_OTP_HANDLERS)).includes(e.authenticator)&&v++})),s&&v<=1||!s&&h<=1&&u)if(!(s?He.hasSpecificFactorsInSteps([].concat(Ca(A.j.TOTP_HANDLERS),Ca(A.j.EMAIL_OTP_HANDLERS)),a):He.hasSpecificFactorsInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,a))){var b=Na(He.getLeftAndRightSideSteps(m,n),1)[0];if((s?He.countSpecificFactorInSteps([].concat(Ca(A.j.TOTP_HANDLERS),Ca(A.j.EMAIL_OTP_HANDLERS)),b):He.countSpecificFactorInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,b))<=1)return void Me()}}}n[e].options.splice(t,1),K(n)}},Me=function(){g((0,L.V_)({description:f("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.description"),level:_.QU.WARNING,message:f("applications:notifications.deleteOptionErrorDueToSecondFactorsOnRight.genericError.message")}))},Ue=function(e,t,n){var i=Ca(W);i[e].options[t].authenticator=n.name,K(i)},xe=function(e){var t=Ca(W);if(t.length<=1)g((0,L.V_)({description:f("applications:notifications.authenticationStepMin.genericError.description"),level:_.QU.WARNING,message:f("applications:notifications.authenticationStepMin.genericError.message")}));else{var n=Na(He.getLeftAndRightSideSteps(e,t),3),i=n[0],o=n[1],r=n[2],a=He.hasSpecificFactorsInSteps(A.j.SECOND_FACTOR_AUTHENTICATORS,o),l=He.countSpecificFactorInSteps([N.$.AUTHENTICATOR_NAMES.TOTP_AUTHENTICATOR_NAME],o),c=He.countSpecificFactorInSteps(A.j.SECOND_FACTOR_AUTHENTICATORS,o)+He.countSpecificFactorInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,o);if(a)if(!(c===l?He.hasSpecificFactorsInSteps(A.j.TOTP_HANDLERS,i):He.hasSpecificFactorsInSteps(A.j.FIRST_FACTOR_AUTHENTICATORS,i)||He.checkImmediateStepHavingSpecificFactors(A.j.FIRST_FACTOR_AUTHENTICATORS,r)))return void g((0,L.V_)({description:f("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.description"),level:_.QU.WARNING,message:f("applications:notifications.authenticationStepDeleteErrorDueToSecondFactors.genericError.message")}));t.splice(e,1),t.forEach((function(e,t){return e.id=t+1})),K(t),s(!1)}},De=function(e){return e.some((function(e){return e.authenticator===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME}))},Ze=function(e){J(e)},je=function(e){ne(e)},Fe=function(){var e=Ca(W);return e.find((function(e){return(0,Ee.Z)(e.options)}))?(g((0,L.V_)({description:f("applications:notifications.emptyAuthenticationStep.genericError.description"),level:_.QU.WARNING,message:f("applications:notifications.emptyAuthenticationStep.genericError.message")})),!1):1===e.length&&1===e[0].options.length&&e[0].options[0].authenticator===N.$.AUTHENTICATOR_NAMES.IDENTIFIER_FIRST_AUTHENTICATOR_NAME?(g((0,L.V_)({description:f("applications:notifications.updateOnlyIdentifierFirstError.description"),level:_.QU.WARNING,message:f("applications:notifications.updateOnlyIdentifierFirstError.message")})),!1):!(1===e.length&&e[0].options.length>1&&De(e[0].options))||(g((0,L.V_)({description:f("applications:notifications.updateIdentifierFirstInFirstStepError.description"),level:_.QU.WARNING,message:f("applications:notifications.updateIdentifierFirstInFirstStepError.message")})),!1)},Ve=function(){W.forEach((function(e){De(e.options)&&(Y===e.id&&e.id<W.length&&J(Y+1),te===e.id&&e.id<W.length&&ne(te+1))}))};return c.createElement("div",{className:"authentication-flow-wrapper","data-componentid":m},c.createElement("div",{className:"authentication-flow-section timeline"},c.createElement("div",{className:"timeline-button start"},c.createElement(P.dn,{size:"x50",transparent:!0,icon:(0,ze.m9)().startButton})),c.createElement("div",{className:"authentication-steps-section",ref:Ce},W&&W instanceof Array&&W.length>0?W.map((function(e,t){return c.createElement(c.Fragment,{key:t},c.createElement(wa,{authenticators:[].concat(Ca(I),Ca(v),Ca(T),Ca(R),Ca(U),Ca(j),Ca(V),Ca(G)),onStepDelete:xe,onStepOptionAuthenticatorChange:Ue,onAddAuthenticationClick:function(){ge(!0),pe(t)},onStepOptionDelete:ke,showStepMeta:W.length>1,showStepDeleteAction:W.length>1,step:e,stepIndex:t,readOnly:a,subjectStepId:Y,attributeStepId:te,onAttributeCheckboxChange:je,onSubjectCheckboxChange:Ze,"data-componentid":"".concat(m,"-authentication-step-").concat(t),updateAuthenticationStep:Pe}))})):null),!a&&c.createElement("div",{className:"timeline-button add"},c.createElement(P.GI,{trigger:c.createElement("div",null,c.createElement(P.dn,{link:!0,transparent:!0,size:"mini",fill:"primary",icon:(0,ze.m9)().addButton,onClick:function(){var e=Ca(W);Ve(),e.push({id:e.length+1,options:[]}),Ne.publish("application-sign-in-method-click-add-new-step"),K(e),s(!0)},"data-tourid":"add-new-step-button"})),position:"left center",content:"Add a new authentication step"})),c.createElement("div",{className:"timeline-button done"},c.createElement(P.dn,{size:"x50",transparent:!0,icon:(0,ze.m9)().doneButton}))),fe&&c.createElement(ot,{authenticationSteps:W,allowSocialLoginAddition:Le,currentStep:de,open:fe,onModalSubmit:function(e){e.map((function(e){Pe(de,e.id)})),ge(!1)},onClose:function(){return ge(!1)},header:f("applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.heading"),authenticators:{enterprise:v,external:j,internal:V,local:I,recovery:U,secondFactor:R,social:T,twoFactorCustom:G},showStepSelector:!1,stepCount:W.length,onIDPCreateWizardTrigger:o}),oe&&c.createElement(P.cV,{onClose:function(){return re(!1)},type:"warning",open:oe,primaryAction:f("common:confirm"),secondaryAction:f("common:cancel"),onPrimaryActionClick:function(){return re(!1)},"data-componentid":"".concat(m,"-handler-disclaimer-modal"),closeOnDimmerClick:!1},c.createElement(P.cV.Header,{"data-componentid":"".concat(m,"-delete-confirmation-modal-header")},f("applications:confirmations.handlerAuthenticatorAddition.header")),c.createElement(P.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(m,"-delete-confirmation-modal-message")},f("applications:confirmations.handlerAuthenticatorAddition.message")),c.createElement(P.cV.Content,{"data-componentid":"".concat(m,"-delete-confirmation-modal-content")},f("applications:confirmations.handlerAuthenticatorAddition.content"))),le&&c.createElement(P.cV,{onClose:function(){return ce(!1)},type:"negative",open:le,primaryAction:f("common:continue"),secondaryAction:f("common:cancel"),onPrimaryActionClick:function(){ke(be,Te),ke(be,Ie),ce(!1)},onSecondaryActionClick:function(){return ce(!1)},"data-componentid":"".concat(m,"-backupcode-delete-confirm-modal"),closeOnDimmerClick:!1},c.createElement(P.cV.Header,{"data-componentid":"".concat(m,"-backupcode-delete-confirmation-modal-header")},f("applications:confirmations.backupCodeAuthenticatorDelete.header")),c.createElement(P.cV.Content,{"data-componentid":"".concat(m,"-backupcode-delete-confirmation-modal-content")},f("applications:confirmations.backupCodeAuthenticatorDelete.content"))))};La.defaultProps={"data-componentid":"step-based-flow"};const Pa=JSON.parse('{"steps":[{"id":1,"options":[{"idp":"LOCAL","authenticator":"BasicAuthenticator"}]}]}');var ka=n(39974),Ma={};Ma.styleTagTransform=wt(),Ma.setAttributes=Tt(),Ma.insert=yt().bind(null,"head"),Ma.domAPI=bt(),Ma.insertStyleElement=Ot();ht()(ka.Z,Ma);ka.Z&&ka.Z.locals&&ka.Z.locals;function Ua(e){return Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(e)}function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){Za(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Za(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ua(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Ua(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ua(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fa(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ha=function(e){var t=e.appId,n=e.applicationName,i=e.authenticators,o=e.authenticationSequence,r=e.clientId,a=e.isLoading,l=e.setIsLoading,s=e.onIDPCreateWizardTrigger,d=e.onReset,m=e.onUpdate,f=e.readOnly,g=e.isApplicationShared,h=e["data-componentid"],v=(0,x.$)().t,b=(0,P.fQ)().getLink,y=(0,p.I0)(),A=le().isSystemApplication,T=(0,u.Z)().setAiGeneratedLoginFlow,S=(0,p.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),O=ja((0,c.useState)(void 0),2),I=O[0],w=O[1],R=(0,Lr.Z)().isAdaptiveAuthenticationAvailable,k=ja((0,c.useState)(!1),2),M=k[0],U=k[1],D=ja((0,c.useState)(void 0),2),j=D[0],F=D[1],H=ja((0,c.useState)(1),2),V=H[0],B=H[1],q=ja((0,c.useState)(!1),2),G=q[0],$=q[1],z=ja((0,c.useState)(!1),2),W=z[0],Y=z[1],J=ja((0,c.useState)(),2),X=J[0],ee=J[1],te=ja((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=ja((0,c.useState)(void 0),2),re=oe[0],ae=oe[1],ce=ja((0,c.useState)(null),2),se=ce[0],ue=ce[1],de=he.l.getInstance();(0,c.useEffect)((function(){var e=He.isConnectionsJITUPConflictWithMFA({federatedAuthenticators:i&&i[1],steps:X,subjectStepId:null==o?void 0:o.subjectStepId});ae(e);var t=He.isFederatedConflictWithSMSOTP({federatedAuthenticators:i&&i[1],steps:X,subjectStepId:null==o?void 0:o.subjectStepId});ue(t)}),[V,i,X]),(0,c.useEffect)((function(){M&&U(!1)}),[M]),(0,c.useEffect)((function(){f||(0,Qr.Rz)(N.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID).then((function(e){var t=null==e?void 0:e.properties,n=null==t?void 0:t.find((function(e){return"FIDO.EnablePasskeyProgressiveEnrollment"===e.name})),i="true"===(null==n?void 0:n.value);ie(i)}))}),[]),(0,c.useEffect)((function(){o&&null!=o&&o.steps&&Array.isArray(o.steps)&&(w(o),B(o.steps.length))}),[o]);var pe,me=function(e,i){var o;o=i?{authenticationSequence:Da(Da({},Pa),{},{script:""})}:{authenticationSequence:Da(Da({},e),{},{script:j})},A&&(o.name=n),l(!0),(0,E.bz)(t,o).then((function(){y((0,L.V_)({description:v("applications:notifications.updateAuthenticationFlow.success.description"),level:_.QU.SUCCESS,message:v("applications:notifications.updateAuthenticationFlow.success.message")})),m(t)})).catch((function(e){var t;e.response&&"APP-60001"===(null===(t=e.response.data)||void 0===t?void 0:t.code)?y((0,L.V_)({description:c.createElement("p",null,c.createElement(Z.c,{i18nKey:"applications:notifications.conditionalScriptLoopingError.description"},"Looping constructs such as ",c.createElement(P.EK,null,"for"),", ",c.createElement(P.EK,null,"while")," and,",c.createElement(P.EK,null,"forEach")," are not allowed in the conditional authentication script.")),level:_.QU.ERROR,message:v("applications:notifications.conditionalScriptLoopingError.message")})):e.response&&e.response.data&&e.response.data.description?y((0,L.V_)({description:e.response.data.description,level:_.QU.ERROR,message:v("applications:notifications.updateAuthenticationFlow.error.message")})):y((0,L.V_)({description:v("applications:notifications.updateAuthenticationFlow.genericError.description"),level:_.QU.ERROR,message:v("applications:notifications.updateAuthenticationFlow.genericError.message")}))})).finally((function(){l(!1),T(void 0)}))},fe=function(){C.isEmptyScript(j)&&(R&&S!==Pr.$B.SUBORGANIZATION?(F(C.generateScript(V+1).join("\n")),$(!0)):F("")),de.compute((function(){var e={"script-based":!C.isDefaultScript(j,V),"step-based":[]};X.forEach((function(t){var n={};Array.isArray(null==t?void 0:t.options)&&t.options.length>0&&(t.options.forEach((function(e,t){n[t]=(0,ye.Z)(null==e?void 0:e.authenticator)})),e["step-based"].push(n))})),de.publish("application-sign-in-method-click-update-button",{"client-id":r,type:e})})),U(!0)};return c.createElement("div",null,c.createElement("div",null,c.createElement(P.X6,{as:"h4",className:"display-inline-block"},v("applications:edit.sections.signOnMethod.sections.customization.heading")),!f&&c.createElement("div",{className:"display-inline-block floated right"},c.createElement(P.Qj,{className:"pr-0",onClick:function(){de.publish("application-revert-sign-in-method-default",{"client-id":r}),me(null,!0),d()}},c.createElement(Se.Z,{name:"refresh"}),v("applications:edit.sections.signOnMethod.sections.customization.revertToDefaultButton.label")),c.createElement(P.kW,{inline:!0,popup:!0},v("applications:edit.sections.signOnMethod.sections.customization.revertToDefaultButton.hint")))),c.createElement(Oe.Z,{hidden:!0}),function(){var e;if(null==o?void 0:o.steps.some((function(e){return!(null==e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===N.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})))})))return ne?!(null==o||null===(e=o.steps[0])||void 0===e||!e.options.find((function(e){return(null==e?void 0:e.authenticator)===N.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME})))?c.createElement(P.v0,{type:"info",content:c.createElement(c.Fragment,null,v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),c.createElement("p",null,c.createElement(Z.c,{i18nKey:v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyAsFirstStepWhenprogressiveEnrollmentEnabled")},c.createElement("strong",null,"Note : ")," For on-the-fly user enrollment with passkeys, use the ",c.createElement("strong",null,"Passkeys Progressive Enrollment")," template in",c.createElement("strong",null," Conditional Authentication")," section."),c.createElement(P.eb,{link:b("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},v("common:learnMore"))))}):c.createElement(P.v0,{type:"info",content:c.createElement(c.Fragment,null,v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentEnabled"),c.createElement("p",null,c.createElement(Z.c,{i18nKey:v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.passkeyIsNotFirstStepWhenprogressiveEnrollmentEnabled")},"Users can enroll passkeys on-the-fly. If users wish to enroll multiple passkeys they should do so via ",c.createElement("strong",null,"My Account"),"."),c.createElement(P.eb,{link:b("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},v("common:learnMore"))))}):c.createElement(P.v0,{type:"info",content:c.createElement(c.Fragment,null,c.createElement(Z.c,{i18nKey:v("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.info.progressiveEnrollmentDisabled")},c.createElement(P.rU,{external:!1,onClick:function(){Q.m.push(K.$.getPaths().get("IDP_EDIT").replace(":id",N.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID))}},"Passkey progressive enrollment"),"\xa0 is disabled. Users must enroll their passkeys through ",c.createElement("strong",null,"My Account")," to use passwordless sign-in."),c.createElement(P.eb,{link:b("develop.applications.editApplication.signInMethod.fido"),showEmptyLink:!1},v("common:learnMore")))})}(),null!=re&&re.conflicting||null==se||!se.conflicting||null==se||!se.idpList.length?null:(pe=se.idpList,c.createElement(P.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"info",content:c.createElement(c.Fragment,null,pe.length>1?c.createElement(c.Fragment,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.multipleIdps"},"Asgardeo requires the user's profile containing the",c.createElement("i",null," mobile number")," to configure",c.createElement("strong",null," SMS OTP")," with the following connections."),c.createElement("ul",{className:"mb-3"},null==pe?void 0:pe.map((function(e){var t=e.name;return c.createElement("li",{key:t},c.createElement("strong",null,t))})))):c.createElement(c.Fragment,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.federatedSMSOTPConflictNote.singleIdp",values:{idpName:pe[0].name}},"Asgardeo requires the user's profile containing the",c.createElement("i",null," mobile number")," to configure ",c.createElement("strong",null," SMS OTP "),"with ",c.createElement("strong",null,pe[0].name)," connection.")))})),c.createElement(La,{isApplicationShared:g,authenticators:i,authenticationSequence:I,isLoading:a,onUpdate:me,triggerUpdate:M,readOnly:f,updateSteps:function(e){B(e?V+1:V-1)},onIDPCreateWizardTrigger:s,onAuthenticationSequenceChange:function(e,t){Y(e),ee(t)},"data-componentid":"".concat(h,"-step-based-flow")}),c.createElement(Oe.Z,{className:"x1",hidden:!0}),null!=re&&re.conflicting&&null!=re&&re.idpList.length?function(){var e=re.idpList,t=e.length>1;return c.createElement(P.v0,{"data-componentid":"jit-provisioning-mfa-in-sequence-warning-message",type:"warning",header:"Warning",content:c.createElement(c.Fragment,null,t?c.createElement(c.Fragment,null,"Currently, Just-in-Time (JIT) user provisioning is ",c.createElement("strong",null,"disabled")," for the following connections:",c.createElement("ul",{className:"mb-3"},null==e?void 0:e.map((function(e,t){var n=e.name;return c.createElement("li",{key:t},c.createElement("strong",null,n))})))):c.createElement(c.Fragment,null,"Currently, Just-in-Time(JIT) user provisioning is disabled for the ",c.createElement("strong",null,e[0].name)," connection."),t?c.createElement(c.Fragment,null,"To use MFA with these connections, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for these connections during user login."):c.createElement(c.Fragment,null,"To use MFA with this connection, ",c.createElement("em",null,"enable JIT provisioning")," or use an ",c.createElement("em",null,"authentication script")," to skip the MFA options for this connection during user login."),c.createElement(P.eb,{link:b("develop.connections.edit.advancedSettings.jit")},"Learn More"))})}():null,c.createElement(Oe.Z,{className:"x2"}),R&&S!==Pr.$B.SUBORGANIZATION&&c.createElement(Aa,{authenticationSequence:I,isLoading:a,onTemplateSelect:function(e){if(e){$(!1);var t=Da({},I);if(e.code&&(t=Da(Da({},t),{},{script:JSON.stringify(e.code)})),e.defaultAuthenticators){for(var n=[],i=0,o=Object.entries(e.defaultAuthenticators);i<o.length;i++){var r=ja(o[i],2),a=r[0],l=r[1];n.push({id:parseInt(a,10),options:l.local.map((function(e){return{authenticator:e,idp:"LOCAL"}}))})}t=Da(Da({},t),{},{attributeStepId:1,steps:n,subjectStepId:1})}w(t)}},onScriptChange:function(e){F(e)},readOnly:f,authenticationSteps:V,isDefaultScript:G,onAdaptiveScriptReset:function(){return $(!0)},"data-componentid":"".concat(h,"-script-based-flow")}),f?null:c.createElement(c.Fragment,null,c.createElement(Oe.Z,{hidden:!0}),c.createElement(P.KM,{onClick:fe,"data-componentid":"".concat(h,"-update-button"),disabled:W||a,loading:a},v("common:update"))))};Ha.defaultProps={"data-componentid":"sign-in-method-customization"};var Va=function(e){var t,n=e.isLoading,i=e.onLoginFlowSelect,o=e.hiddenOptions,r=e.clientId,a=e["data-componentid"],l=(0,x.$)().t,s=(0,P.kH)().isMobileViewport,u=le().hiddenAuthenticators,d=(0,fe.Z)().deploymentConfig,p=he.l.getInstance();return c.createElement(ca.Z,{"data-componentid":a,loading:n,className:"sign-in-method-landing",basic:!0},c.createElement(Re.Z,null,c.createElement(Re.Z.Row,null,c.createElement(Re.Z.Column,{width:16},c.createElement(P.X6,{as:"h2",textAlign:s?"center":"left"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.heading")))),c.createElement(Re.Z.Row,{className:"pt-5"},c.createElement(Re.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pr-3"},!o.includes(y.Tb.DEFAULT)&&c.createElement(c.Fragment,null,c.createElement(P.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.default")),c.createElement(P.rJ,{fluid:!0,"data-componentid":"basic-configuration-flow-card",image:(0,ze.C4)().basic,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.defaultConfig.description"),onClick:function(){p.publish("application-begin-sign-in-default-configuration",{"client-id":r}),i(y.Tb.DEFAULT)},showSetupGuideButton:!1,showCardAction:!1})),c.createElement(P.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.multiFactorLogin")),!o.includes(y.Tb.SECOND_FACTOR_TOTP)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"totp-mfa-flow-card",image:(0,ze.C4)().totp,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.totp.description"),onClick:function(){p.publish("application-begin-sign-in-totp-mfa",{"client-id":r}),i(y.Tb.SECOND_FACTOR_TOTP)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(y.Tb.SECOND_FACTOR_EMAIL_OTP)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"email-otp-mfa-flow-card",image:(0,ze.C4)().emailOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTP.description"),onClick:function(){p.publish("application-begin-sign-in-email-otp-mfa",{"client-id":r}),i(y.Tb.SECOND_FACTOR_EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(y.Tb.SECOND_FACTOR_SMS_OTP)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"sms-otp-mfa-flow-card",image:(0,ze.C4)().smsOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTP.description"),onClick:function(){p.publish("application-begin-sign-in-sms-otp-mfa",{"client-id":r}),i(y.Tb.SECOND_FACTOR_SMS_OTP)},showSetupGuideButton:!1,showCardAction:!1}))),c.createElement(Re.Z.Column,{computer:8,tablet:16,mobile:16,className:"flow-options-column"},c.createElement("div",{className:"pl-3"},c.createElement(P.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.passwordlessLogin")),!(null!=o&&o.includes(y.Tb.FIDO_LOGIN))&&!(null!=u&&u.includes(N.$.AUTHENTICATOR_NAMES.FIDO_AUTHENTICATOR_NAME))&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"usernameless-flow-card",image:(0,ze.C4)().fido,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.passkey.description"),onClick:function(){p.publish("application-begin-sign-in-biometrics-password-less",{"client-id":r}),i(y.Tb.FIDO_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(y.Tb.MAGIC_LINK))&&!(null!=u&&u.includes(N.$.AUTHENTICATOR_NAMES.MAGIC_LINK_AUTHENTICATOR_NAME))&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"magic-link-flow-card",image:(0,ze.C4)().magicLink,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.magicLink.description"),onClick:function(){p.publish("application-begin-sign-in-magiclink-password-less",{"client-id":r}),i(y.Tb.MAGIC_LINK)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(y.Tb.EMAIL_OTP))&&!(null!=u&&u.includes(N.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID))&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"email-otp-flow-card",image:(0,ze.C4)().emailOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.emailOTPFirstFactor.description"),onClick:function(){p.publish("application-begin-sign-in-email-otp-password-less",{"client-id":r}),i(y.Tb.EMAIL_OTP)},showSetupGuideButton:!1,showCardAction:!1}),!(null!=o&&o.includes(y.Tb.SMS_OTP))&&!(null!=u&&u.includes(N.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID))&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"sms-otp-flow-card",image:(0,ze.C4)().smsOTP,imageSize:"mini",header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTPFirstFactor.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.smsOTPFirstFactor.description"),onClick:function(){p.publish("application-begin-sign-in-sms-otp-password-less",{"client-id":r}),i(y.Tb.SMS_OTP)},showSetupGuideButton:!1,showCardAction:!1}),(!o.includes(y.Tb.GOOGLE_LOGIN)||!o.includes(y.Tb.FACEBOOK_LOGIN)||!o.includes(y.Tb.GITHUB_LOGIN)||!o.includes(y.Tb.MICROSOFT_LOGIN)||!o.includes(y.Tb.APPLE_LOGIN))&&c.createElement(c.Fragment,null,c.createElement(P.X6,{as:"h4"},l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.headings.socialLogin")),!o.includes(y.Tb.GOOGLE_LOGIN)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"google-login-flow-card",imageSize:"mini",image:(0,ze.C4)().google,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.google.description"),onClick:function(){p.publish("application-begin-sign-in-google-social-login",{type:r}),i(y.Tb.GOOGLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(y.Tb.GITHUB_LOGIN)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"github-login-flow-card",imageSize:"mini",image:(0,ze.C4)().github,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.github.description"),onClick:function(){return i(y.Tb.GITHUB_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(y.Tb.FACEBOOK_LOGIN)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"facebook-login-flow-card",imageSize:"mini",image:(0,ze.C4)().facebook,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.facebook.description"),onClick:function(){return i(y.Tb.FACEBOOK_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(y.Tb.MICROSOFT_LOGIN)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"microsoft-login-flow-card",imageSize:"mini",image:(0,ze.C4)().microsoft,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.microsoft.description"),onClick:function(){p.publish("application-begin-sign-in-microsoft-social-login",{type:r}),i(y.Tb.MICROSOFT_LOGIN)},showSetupGuideButton:!1,showCardAction:!1}),!o.includes(y.Tb.APPLE_LOGIN)&&c.createElement(P.rJ,{fluid:!0,"data-componentid":"apple-login-flow-card",imageSize:"mini",image:(0,ze.C4)().apple,header:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.heading"),description:l("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.types.apple.description"),onClick:function(){return i(y.Tb.APPLE_LOGIN)},showSetupGuideButton:!1,showCardAction:!1,disabledHint:l("console:develop.pages.authenticationProviderTemplate.disabledHint.apple"),disabled:(null===(t=new URL(null==d?void 0:d.serverOrigin))||void 0===t?void 0:t.hostname)===se.f.LOCAL_SERVER_URL})))))))};Va.defaultProps={"data-componentid":"sign-in-method-landing",hiddenOptions:[y.Tb.FACEBOOK_LOGIN,y.Tb.GITHUB_LOGIN]};const Ba=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"AppleOIDCAuthenticator","idp":"<APPLE_IDP>"}]}]}'),qa=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),Ga=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FacebookAuthenticator","idp":"<FACEBOOK_IDP>"}]}]}'),$a=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GithubAuthenticator","idp":"<GITHUB_IDP>"}]}]}'),za=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"GoogleOIDCAuthenticator","idp":"<GOOGLE_IDP>"}]}]}'),Wa=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"MagicLinkAuthenticator","idp":"LOCAL"}]}]}'),Ka=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"OpenIDConnectAuthenticator","idp":"Microsoft"}]}]}'),Qa=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"FIDOAuthenticator","idp":"LOCAL"}]}]}'),Ya=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"email-otp-authenticator","idp":"LOCAL"}]}]}'),Ja=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}'),Xa=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"BasicAuthenticator","idp":"LOCAL"}]},{"id":2,"options":[{"authenticator":"totp","idp":"LOCAL"}]}]}'),el=JSON.parse('{"steps":[{"id":1,"options":[{"authenticator":"sms-otp-authenticator","idp":"LOCAL"}]}]}');function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}function nl(e){return function(e){if(Array.isArray(e))return cl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ll(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ol(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?il(Object(n),!0).forEach((function(t){rl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=tl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=tl(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tl(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||ll(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ll(e,t){if(e){if("string"==typeof e)return cl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cl(e,t):void 0}}function cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var sl=null,ul=function(e){var t,n=e.application,i=e.appId,o=e.authenticationSequence,r=e.clientId,a=e.isLoading,l=e.onUpdate,s=e.readOnly,u=e.isSystemApplication,d=e.hiddenAuthenticators,m=e["data-componentid"],f=(0,x.$)().t,g=(0,ge.Z)().UIConfig,h=(0,p.I0)(),v=null==g?void 0:g.connectionResourcesUrl,b="true"===(null==n||null===(t=n.advancedConfigurations)||void 0===t||null===(t=t.additionalSpProperties)||void 0===t||null===(t=t.find((function(e){return"isAppShared"===(null==e?void 0:e.name)})))||void 0===t?void 0:t.value),E=al((0,c.useState)(void 0),2),T=E[0],S=E[1],O=al((0,c.useState)(void 0),2),I=O[0],w=O[1],R=al((0,c.useState)(void 0),2),k=R[0],M=R[1],D=al((0,c.useState)(void 0),2),j=D[0],F=D[1],H=al((0,c.useState)(void 0),2),V=H[0],B=H[1],q=al((0,c.useState)(void 0),2),G=q[0],$=q[1],z=al((0,c.useState)(void 0),2),W=z[0],Y=z[1],J=al((0,c.useState)(void 0),2),X=J[0],ee=J[1],te=al((0,c.useState)(!1),2),ne=te[0],ie=te[1],oe=al((0,c.useState)(!0),2),re=oe[0],ae=oe[1],le=al((0,c.useState)(!1),2),ce=le[0],de=le[1],me=al((0,c.useState)(void 0),2),fe=me[0],ve=me[1],be=al((0,c.useState)(o),2),ye=be[0],Ae=be[1],Te=al((0,c.useState)(void 0),2),Se=Te[0],Ie=Te[1],we=al((0,c.useState)(void 0),2),Ce=we[0],Ne=we[1],Re=al((0,c.useState)(!1),2),_e=Re[0],Le=Re[1],Pe=al((0,c.useState)(void 0),2),ke=Pe[0],Me=Pe[1],Ue=he.l.getInstance();(0,c.useEffect)((function(){xe().finally(),Kr.LocalStorageUtils.setValueInLocalStorage(A.j.AUTHENTICATORS_LOCAL_STORAGE_KEY,JSON.stringify([]))}),[]),(0,c.useEffect)((function(){o&&Ae(o)}),[o]);var xe=function(e){return ae(!0),zr.z.getAllAuthenticators().then((function(t){var n=[],i=[],o=[],r=[],a=[];t[1].filter((function(e){e.defaultAuthenticator.authenticatorId===ue.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID?n.push(e):e.defaultAuthenticator.authenticatorId===ue.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID?i.push(e):e.defaultAuthenticator.authenticatorId===ue.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID?o.push(e):e.defaultAuthenticator.authenticatorId===ue.$.AUTHENTICATOR_IDS.MICROSOFT_AUTHENTICATOR_ID&&e.description===$r.WL?r.push(e):e.defaultAuthenticator.authenticatorId===ue.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID&&a.push(e)})),F(n),B(i),$(o),Y(r),ee(a),t[1].push(Wr.F.getOrganizationAuthenticator()),M(t),e&&e(t,n,i,o,r,a)})).catch((function(e){var t,n;e.response&&e.response.data&&e.response.data.description?h((0,L.V_)({description:null===(t=e.response.data)||void 0===t?void 0:t.description,level:_.QU.ERROR,message:null===(n=e.response.data)||void 0===n?void 0:n.message})):h((0,L.V_)({description:f("secrets:errors.generic.description"),level:_.QU.ERROR,message:f("secrets:errors.generic.message")}))})).finally((function(){ae(!1)}))},De=function(e,t,n,i,r,a){if(e)if(e===y.Tb.DEFAULT)Ue.publish("application-sign-in-method-click-add",{type:"default"}),Ae(ol(ol({},o),(0,U.Z)(Pa)));else if(e===y.Tb.SECOND_FACTOR_TOTP)Ue.publish("application-sign-in-method-click-add",{type:"second-factor-totp"}),Ae(ol(ol({},o),(0,U.Z)(Xa)));else if(e===y.Tb.SECOND_FACTOR_EMAIL_OTP)Ue.publish("application-sign-in-method-click-add",{type:"second-factor-email-otp"}),Ae(ol(ol({},o),(0,U.Z)(Ya)));else if(e===y.Tb.SECOND_FACTOR_SMS_OTP)Ue.publish("application-sign-in-method-click-add",{type:"second-factor-sms-otp"}),Ae(ol(ol({},o),(0,U.Z)(Ja)));else if(e===y.Tb.FIDO_LOGIN)Ue.publish("application-sign-in-method-click-add",{type:"first-factor-fido"}),Ae(ol(ol({},o),(0,U.Z)(Qa)));else if(e===y.Tb.GOOGLE_LOGIN){if(Ue.publish("application-sign-in-method-click-add",{type:"google-login"}),w(y.Tb.GOOGLE_LOGIN),(0,Ee.Z)(t))return void ie(!0);if(t.length>1)return ve(t[0]),void de(!0);1===t.length&&Ae(ol(ol({},o),Ze(t[0].idp,y.Tb.GOOGLE_LOGIN)))}else if(e===y.Tb.GITHUB_LOGIN){if(Ue.publish("application-sign-in-method-click-add",{type:"github-login"}),w(y.Tb.GITHUB_LOGIN),(0,Ee.Z)(n))return void ie(!0);if(n.length>1)return ve(n[0]),void de(!0);1===n.length&&Ae(ol(ol({},o),Ze(n[0].idp,y.Tb.GITHUB_LOGIN)))}else if(e===y.Tb.FACEBOOK_LOGIN){if(Ue.publish("application-sign-in-method-click-add",{type:"facebook-login"}),w(y.Tb.FACEBOOK_LOGIN),(0,Ee.Z)(i))return void ie(!0);if(i.length>1)return ve(i[0]),void de(!0);1===i.length&&Ae(ol(ol({},o),Ze(i[0].idp,y.Tb.FACEBOOK_LOGIN)))}else if(e===y.Tb.MICROSOFT_LOGIN){if(Ue.publish("application-sign-in-method-click-add",{type:"microsoft-login"}),w(y.Tb.MICROSOFT_LOGIN),(0,Ee.Z)(r))return void ie(!0);if(r.length>1)return ve(r[0]),void de(!0);1===r.length&&Ae(ol(ol({},o),Ze(r[0].idp,y.Tb.MICROSOFT_LOGIN)))}else if(e===y.Tb.APPLE_LOGIN){if(Ue.publish("application-sign-in-method-click-add",{type:"apple-login"}),w(y.Tb.APPLE_LOGIN),(0,Ee.Z)(a))return void ie(!0);if(a.length>1)return ve(a[0]),void de(!0);1===a.length&&Ae(ol(ol({},o),Ze(a[0].idp,y.Tb.APPLE_LOGIN)))}else e===y.Tb.MAGIC_LINK?(Ue.publish("application-sign-in-method-click-add",{type:"magic-link-login"}),Ae(ol(ol({},o),(0,U.Z)(Wa)))):e===y.Tb.EMAIL_OTP?(Ue.publish("application-sign-in-method-click-add",{type:"email-otp-login"}),Ae(ol(ol({},o),(0,U.Z)(qa)))):e===y.Tb.SMS_OTP&&(Ue.publish("application-sign-in-method-click-add",{type:"sms-otp-login"}),Ae(ol(ol({},o),(0,U.Z)(el))));else Ae(o);S(e)},Ze=function(e,t){var n={},i=null;return t===y.Tb.GOOGLE_LOGIN?(n=(0,U.Z)(za),i=ue.$.AUTHENTICATOR_NAMES.GOOGLE_OIDC_AUTHENTICATOR_NAME):t===y.Tb.GITHUB_LOGIN?(n=(0,U.Z)($a),i=ue.$.AUTHENTICATOR_NAMES.GITHUB_AUTHENTICATOR_NAME):t===y.Tb.FACEBOOK_LOGIN?(n=(0,U.Z)(Ga),i=ue.$.AUTHENTICATOR_NAMES.FACEBOOK_AUTHENTICATOR_NAME):t===y.Tb.MICROSOFT_LOGIN?(n=(0,U.Z)(Ka),i=ue.$.AUTHENTICATOR_NAMES.MICROSOFT_AUTHENTICATOR_NAME):t===y.Tb.APPLE_LOGIN&&(n=(0,U.Z)(Ba),i=ue.$.AUTHENTICATOR_NAMES.APPLE_AUTHENTICATOR_NAME),n.steps[0].options.forEach((function(t){t.authenticator===i&&(t.idp=e)})),n},je=function(){S(void 0),w(void 0),ie(!1),de(!1),ve(void 0),Ae(o),Ne(void 0),Me(void 0),Le(!1)};return c.createElement(Gr,{application:(0,U.Z)(n),isSystemApplication:u,authenticators:k,hiddenAuthenticators:d,onAuthenticatorsRefetch:function(){return xe()},onUpdate:l,isLoading:re,readOnly:s,authenticationSequence:ye},c.createElement(_r,{legacyBuilder:a||re?c.createElement(P.pO,{inline:"centered",active:!0}):s||T||!function(){var e,t,n;if(1!==(null==o||null===(e=o.steps)||void 0===e?void 0:e.length)||1!==(null===(t=o.steps[0].options)||void 0===t?void 0:t.length))return!1;var i=o.steps[0].options[0].authenticator===N.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME,r=!o.script||C.isDefaultScript(o.script,null===(n=o.steps)||void 0===n?void 0:n.length);return i&&r&&o.type===y.a1.DEFAULT}()?c.createElement(Ha,{appId:i,applicationName:null==n?void 0:n.name,isApplicationShared:b,authenticators:k,clientId:r,authenticationSequence:ye,onIDPCreateWizardTrigger:function(e,t,n){Ie(n),Me("EXTERNAL"),Ne(e),ie(!1),Le(!0),sl=t},onUpdate:l,onReset:je,"data-componentid":m,isLoading:re,setIsLoading:ae,readOnly:s}):c.createElement(Va,{readOnly:s,clientId:r,onLoginFlowSelect:function(e){De(e,j,V,G,W,X)},"data-componentid":"".concat(m,"-landing")}),onIDPCreateWizardTrigger:function(e,t,n){Ie(n),Me("EXTERNAL"),Ne(e),ie(!1),Le(!0),sl=t},readOnly:s}),_e&&function(){if(Ce)return c.createElement(Ti.zy,{isModalOpen:_e,handleModalVisibility:function(e){return Le(e)},type:Ce,selectedTemplate:Se,onIDPCreate:function(){xe((function(e,t,n,i,o,r){Ne(void 0),Le(!1),sl&&sl(),"INTERNAL"===ke&&De(I,t,n,i,o,r)})).finally()},onWizardClose:function(){Ne(void 0),Me(void 0),Le(!1)}})}(),ne&&function(){var e=null,t=null;if(I===y.Tb.GOOGLE_LOGIN)e=se.f.CONNECTION_TEMPLATE_IDS.GOOGLE,t=ue.$.AUTHENTICATOR_DISPLAY_NAMES.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(I===y.Tb.GITHUB_LOGIN)e=se.f.CONNECTION_TEMPLATE_IDS.GITHUB,t=ue.$.AUTHENTICATOR_DISPLAY_NAMES.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(I===y.Tb.FACEBOOK_LOGIN)e=se.f.CONNECTION_TEMPLATE_IDS.FACEBOOK,t=ue.$.AUTHENTICATOR_DISPLAY_NAMES.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(I===y.Tb.MICROSOFT_LOGIN)e=se.f.CONNECTION_TEMPLATE_IDS.MICROSOFT,t=ue.$.AUTHENTICATOR_DISPLAY_NAMES.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(I!==y.Tb.APPLE_LOGIN)return null;e=se.f.CONNECTION_TEMPLATE_IDS.APPLE,t=ue.$.AUTHENTICATOR_DISPLAY_NAMES.APPLE_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(P.cV,{type:"info",onClose:function(){return ie(!1)},open:ne,primaryAction:f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.primaryButton"),secondaryAction:f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.secondaryButton"),onSecondaryActionClick:function(){return ie(!1)},onPrimaryActionClick:function(){Ne(e),ie(!1),Le(!0),Me("INTERNAL")},"data-componentid":"".concat(m,"-add-missing-authenticator-modal"),closeOnDimmerClick:!1},c.createElement(P.cV.Header,null,f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.heading",{authenticator:t})),c.createElement(P.cV.Message,{attached:!0,info:!0},f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.message",{authenticator:t})),c.createElement(P.cV.Content,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.addMissingSocialAuthenticatorModal.content.body",tOptions:{authenticator:t}},"You do not have an active Social Connection configured with ",c.createElement(P.EK,null," ",t,"Authenticator"),". Click on the ",c.createElement("strong",null,"Configure")," button to register a new",c.createElement(P.EK,null,t," Social Connection")," or navigate to the ",c.createElement("a",{onClick:function(){Q.m.push(K.$.getPaths().get("IDP"))},className:"external-link link pointing primary"},"Connections")," section manually.")))}(),ce&&function(){var e=null,t=[];if(I===y.Tb.GOOGLE_LOGIN)t=nl(j),e=ue.$.AUTHENTICATOR_DISPLAY_NAMES.GOOGLE_OIDC_AUTHENTICATOR_DISPLAY_NAME;else if(I===y.Tb.GITHUB_LOGIN)t=nl(V),e=ue.$.AUTHENTICATOR_DISPLAY_NAMES.GITHUB_AUTHENTICATOR_DISPLAY_NAME;else if(I===y.Tb.FACEBOOK_LOGIN)t=nl(G),e=ue.$.AUTHENTICATOR_DISPLAY_NAMES.FACEBOOK_AUTHENTICATOR_DISPLAY_NAME;else if(I===y.Tb.MICROSOFT_LOGIN)t=nl(W),e=ue.$.AUTHENTICATOR_DISPLAY_NAMES.MICROSOFT_AUTHENTICATOR_DISPLAY_NAME;else{if(I!==y.Tb.APPLE_LOGIN)return null;t=nl(X),e=ue.$.AUTHENTICATOR_DISPLAY_NAMES.APPLE_AUTHENTICATOR_DISPLAY_NAME}return c.createElement(P.cV,{type:"warning",className:"duplicate-social-authenticator-selection-modal",onClose:function(){return de(!1)},open:ce,primaryAction:f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.primaryButton"),secondaryAction:f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.secondaryButton"),onSecondaryActionClick:function(){return de(!1)},onPrimaryActionClick:function(){Ae(ol(ol({},o),Ze(fe.idp,I))),S(I),de(!1)},"data-componentid":"".concat(m,"-duplicate-authenticator-selection-modal"),closeOnDimmerClick:!1},c.createElement(P.cV.Header,null,f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.heading",{authenticator:e})),c.createElement(P.cV.Message,{attached:!0,warning:!0},f("applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.message",{authenticator:e})),c.createElement(P.cV.Content,{scrolling:!0},c.createElement(P.xv,null,c.createElement(Z.c,{i18nKey:"applications:edit.sections.signOnMethod.sections.landing.flowBuilder.duplicateSocialAuthenticatorSelectionModal.content.body",tOptions:{authenticator:e}},"You have multiple Social Connections configured with ",c.createElement(P.EK,null,e,"Authenticator"),". Select the desired one from the selection below to proceed.")),c.createElement(Oe.Z,{hidden:!0}),c.createElement("div",{className:"authenticator-grid"},t.filter((function(e){return e.name!==N.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME})).map((function(e,t){return c.createElement(P.WL,{key:t,multilineLabel:!0,className:"authenticator-card",size:"tiny",selected:(null==fe?void 0:fe.id)===e.id,image:pe.Zs.resolveConnectionResourcePath(v,e.image),label:e.displayName,labelEllipsis:!0,"data-componentid":"".concat(m,"-authenticator-").concat(e.name),onClick:function(){return ve(e)}})})))))}())};ul.defaultProps={"data-componentid":"sign-on-methods"};var dl=function(e){var t=e.application,n=e.appId,i=e.authenticationSequence,o=e.clientId,r=e.isLoading,a=e.onUpdate,l=e.readOnly,m=e.isSystemApplication,f=e.hiddenAuthenticators,g=e["data-componentid"],h=(0,u.Z)().aiGeneratedLoginFlow,v=(0,d.z)().isSubOrganization,b=(0,p.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),E=i;return null!=b&&b.includes(s.X7)||v()||(E=null!=h?h:i),c.createElement(ul,{application:t,appId:n,authenticationSequence:E,clientId:o,isLoading:r,onUpdate:a,readOnly:l,isSystemApplication:m,hiddenAuthenticators:f,"data-componentid":g})};dl.defaultProps={"data-componentid":"sign-on-methods-wrapper"};var pl=function(e){var t=e.application,n=e.appId,i=e.authenticationSequence,o=e.clientId,r=e.isLoading,a=e.onUpdate,l=e.readOnly,s=e.isSystemApplication,u=e.hiddenAuthenticators,d=e["data-componentid"];return c.createElement(dl,{application:t,appId:n,authenticationSequence:i,clientId:o,isLoading:r,onUpdate:a,readOnly:l,isSystemApplication:s,hiddenAuthenticators:u,"data-componentid":d})};pl.defaultProps={"data-componentid":"sign-on-methods"}},93545:(e,t,n)=>{n.d(t,{J:()=>u});var i=n(16590),o=n(96334),r=n(44194),a=n(89141),l=n(10742);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var u=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,s=e.setShowFinishButton,u=e["data-componentid"],d=void 0===u?"add-certificate-form":u,p=c((0,r.useState)(""),2),m=p[0],f=p[1],g=c((0,r.useState)(""),2),h=g[0],v=g[1],b=c((0,r.useState)(""),2),E=b[0],y=b[1],A=c((0,r.useState)(null),2),T=A[0],S=A[1],O=c((0,r.useState)(null),2),I=O[0],w=O[1],C=c((0,r.useState)(""),2),N=C[0],R=C[1];(0,r.useEffect)((function(){""!==N&&n(N)}),[N]);var _=function(e,t,n,o,r,a){f(t),y(n),v(o),S(r),w(a),R(btoa(i.CertificateManagementUtils.enclosePem(e.certificate)))};return r.createElement(r.Fragment,null,r.createElement(o.Es,{"data-testid":"".concat(d,"-form")},r.createElement(a.Z,null,r.createElement(a.Z.Row,{columns:1},r.createElement(a.Z.Column,{mobile:16,tablet:16,computer:16},r.createElement(l.e,{submit:_,triggerSubmit:t,pemData:E,nameData:m,fileDecodedData:h,fileData:T,forgeCertificateData:I,"data-testid":"".concat(d,"-upload"),hideAliasInput:!0,setShowFinishButton:s}))))))}},3192:(e,t,n)=>{n.d(t,{Rh:()=>d,af:()=>u});var i=n(11526),o=n(14092),r=n(76271),a=n(96124),l=n(43939),c=n(6833),s=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),u=function(e,t,n,i){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,params:{filter:n,limit:e,offset:t,requiredAttributes:i},url:r.h.getState().config.endpoints.identityProviders},s=(0,a.Z)(o?l:null),u=s.data,d=s.error;return{data:u,error:d,isLoading:!d&&!u,isValidating:s.isValidating,mutate:s.mutate}},d=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:c.f2.GET,url:r.h.getState().config.endpoints.localAuthenticators};return s(e).then((function(e){if(200!==e.status)throw new l.u(o.Y.ERROR_MESSAGES.LOCAL_AUTHENTICATORS_FETCH_INVALID_STATUS_CODE_ERROR,null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){throw new l.u(o.Y.ERROR_MESSAGES.LOCAL_AUTHENTICATORS_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))}},30331:(e,t,n)=>{n.d(t,{z:()=>R});var i=n(46448),o=n(14092),r=n(12533),a=n(43939),l=n(76004),c=n.n(l),s=n(50699),u=n(3192),d=n(48023),p=n(50250),m=n(64704),f=n(64643),g=n(36619);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,E(i.key),i)}}function E(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=h(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}var y=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getAuthenticatorDescription",value:function(e){var t;return(0,m.Z)((v(v(v(v(v(v(v(v(v(v(t={},r.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID,"Login users with username and password credentials."),r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"Get users Identity first to control the authentication flow."),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,"Login users with passkey, FIDO security key or biometrics."),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,"Two-factor authentication using Time-Based One Time passcode."),d.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,"Login users with existing Google accounts."),d.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,"Login users with existing GitHub accounts."),d.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,"Login users with existing Facebook accounts."),d.$.AUTHENTICATOR_IDS.TWITTER_AUTHENTICATOR_ID,"Login users with existing Twitter accounts."),d.$.AUTHENTICATOR_IDS.OIDC_AUTHENTICATOR_ID,"Authenticate users with Enterprise OIDC connections."),d.$.AUTHENTICATOR_IDS.SAML_AUTHENTICATOR_ID,"Authenticate users with Enterprise SAML connections."),v(v(v(v(v(v(v(v(v(t,r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"Email users a one-time passcode to log in passwordless."),d.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"Two-factor authentication using one-time passcode sent via email."),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,"Two-factor authentication using SMS one-time passcode."),r.$.AUTHENTICATOR_IDS.MAGIC_LINK_AUTHENTICATOR_ID,"Email users a magic link to log in passwordless"),d.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,"Login users with their Apple IDs."),r.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID,"Two-factor authentication recovery option."),r.$.AUTHENTICATOR_IDS.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID,"Limit the number of active user sessions."),r.$.AUTHENTICATOR_IDS.X509_CERTIFICATE_AUTHENTICATOR_ID,"Authenticate clients using client certificates."),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,"Two-factor authentication via mobile push notifications.")),e)}},{key:"getAuthenticatorTypeDisplayName",value:function(e){return(0,m.Z)(v(v(v(v(v({},g.Xi.ENTERPRISE,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.enterprise.heading"),g.Xi.LOCAL,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.basic.heading"),g.Xi.SECOND_FACTOR,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.mfa.heading"),g.Xi.SOCIAL,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.social.heading"),g.Xi.RECOVERY,"applications:edit.sections.signOnMethod.sections.authenticationFlow.sections.stepBased.addAuthenticatorModal.content.authenticatorGroups.backupCodes.heading"),e)}},{key:"getAuthenticatorIcon",value:function(e){var t,n,i,o,a,l,c,s,u,d,p,g,h,b=(0,m.Z)((v(v(v(v(v(v(v(v(v(v(h={},r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,null===(t=(0,f.C4)())||void 0===t?void 0:t.identifierFirst),r.$.AUTHENTICATOR_IDS.JWT_BASIC_AUTHENTICATOR_ID,null===(n=(0,f.C4)())||void 0===n?void 0:n.jwtBasic),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,null===(i=(0,f.C4)())||void 0===i?void 0:i.fido),r.$.AUTHENTICATOR_IDS.X509_CERTIFICATE_AUTHENTICATOR_ID,null===(o=(0,f.C4)())||void 0===o?void 0:o.x509),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,null===(a=(0,f.C4)())||void 0===a?void 0:a.totp),r.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID,null===(l=(0,f.C4)())||void 0===l?void 0:l.basic),r.$.AUTHENTICATOR_IDS.ACTIVE_SESSION_LIMIT_HANDLER_AUTHENTICATOR_ID,null===(c=(0,f.C4)())||void 0===c?void 0:c.sessionExecutor),r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,null===(s=(0,f.C4)())||void 0===s?void 0:s.emailOTP),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,null===(u=(0,f.C4)())||void 0===u?void 0:u.smsOTP),r.$.AUTHENTICATOR_IDS.MAGIC_LINK_AUTHENTICATOR_ID,null===(d=(0,f.C4)())||void 0===d?void 0:d.magicLink),v(v(h,r.$.AUTHENTICATOR_IDS.BACKUP_CODE_AUTHENTICATOR_ID,null===(p=(0,f.C4)())||void 0===p?void 0:p.backupCode),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,null===(g=(0,f.C4)())||void 0===g?void 0:g.push)),e);return null!=b?b:(0,f.C4)().default}},{key:"getCustomAuthenticatorIcon",value:function(e){var t;return null!=e&&e.image?e.image:null===(t=(0,f.C4)())||void 0===t?void 0:t.customAuthenticator}},{key:"getAuthenticatorCategory",value:function(e){var t;return(0,m.Z)((v(v(v(v(v(v(v(v(v(v(t={},r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.MAGIC_LINK_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,"Predefined"),d.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,"Google"),d.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,"GitHub"),d.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,"Facebook"),d.$.AUTHENTICATOR_IDS.TWITTER_AUTHENTICATOR_ID,"Twitter"),d.$.AUTHENTICATOR_IDS.OIDC_AUTHENTICATOR_ID,"OIDC"),v(v(v(v(v(t,d.$.AUTHENTICATOR_IDS.SAML_AUTHENTICATOR_ID,"SAML"),r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"Predefined"),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,"Predefined"),d.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,"Apple"),d.$.AUTHENTICATOR_IDS.HYPR_AUTHENTICATOR_ID,"HYPR")),e)}},{key:"getAllowedFilterTags",value:function(){return[p.Yn.MULTI_FACTOR,p.Yn.PASSWORDLESS,p.Yn.OIDC,p.Yn.SOCIAL,p.Yn.SAML,p.Yn.PASSKEY]}},{key:"getAuthenticatorTemplateName",value:function(e){var t;return(0,m.Z)((v(v(v(v(v(v(v(v(v(v(t={},r.$.AUTHENTICATOR_NAMES.BASIC_AUTHENTICATOR_NAME,"username-and-password"),r.$.AUTHENTICATOR_IDS.BASIC_AUTHENTICATOR_ID,"username-and-password"),r.$.AUTHENTICATOR_IDS.FIDO_AUTHENTICATOR_ID,"fido"),r.$.AUTHENTICATOR_IDS.TOTP_AUTHENTICATOR_ID,"totp"),r.$.AUTHENTICATOR_IDS.SMS_OTP_AUTHENTICATOR_ID,"sms-otp"),r.$.AUTHENTICATOR_IDS.EMAIL_OTP_AUTHENTICATOR_ID,"email-otp"),r.$.AUTHENTICATOR_IDS.PUSH_AUTHENTICATOR_ID,"push"),r.$.AUTHENTICATOR_IDS.IDENTIFIER_FIRST_AUTHENTICATOR_ID,"identifier-first"),d.$.AUTHENTICATOR_IDS.GOOGLE_OIDC_AUTHENTICATOR_ID,"google"),d.$.AUTHENTICATOR_IDS.GITHUB_AUTHENTICATOR_ID,"github"),v(v(v(v(v(t,d.$.AUTHENTICATOR_IDS.FACEBOOK_AUTHENTICATOR_ID,"facebook"),d.$.AUTHENTICATOR_IDS.TWITTER_AUTHENTICATOR_ID,"twitter"),d.$.AUTHENTICATOR_IDS.OIDC_AUTHENTICATOR_ID,"enterprise-oidc"),d.$.AUTHENTICATOR_IDS.SAML_AUTHENTICATOR_ID,"enterprise-saml"),d.$.AUTHENTICATOR_IDS.APPLE_AUTHENTICATOR_ID,"apple")),e)}}],(t=null)&&b(e.prototype,t),n&&b(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,N(i.key),i)}}function N(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=A(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}var R=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getAllAuthenticators",value:function(e){var t,n,l,d=function(){return(0,u.Rh)()},p=function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("Custom")},m=function(e){return p(e)?y.getCustomAuthenticatorIcon(e):y.getAuthenticatorIcon(e.id)};return c().all(e?[d()]:[d(),(t={},n=0,l=function(){return(0,i.E6)(15,n,'isEnabled eq "true"',"federatedAuthenticators,provisioning").then((function(e){return t=(0,s.Z)(t)?I({},e):I(I({},t),{},{identityProviders:[].concat(T(t.identityProviders),T(e.identityProviders))}),!(0,s.Z)(e.links)&&e.links[0].rel&&"next"===e.links[0].rel?(n+=15,l()):Promise.resolve(t)}))},l())]).then(c().spread((function(e,t){var n=[];e.forEach((function(e){e.isEnabled&&n.push({authenticators:[{authenticatorId:e.id,isEnabled:e.isEnabled,name:e.name}],defaultAuthenticator:{authenticatorId:e.id,isEnabled:e.isEnabled,name:e.name,tags:e.tags?e.tags:[]},description:p(e)?null==e?void 0:e.description:y.getAuthenticatorDescription(e.id),displayName:e.displayName,id:e.id,idp:r.$.LOCAL_IDP_IDENTIFIER,image:m(e),isEnabled:e.isEnabled,name:e.name})}));var i=[];return null!=t&&t.identityProviders&&t.identityProviders instanceof Array&&t.identityProviders.length>0&&t.identityProviders.forEach((function(e){var t,n;if(!(0,s.Z)(null==e||null===(t=e.federatedAuthenticators)||void 0===t?void 0:t.authenticators)&&null!=e&&null!==(n=e.federatedAuthenticators)&&void 0!==n&&n.defaultAuthenticatorId){var o=e.federatedAuthenticators.authenticators.find((function(t){return t.authenticatorId===e.federatedAuthenticators.defaultAuthenticatorId}));i.push({authenticators:e.federatedAuthenticators.authenticators,defaultAuthenticator:o,description:(0,s.Z)(e.description)?y.getAuthenticatorDescription(null==o?void 0:o.authenticatorId):e.description,displayName:e.name,id:e.id,idp:e.name,image:e.image?e.image:y.getAuthenticatorIcon(e.id),isEnabled:e.isEnabled,name:e.name,provisioning:e.provisioning})}})),Promise.resolve([n,i])}))).catch((function(e){throw new a.u(o.Y.ERROR_MESSAGES.COMBINED_AUTHENTICATOR_FETCH_ERROR,e.stack,e.code,e.request,e.response,e.config)}))}}],(t=null)&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}()},78852:(e,t,n)=>{n.d(t,{c:()=>u});var i,o=n(60507);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var u=l((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));i=u,c(u,"IMPERSONATION_CONFIG_FETCH_ERROR_CODE","IC-00001"),c(u,"IMPERSONATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE","IC-00002"),c(u,"IMPERSONATION_CONFIG_UPDATE_ERROR_CODE","IC-00003"),c(u,"DEFAULT_SUBJECT_TOKEN_EXPIRY_TIME",180),c(u,"ErrorMessages",{IMPERSONATION_CONFIG_FETCH_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_FETCH_ERROR_CODE,"An error occurred while fetching the Impersonation configurations.","Error while fetching the Impersonation configurations",null),IMPERSONATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while fetching the Impersonation configurations.","Invalid Status Code while fetching the Impersonation configurations",null),IMPERSONATION_CONFIG_UPDATE_ERROR_CODE:new o.O(i.IMPERSONATION_CONFIG_UPDATE_ERROR_CODE,"An error occurred while updating the Impersonation configurations.","Error while updating the Impersonation configurations",null)})},13098:(e,t,n)=>{n.d(t,{Uf:()=>a,VR:()=>s,X7:()=>u,bV:()=>l,q$:()=>r,r:()=>c});var i=n(10479),o=n(47245),r=function(){var e=(0,i.$)().t,t=(0,o.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName}));return[e("ai:aiLoginFlow.screens.loading.facts.0",{productName:t}),e("ai:aiLoginFlow.screens.loading.facts.1",{productName:t}),e("ai:aiLoginFlow.screens.loading.facts.2",{productName:t})]},a=function(){var e=(0,i.$)().t;return{generating_login_flow_authenticators:e("ai:aiLoginFlow.screens.loading.states.7"),generating_login_flow_script:e("ai:aiLoginFlow.screens.loading.states.5"),generation_of_login_flow_authenticators_complete:e("ai:aiLoginFlow.screens.loading.states.8"),generation_of_login_flow_script_complete:e("ai:aiLoginFlow.screens.loading.states.6"),login_flow_generation_complete:e("ai:aiLoginFlow.screens.loading.states.10"),optimization_and_validation_complete:e("ai:aiLoginFlow.screens.loading.states.2"),optimizing_and_validating_final_login_flow:e("ai:aiLoginFlow.screens.loading.states.9"),optimizing_and_validating_user_query:e("ai:aiLoginFlow.screens.loading.states.1"),retrieval_of_examples_complete:e("ai:aiLoginFlow.screens.loading.states.4"),retrieving_examples:e("ai:aiLoginFlow.screens.loading.states.3")}},l={generating_login_flow_authenticators:97,generating_login_flow_script:95,generation_of_login_flow_authenticators_complete:98,generation_of_login_flow_script_complete:96,login_flow_generation_complete:100,optimization_and_validation_complete:40,optimizing_and_validating_final_login_flow:99,optimizing_and_validating_user_query:20,retrieval_of_examples_complete:90,retrieving_examples:70},c=8e3,s=100,u="applications.loginFlow.ai"},87857:(e,t,n)=>{n.d(t,{Z:()=>o});var i=(0,n(44194).createContext)(null);i.displayName="AILoginFlowContext";const o=i},2697:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(44194),o=n(87857);const r=function(){var e=(0,i.useContext)(o.Z);if(void 0===e)throw new Error("useAILoginFlow must be used within a AILoginFlowProvider");return e}},80883:(e,t,n)=>{n.d(t,{Z:()=>Fe});var i=n(21257),o=n(6833),r=n(82406),a=n(44194),l=n(10479),c=n(47245),s=n(96124),u=n(76271),d=n(16422),p=n(65966),m=n(26170),f=n(29775),g=n(80115),h=n(77366),v=n(23210),b=n(91626),E=n(84882),y=n(46461),A=n(78864),T=n(33763),S=n(49748),O=n(73405),I=n(89497),w=n(55007),C=n(66132),N=n(90375),R=n(56991),_=n(18952),L=n(43516),P=n(59673),k=n(78768),M=n(9821),U=n(917),x=n(30331),D=n(12533);function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function j(){j=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var S=E.prototype=v.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==Z(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function w(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=C(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function C(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Z(t)+" is not iterable")}return b.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function F(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function H(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const G=function(){var e,t=(0,U.Z)().UIConfig,n=V((0,a.useState)(!0),2),i=n[0],o=n[1],r=V((0,a.useState)({enterprise:[],local:[],recovery:[],secondFactor:[],social:[]}),2),l=r[0],c=r[1],s=H(null!==(e=null==t?void 0:t.hiddenAuthenticators)&&void 0!==e?e:[]);(0,a.useEffect)((function(){u()}),[]);var u=function(){var e,t=(e=j().mark((function e(){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),x.z.getAllAuthenticators().then((function(e){var t=e[0],n=e[1],i=[],o=[],r=[],a=[],l=[];t.forEach((function(e){s.includes(e.name)||(e.name===D.$.AUTHENTICATOR_NAMES.BACKUP_CODE_AUTHENTICATOR_NAME?a.push({description:e.description,idp:e.idp,name:e.name}):M.j.SECOND_FACTOR_AUTHENTICATORS.includes(e.id)?r.push({description:e.description,idp:e.idp,name:e.name}):l.push({description:e.description,idp:e.idp,name:e.name}))})),n.forEach((function(e){var t,n;s.includes(e.name)||(M.j.SOCIAL_AUTHENTICATORS.includes(e.defaultAuthenticator.authenticatorId)?i.push({description:e.description,idp:e.idp,name:null==e||null===(t=e.defaultAuthenticator)||void 0===t?void 0:t.name}):o.push({description:e.description,idp:e.idp,name:null==e||null===(n=e.defaultAuthenticator)||void 0===n?void 0:n.name}))})),c({enterprise:o,local:l,recovery:a,secondFactor:r,social:i})})).finally((function(){o(!1)}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){F(r,i,o,a,l,"next",e)}function l(e){F(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return{filteredAuthenticators:l,loading:i}};var $=n(6894);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const K=function(){var e=z((0,a.useState)({claimURI:null,error:null}),2),t=e[0],n=e[1];return(0,a.useEffect)((function(){(0,$.WN)({"exclude-identity-claims":!1,filter:null,limit:null,offset:null,sort:null}).then((function(e){var t=e.map((function(e){return{claimURI:e.claimURI,description:e.description}}));n({claimURI:t,error:null})})).catch((function(e){n({claimURI:null,error:e})}))}),[]),t};var Q=n(2697),Y=n(11526),J=n(43939),X=Y.AsgardeoSPAClient.getInstance().httpRequest.bind(Y.AsgardeoSPAClient.getInstance());const ee=function(e,t,n,i){var r={data:{available_authenticators:n,user_claims:t,user_query:e},headers:{Accept:"application/json","Content-Type":"application/json","Trace-Id":i},method:o.f2.POST,url:"".concat(u.h.getState().config.endpoints.applications,"/loginflow/generate")};return X(r).then((function(e){if(200!==e.status&&202!==e.status)throw new Error("Failed to generate login flow: ".concat(e.statusText));return e.data})).catch((function(e){var t,n,i=(null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)||"Unknown error occurred";throw new J.u(i,e.stack,null===(n=e.response)||void 0===n?void 0:n.status,e.request,e.response,e.config)}))};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(){ne=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var S=E.prototype=v.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==te(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function w(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=C(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function C(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(te(t)+" is not iterable")}return b.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function ie(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}const oe=function(){var e=(0,c.I0)(),t=(0,l.$)().t,n=(0,Q.Z)(),i=n.setGeneratingLoginFlow,a=n.setOperationId,s=function(){var n,l=(n=ne().mark((function n(l,c,s,u){return ne().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ee(l,c,s,u).then((function(e){a(e.operation_id),i(!0)})).catch((function(n){422!==(null==n?void 0:n.code)?429!==(null==n?void 0:n.code)?e((0,r.V_)({description:t("ai:aiLoginFlow.notifications.generateError.description"),level:o.QU.ERROR,message:n.message||t("ai:aiLoginFlow.notifications.generateError.message")})):e((0,r.V_)({description:t("ai:aiLoginFlow.notifications.generateLimitError.description"),level:o.QU.ERROR,message:t("ai:aiLoginFlow.notifications.generateLimitError.message")})):e((0,r.V_)({description:t("ai:aiLoginFlow.notifications.generateInputError.description"),level:o.QU.ERROR,message:t("ai:aiLoginFlow.notifications.generateInputError.message")}))})));case 1:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(i,o){var r=n.apply(e,t);function a(e){ie(r,i,o,a,l,"next",e)}function l(e){ie(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(e,t,n,i){return l.apply(this,arguments)}}();return s};var re=function(e){return e.FULL="banner-full",e.INPUT="banner-input",e.COLLAPSED="banner-collapsed",e.NULL="null",e}({}),ae=n(51835),le=n.n(ae),ce=n(27975),se=n.n(ce),ue=n(55900),de=n.n(ue),pe=n(21555),me=n.n(pe),fe=n(3621),ge=n.n(fe),he=n(5062),ve=n.n(he),be=n(44429),Ee={};Ee.styleTagTransform=ve(),Ee.setAttributes=me(),Ee.insert=de().bind(null,"head"),Ee.domAPI=se(),Ee.insertStyleElement=ge();le()(be.Z,Ee);be.Z&&be.Z.locals&&be.Z.locals;function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function Ae(){Ae=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),l=new _(i||[]);return o(a,"_invoke",{value:w(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",m="suspendedYield",f="executing",g="completed",h={};function v(){}function b(){}function E(){}var y={};s(y,a,(function(){return this}));var A=Object.getPrototypeOf,T=A&&A(A(L([])));T&&T!==n&&i.call(T,a)&&(y=T);var S=E.prototype=v.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,r,a,l){var c=d(e[o],e,r);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==ye(u)&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var r;o(this,"_invoke",{value:function(e,i){function o(){return new t((function(t,o){n(e,i,t,o)}))}return r=r?r.then(o,o):o()}})}function w(t,n,i){var o=p;return function(r,a){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var l=i.delegate;if(l){var c=C(l,i);if(c){if(c===h)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===p)throw o=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var s=d(t,n,i);if("normal"===s.type){if(o=i.done?g:m,s.arg===h)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(o=g,i.method="throw",i.arg=s.arg)}}}function C(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),h;var r=d(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ye(t)+" is not iterable")}return b.prototype=E,o(S,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=s(E,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var a=new I(u(e,n,i,o),r);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return l.type="throw",l.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var o=i.arg;R(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),h}},t}function Te(e,t,n,i,o,r,a){try{var l=e[r](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(i,o)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Ie=function(e){var t,n=e["data-componentid"],i=(0,l.$)().t,s=(0,c.v9)((function(e){return e.config.ui.features.applications})),u=(0,c.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t?void 0:t.ai})),M=(0,w.EV)(null==s||null===(t=s.scopes)||void 0===t?void 0:t.update),U=(0,c.I0)(),x=(0,Q.Z)(),D=x.bannerState,Z=x.isGeneratingLoginFlow,j=x.promptHistory,F=x.updatePromptHistory,H=x.userPrompt,V=x.setBannerState,B=x.setUserPrompt,q=(0,L.fQ)().getLink,$=G(),z=$.filteredAuthenticators,W=$.loading,Y=K(),J=Y.claimURI,X=Y.error,ee=oe(),te=Se((0,a.useState)(!1),2),ne=te[0],ie=te[1],ae=Se((0,a.useState)(!1),2),le=ae[0],ce=ae[1],se=Se((0,a.useState)(!1),2),ue=se[0],de=se[1],pe=Se((0,a.useState)(""),2),me=pe[0],fe=pe[1],ge=null==u?void 0:u.enabled,he=function(){var e,t=(e=Ae().mark((function e(){var t,n,a;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=2;break}return e.abrupt("return");case 2:if(!X){e.next=5;break}return U((0,r.V_)({description:(null==X||null===(t=X.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||i("console:manage.features.claims.local.notifications.getClaims.genericError.description"),level:o.QU.ERROR,message:(null==X||null===(n=X.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||i("console:manage.features.claims.local.notifications.getClaims.genericError.message")})),e.abrupt("return");case 5:if(0!==z.local.length||0!==z.enterprise.length||0!==z.recovery.length||0!==z.secondFactor.length||0!==z.social.length){e.next=8;break}return U((0,r.V_)({description:i("ai:aiLoginFlow.notifications.noAuthenticators.description"),level:o.QU.WARNING,message:i("ai:aiLoginFlow.notifications.noAuthenticators.message")})),e.abrupt("return");case 8:return ie(!0),F(H),a=(0,k.Z)(),e.next=13,ee(H,J,z,a);case 13:V(re.INPUT),ie(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var r=e.apply(t,n);function a(e){Te(r,i,o,a,l,"next",e)}function l(e){Te(r,i,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return Z?null:M?a.createElement(a.Fragment,null,a.createElement(f.Z,{in:D===re.FULL},a.createElement(R.Z,{title:i("ai:aiLoginFlow.banner.full.heading"),description:i(ge?"ai:aiLoginFlow.banner.full.subheading":"ai:subscribeToAI"),aiText:i("ai:aiLoginFlow.title"),actionButtonText:i("ai:aiLoginFlow.banner.full.button"),onActionButtonClick:function(){V(re.INPUT)},titleLabel:a.createElement(C.Z,{featureFlags:null==u?void 0:u.featureFlags,featureKey:N.Z.FEATURE_FLAG_KEY_MAP.AI_APPLICATION_LOGIN_FLOW_BANNER,type:"chip"}),hideAction:!ge})),a.createElement(f.Z,{in:D===re.INPUT||D===re.COLLAPSED},a.createElement(_.Z,{title:i("ai:aiLoginFlow.banner.input.heading"),description:a.createElement(a.Fragment,null,i("ai:aiLoginFlow.banner.input.subheading"),a.createElement(L.eb,{link:q("develop.applications.editApplication.common.signInMethod.conditionalAuthenticaion.ai.learnMore")},a.createElement(P.c,{i18nKey:"common:learnMore"},"Learn more"))),aiText:i("ai:aiLoginFlow.title"),titleLabel:a.createElement(C.Z,{featureFlags:null==u?void 0:u.featureFlags,featureKey:N.Z.FEATURE_FLAG_KEY_MAP.AI_APPLICATION_LOGIN_FLOW_BANNER,type:"chip"})},a.createElement(O.Z,{name:"loginFlowInput","data-componentid":"login-flow-ai-input-field",className:"login-flow-ai-input-field",placeholder:i("ai:aiLoginFlow.banner.input.placeholder"),fullWidth:!0,multiline:!0,maxRows:4,size:"small",value:H,onChange:function(e){var t;return B(null==e||null===(t=e.target)||void 0===t?void 0:t.value)},onKeyDown:function(e){"Enter"===(null==e?void 0:e.key)&&null!=e&&e.shiftKey||"Enter"===(null==e?void 0:e.key)&&(null==e||e.preventDefault(),he())},inputProps:{maxlength:1e3},InputProps:{className:"login-flow-ai-input-field-inner",endAdornment:ne||W?a.createElement(E.Z,{className:"m-3"},a.createElement(m.Z,{color:"primary",size:20})):a.createElement(g.Z,{onClick:function(){return he()},disabled:!(null!=H&&H.trim())},a.createElement(p.Z,{className:"login-flow-ai-input-button-icon\n                                                ".concat(null!=H&&H.trim()?"":"disabled")}))}}),a.createElement(E.Z,{className:"login-flow-ai-disclaimer"},a.createElement(I.Z,{variant:"caption"},i("ai:aiLoginFlow.disclaimer"),a.createElement(L.eb,{link:q("common.termsOfService")},i("ai:aiLoginFlow.termsAndConditions")))),(null==j?void 0:j.length)>0&&!ne&&a.createElement(h.Z,{className:"login-flow-ai-banner-history-container",disableGutters:!0,elevation:0,sx:{"&:before":{display:"none"}},onChange:function(){return ce(!le)}},a.createElement(b.Z,{className:"login-flow-ai-banner-history-title"},a.createElement(y.Z,{startIcon:a.createElement(d.Z,null),variant:"contained",color:"secondary",size:"small",className:"login-flow-ai-banner-history-button","data-componentid":"login-flow-ai-banner-history-button"},i("ai:aiLoginFlow.promptsHistory"))),a.createElement(v.Z,{className:"login-flow-ai-banner-history-card-container"},a.createElement(E.Z,null,a.createElement(S.Z,{container:!0,spacing:2},j.map((function(e,t){return a.createElement(S.Z,{xs:4,key:t},a.createElement(A.Z,{className:"login-flow-ai-banner-history-card","data-componentid":"login-flow-ai-banner-history-card-".concat(t),onClick:function(){return function(e){if(H&&H!==e)return fe(e),void de(!0);B(e)}(e)}},a.createElement(T.Z,null,a.createElement(I.Z,{color:"text.secondary",variant:"body2",className:"login-flow-ai-banner-history-card-text"},e.length>200?"".concat(e.substring(0,200),"..."):e))))})))))),a.createElement(L.cV,{onClose:function(){return de(!1)},type:"warning",open:ue,primaryAction:i("common:confirm"),secondaryAction:i("common:cancel"),onSecondaryActionClick:function(){return de(!1)},onPrimaryActionClick:function(){B(me),de(!1)},"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal"),closeOnDimmerClick:!1},a.createElement(L.cV.Header,{"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal-header")},i("ai:aiLoginFlow.confirmations.replacePrompt.header")),a.createElement(L.cV.Message,{attached:!0,warning:!0,"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal-message")},i("ai:aiLoginFlow.confirmations.replacePrompt.message")),a.createElement(L.cV.Content,{"data-componentid":"".concat(n,"-propmt-replace-confirmation-modal-content")},i("ai:aiLoginFlow.confirmations.replacePrompt.content")))))):null};Ie.defaultProps={"data-componentid":"login-flow-ai-banner"};const we=Ie;var Ce=n(49317);function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Re(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var _e=n(13098);function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const ke=function(){var e=(0,l.$)().t,t=(0,c.I0)(),n=(0,_e.Uf)(),i=(0,Q.Z)(),d=i.setGeneratingLoginFlow,p=i.setLoginFlowGenerationCompleted,m=(0,_e.q$)(),f=function(){var e=Ne((0,a.useState)(!0),2),t=e[0],n=e[1],i=(0,Q.Z)(),r=i.setLoginFlowGenerationCompleted,l=i.operationId,c={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.f2.GET,url:"".concat(u.h.getState().config.endpoints.applications,"/loginflow/status/").concat(l)},d=(0,s.Z)(c,{shouldRetryOnError:!1}),p=d.data,m=d.error,f=d.isValidating,g=d.mutate;return(0,a.useEffect)((function(){var e,t=setInterval((function(){var e;f||null!=p&&null!==(e=p.status)&&void 0!==e&&e.login_flow_generation_complete||g()}),1e3);return null!=p&&null!==(e=p.status)&&void 0!==e&&e.login_flow_generation_complete?(n(!1),clearInterval(t),r(!0)):n(!0),function(){return clearInterval(t)}}),[p,f]),{data:p,error:m,isLoading:t,isValidating:f,mutate:g}}(),g=f.data,h=f.error,v=Le((0,a.useState)(0),2),b=v[0],E=v[1],y=Le((0,a.useState)(0),2),A=y[0],T=y[1],S=_e.bV;(0,a.useEffect)((function(){var e=O(),t=setInterval((function(){E((function(n){return n>=e?(clearInterval(t),e):n+1}))}),_e.VR);return function(){return clearInterval(t)}}),[g]),(0,a.useEffect)((function(){var e=setInterval((function(){T((A+1)%m.length)}),_e.r);return function(){return clearInterval(e)}}),[A]),(0,a.useEffect)((function(){h&&t((0,r.V_)({description:e("ai:aiLoginFlow.notifications.generateStatusError.description"),level:o.QU.ERROR,message:e("ai:aiLoginFlow.notifications.generateStatusError.message")}))}),[h]);var O=function(){if(!g)return 0;var e=0;return Object.entries(g.status).forEach((function(t){var n=Le(t,2),i=n[0];n[1]&&S[i]>e&&(e=S[i])})),e};return a.createElement(Ce.Z,{currentLoadingState:function(){if(!g)return e("ai:aiLoginFlow.screens.loading.states.0");var t="ai:aiLoginFlow.screens.loading.states.0";return Object.entries(g.status).forEach((function(e){var i=Le(e,2),o=i[0];i[1]&&n[o]&&(t=n[o])})),e(t)}(),currentProgress:b,fact:m[A],handleGenerateCancel:function(){d(!1),p(!1)}})};var Me=n(87857),Ue=function(e){return e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.IN_PROGRESS="IN_PROGRESS",e}({});function xe(e){return function(e){if(Array.isArray(e))return je(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,a,l=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||Ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){if(e){if("string"==typeof e)return je(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}const Fe=function(e){var t=e.children,n=(0,l.$)().t,d=(0,c.I0)(),p=(0,i.z)().isSubOrganization,m=(0,c.v9)((function(e){var t;return null===(t=e.config.ui.features)||void 0===t||null===(t=t.applications)||void 0===t?void 0:t.disabledFeatures})),f=De((0,a.useState)(void 0),2),g=f[0],h=f[1],v=De((0,a.useState)(),2),b=v[0],E=v[1],y=De((0,a.useState)(!1),2),A=y[0],T=y[1],S=De((0,a.useState)(!1),2),O=S[0],I=S[1],w=De((0,a.useState)([]),2),C=w[0],N=w[1],R=De((0,a.useState)(""),2),_=R[0],L=R[1],P=De((0,a.useState)(re.FULL),2),k=P[0],M=P[1],U=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:o.f2.GET,url:"".concat(u.h.getState().config.endpoints.applications,"/loginflow/result/").concat(e)},i=(0,s.Z)(t?n:null,{shouldRetryOnError:!1}),r=i.data,l=i.error,c=i.isLoading,d=i.isValidating,p=i.mutate;return(0,a.useEffect)((function(){t&&p()}),[t]),{data:r,error:l,isLoading:c,isValidating:d,mutate:p}}(b,O),x=U.data,D=U.error;(0,a.useEffect)((function(){if(D)return T(!1),I(!1),void d((0,r.V_)({description:n("ai:aiLoginFlow.notifications.generateResultError.description"),level:o.QU.ERROR,message:n("ai:aiLoginFlow.notifications.generateResultError.message")}));if((null==x?void 0:x.status)!==Ue.FAILED)(null==x?void 0:x.status)===Ue.COMPLETED&&"type"in x.data&&Z(x.data);else{T(!1),I(!1);var e="error"in x.data?x.data.error:n("ai:aiLoginFlow.notifications.generateResultFailed.message");d((0,r.V_)({description:e,level:o.QU.ERROR,message:n("ai:aiLoginFlow.notifications.generateResultFailed.message")}))}}),[x,O]);var Z=function(e){h(e),T(!1),I(!1)};return a.createElement(Me.Z.Provider,{value:{aiGeneratedLoginFlow:g,bannerState:k,handleGenerate:Z,isGeneratingLoginFlow:A,loginFlowGenerationCompleted:O,operationId:b,promptHistory:C,setAiGeneratedLoginFlow:h,setBannerState:M,setGeneratingLoginFlow:T,setLoginFlowGenerationCompleted:I,setOperationId:E,setUserPrompt:L,updatePromptHistory:function(e){C.includes(e)?N([e].concat(xe(C.filter((function(t){return t!==e}))))):N([e].concat(xe(C.slice(0,2))))},userPrompt:_}},A?a.createElement(ke,null):a.createElement(a.Fragment,null,!(null!=m&&m.includes(_e.X7))&&!p()&&a.createElement("div",{className:"mb-2"},a.createElement(we,null)),t))}},1475:(e,t,n)=>{n.d(t,{r:()=>m});var i,o,r,a,l,c,s=n(44194),u=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d.apply(null,arguments)}var p=function(e,t){var n=e.title,p=e.titleId,m=function(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,u);return s.createElement("svg",d({id:"spin-wheel-icon",className:"icon",height:14,viewBox:"0 0 512 512",width:14,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":p},m),n?s.createElement("title",{id:p},n):null,i||(i=s.createElement("path",{className:"path primary",d:"m90.050781 395.949219c-7.167969 0-14.058593 1.789062-20.171875 5.148437-32.203125-41.28125-49.878906-92.5625-49.878906-145.097656 0-130.132812 105.867188-236 236-236 15.820312 0 31.632812 1.574219 47 4.679688 5.40625 1.09375 10.6875-2.40625 11.78125-7.820313s-2.40625-10.6875-7.820312-11.785156c-16.667969-3.367188-33.8125-5.074219-50.960938-5.074219-68.378906 0-132.667969 26.628906-181.019531 74.980469-48.351563 48.351562-74.980469 112.640625-74.980469 181.019531 0 57.519531 19.53125 113.652344 55.089844 158.652344-4.578125 6.839844-7.039063 14.878906-7.039063 23.296875 0 11.21875 4.371094 21.765625 12.304688 29.695312 7.929687 7.933594 18.476562 12.304688 29.695312 12.304688s21.765625-4.371094 29.699219-12.304688c7.933594-7.929687 12.300781-18.480469 12.300781-29.699219 0-11.214843-4.367187-21.765624-12.300781-29.695312-7.933594-7.933594-18.480469-12.300781-29.699219-12.300781zm15.554688 57.554687c-4.152344 4.15625-9.679688 6.445313-15.554688 6.445313s-11.398437-2.289063-15.554687-6.445313-6.445313-9.679687-6.445313-15.554687c0-5.878907 2.289063-11.402344 6.445313-15.558594 4.152344-4.15625 9.679687-6.441406 15.554687-6.441406s11.398438 2.289062 15.554688 6.441406c4.15625 4.15625 6.445312 9.679687 6.445312 15.558594 0 5.875-2.289062 11.398437-6.445312 15.554687zm0 0"})),o||(o=s.createElement("path",{className:"path primary",d:"m456.902344 97.335938c10.871094-16.308594 9.125-38.605469-5.253906-52.984376-7.933594-7.929687-18.480469-12.300781-29.699219-12.300781s-21.765625 4.371094-29.699219 12.300781c-7.933594 7.933594-12.300781 18.480469-12.300781 29.699219s4.367187 21.765625 12.300781 29.699219 18.480469 12.300781 29.699219 12.300781c7.167969 0 14.058593-1.789062 20.171875-5.148437 32.203125 41.285156 49.878906 92.5625 49.878906 145.097656 0 130.132812-105.867188 236-236 236-15.664062 0-31.328125-1.542969-46.550781-4.589844-5.414063-1.082031-10.683594 2.429688-11.769531 7.84375-1.082032 5.417969 2.429687 10.683594 7.84375 11.769532 16.511718 3.300781 33.496093 4.976562 50.476562 4.976562 68.378906 0 132.667969-26.628906 181.019531-74.980469 48.351563-48.351562 74.980469-112.640625 74.980469-181.019531 0-57.523438-19.535156-113.660156-55.097656-158.664062zm-50.507813-7.726563c-4.15625-4.15625-6.445312-9.679687-6.445312-15.558594 0-5.875 2.289062-11.398437 6.445312-15.554687 4.152344-4.15625 9.679688-6.445313 15.554688-6.445313s11.402343 2.289063 15.558593 6.445313c8.574219 8.578125 8.574219 22.535156 0 31.113281-4.15625 4.152344-9.683593 6.441406-15.558593 6.441406-5.878907 0-11.402344-2.289062-15.554688-6.441406zm0 0"})),r||(r=s.createElement("path",{className:"path primary",d:"m214.734375 428c0 5.523438 4.480469 10 10 10h62.527344c5.523437 0 10-4.476562 10-10v-19.386719c13.148437-3.539062 25.71875-8.75 37.53125-15.554687l13.6875 13.6875c1.875 1.875 4.417969 2.929687 7.074219 2.929687 2.648437 0 5.195312-1.054687 7.070312-2.933593l44.195312-44.226563c3.902344-3.90625 3.902344-10.238281 0-14.140625l-13.671874-13.671875c6.804687-11.8125 12.015624-24.382813 15.554687-37.53125h19.3125c5.523437 0 10-4.476563 10-10v-62.527344c0-5.523437-4.476563-10-10-10h-19.316406c-3.539063-13.144531-8.746094-25.714843-15.550781-37.527343l13.597656-13.597657c1.875-1.875 2.929687-4.421875 2.929687-7.074219-.003906-2.652343-1.058593-5.199218-2.933593-7.074218l-44.230469-44.195313c-3.902344-3.902343-10.234375-3.902343-14.140625.003907l-13.578125 13.582031c-11.8125-6.804688-24.382813-12.015625-37.53125-15.554688v-19.207031c0-5.523438-4.476563-10-10-10h-62.527344c-5.519531 0-10 4.476562-10 10v19.210938c-13.144531 3.535156-25.714844 8.746093-37.527344 15.550781l-13.582031-13.582031c-3.902344-3.902344-10.234375-3.90625-14.140625-.003907l-44.226563 44.199219c-1.878906 1.875-2.933593 4.417969-2.933593 7.070312 0 2.652344 1.054687 5.199219 2.929687 7.074219l13.597656 13.597657c-6.804687 11.8125-12.015624 24.378906-15.554687 37.527343h-19.277344c-5.523437 0-10 4.476563-10 9.996094l-.035156 62.527344c-.003906 2.652343 1.050781 5.199219 2.925781 7.074219s4.417969 2.929687 7.074219 2.929687h19.3125c3.539063 13.148437 8.75 25.71875 15.554687 37.53125l-13.671874 13.671875c-3.902344 3.902344-3.90625 10.234375 0 14.140625l44.195312 44.226563c1.875 1.875 4.417969 2.933593 7.070312 2.933593h.003907c2.652343 0 5.195312-1.054687 7.070312-2.929687l13.683594-13.6875c11.816406 6.804687 24.386719 12.015625 37.53125 15.554687zm-33.609375-55.972656c-3.957031-2.558594-9.164062-2.003906-12.5 1.328125l-12.175781 12.175781-30.058594-30.082031 12.164063-12.167969c3.332031-3.332031 3.886718-8.539062 1.328124-12.496094-9.066406-14.03125-15.441406-29.410156-18.941406-45.714844-.992187-4.605468-5.0625-7.898437-9.777344-7.898437h-17.175781l.023438-42.527344h17.152343c4.714844 0 8.785157-3.289062 9.777344-7.898437 3.5-16.300782 9.875-31.679688 18.941406-45.710938 2.558594-3.957031 2.003907-9.164062-1.328124-12.496094l-12.085938-12.089843 30.082031-30.058594 12.074219 12.078125c3.335938 3.332031 8.539062 3.882812 12.5 1.328125 14.027344-9.066406 29.40625-15.441406 45.710938-18.941406 4.605468-.992188 7.898437-5.066407 7.898437-9.777344v-17.078125h42.527344v17.074219c0 4.714843 3.289062 8.789062 7.898437 9.777343 16.300782 3.503907 31.683594 9.875 45.710938 18.941407 3.957031 2.558593 9.164062 2.007812 12.496094-1.328125l12.078124-12.074219 30.082032 30.058594-12.085938 12.085937c-3.335937 3.335938-3.886718 8.542969-1.328125 12.5 9.066407 14.03125 15.4375 29.410156 18.941407 45.710938.988281 4.609375 5.0625 7.898437 9.777343 7.898437h17.183594v42.527344h-17.183594c-4.714843 0-8.785156 3.292969-9.777343 7.898437-3.5 16.300782-9.875 31.683594-18.941407 45.710938-2.558593 3.960938-2.003906 9.167969 1.328125 12.5l12.164063 12.164062-30.058594 30.082032-12.175781-12.171875c-3.335938-3.335938-8.542969-3.886719-12.5-1.328125-14.03125 9.066406-29.410156 15.4375-45.710938 18.941406-4.609375.992188-7.898437 5.0625-7.898437 9.777344v17.253906h-42.527344v-17.253906c0-4.710938-3.292969-8.785156-7.898437-9.777344-16.300782-3.5-31.679688-9.875-45.710938-18.941406zm0 0"})),a||(a=s.createElement("path",{className:"path secondary",d:"m338.628906 256c0-45.5625-37.066406-82.628906-82.628906-82.628906s-82.628906 37.066406-82.628906 82.628906 37.066406 82.628906 82.628906 82.628906 82.628906-37.066406 82.628906-82.628906zm-145.257812 0c0-34.535156 28.09375-62.628906 62.628906-62.628906s62.628906 28.097656 62.628906 62.628906-28.09375 62.628906-62.628906 62.628906-62.628906-28.09375-62.628906-62.628906zm0 0"})),l||(l=s.createElement("path",{className:"path secondary",d:"m348.078125 37.820312c2.632813 0 5.210937-1.070312 7.070313-2.929687 1.859374-1.871094 2.929687-4.449219 2.929687-7.082031 0-2.617188-1.066406-5.199219-2.929687-7.070313-1.859376-1.859375-4.4375-2.929687-7.070313-2.929687-2.640625 0-5.207031 1.070312-7.066406 2.929687-1.863281 1.871094-2.933594 4.441407-2.933594 7.070313 0 2.640625 1.070313 5.210937 2.933594 7.082031 1.859375 1.859375 4.425781 2.929687 7.066406 2.929687zm0 0"})),c||(c=s.createElement("path",{className:"path secondary",d:"m164.359375 474.359375c-2.628906 0-5.210937 1.070313-7.070313 2.929687-1.859374 1.859376-2.929687 4.441407-2.929687 7.070313 0 2.640625 1.070313 5.210937 2.929687 7.070313 1.859376 1.859374 4.441407 2.929687 7.070313 2.929687s5.210937-1.070313 7.070313-2.929687c1.859374-1.859376 2.929687-4.441407 2.929687-7.070313s-1.070313-5.210937-2.929687-7.070313c-1.859376-1.859374-4.441407-2.929687-7.070313-2.929687zm0 0"})))},m=(0,s.forwardRef)(p);n.p},61213:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".access-token-attribute-option-checkbox{padding:4px}",""]);const l=a},87954:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".hybrid-flow-heading{margin-top:0 !important;margin-right:1rem !important}.access-token-attributes-feature-banner{padding-top:1rem !important}.access-token-attributes-dropdown{padding-top:1rem !important}.access-token-attributes-dropdown-input input{border:none !important;width:auto !important}.access-token-attributes-dropdown-input .MuiInputBase-root{margin-top:.5em !important}.access-token-attributes-dropdown-input .MuiFormLabel-root{font-size:.92857143em !important}",""]);const l=a},36836:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".secrets-dropdown{width:300px;max-height:300px;overflow-y:auto}.secret-search-input-container{margin:10px}.secret-search-input{width:100%}.create-new-secret-dropdown-item-loading{justify-content:center}",""]);const l=a},39974:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".passkey-adaptive-script-accordion-content{padding-left:calc(1.25em + .25rem) !important}.passkey-adaptive-script-accordion-content .code-segment{margin-top:10px}",""]);const l=a},76103:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-react-flow-canvas-background: #f8f7f5;--asg-auth-flow-builder-react-flow-handle-color: #696969}.visual-editor{height:63vh}.visual-editor.with-panel{width:calc(100% - var(--asg-auth-flow-builder-side-panel-drawer-mini-width))}.visual-editor .react-flow{background-color:var(--asg-auth-flow-builder-react-flow-canvas-background)}.visual-editor .react-flow .react-flow__handle{opacity:0}.visual-editor .update-button{position:absolute;right:0;bottom:0;margin:15px;z-index:9;box-shadow:#fff 0px 0px 12px 20px}.visual-editor .sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:32px}.visual-editor .visual-editor-info-message{position:absolute;z-index:9;width:100%;border-radius:0}",""]);const l=a},74722:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".add-step-button-wrapper{position:absolute;font-size:12px;pointer-events:all}.add-step-button.MuiButtonBase-root{height:36px;width:36px;color:var(--oxygen-palette-common-white);background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:none}.add-step-button.MuiButtonBase-root:hover,.add-step-button.MuiButtonBase-root:active{background-color:var(--asg-auth-flow-builder-react-flow-handle-color);box-shadow:0px 3px 5px -1px rgba(0,0,0,.2),0px 6px 10px 0px rgba(0,0,0,.14),0px 1px 18px 0px rgba(0,0,0,.12)}.add-step-button.MuiButtonBase-root .oxygen-icon{width:20px;height:20px}",""]);const l=a},56723:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".done-node.MuiFab-root{pointer-events:none;box-shadow:none;color:var(--oxygen-palette-common-white);background-color:rgba(0,0,0,0);display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;background:var(--oxygen-customComponents-Chip-properties-new-background)}.done-node.MuiFab-root .oxygen-typography{margin-left:5px;color:var(--oxygen-palette-common-white)}.done-node.MuiFab-root svg{height:30px;width:30px;fill:var(--oxygen-customComponents-Chip-properties-new-border-color)}.done-node.MuiFab-root svg path{stroke:var(--oxygen-customComponents-Chip-properties-new-border-color);stroke-width:var(--oxygen-customComponents-Chip-properties-icon-stroke-width)}",""]);const l=a},71605:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border: 2px dashed var(--oxygen-palette-divider)}.sign-in-box-node .oxygen-sign-in{display:flex;flex-flow:column nowrap;align-content:center;justify-content:center;align-items:center;text-align:left}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-box{padding:32px;width:350px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-logo{max-height:50px;margin-bottom:30px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-header{margin-bottom:32px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-sub-header{margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-text-field{margin-bottom:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-cta{margin:16px 0}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link{font-size:14px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-form .oxygen-sign-in-sign-up-link-action{margin-left:5px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options{margin-top:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button{position:absolute;z-index:999;right:29px;margin-top:-8px;background:#fff;width:20px;border:1px solid var(--oxygen-palette-divider);height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-sign-in-option:not(:last-child){margin-bottom:16px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button{background:var(--oxygen-palette-common-white);color:var(--oxygen-palette-common-black);width:100%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 1px 0 rgba(0,0,0,.12),0 1px 1px 0 rgba(0,0,0,.24)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button:hover{color:rgba(0,0,0,.8)}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button .oxygen-sign-in-option-image{height:20px}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add{background:rgba(0,0,0,0);box-shadow:none;border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);animation:pulsing-success 1500ms cubic-bezier(0, 0, 0.2, 1) infinite}.sign-in-box-node .oxygen-sign-in .oxygen-sign-in-options .oxygen-button.oxygen-sign-in-option-add .pulsating-badge{margin-left:14px}.sign-in-box-node .remove-button{position:absolute;z-index:999;right:-12px;margin-top:-10px;background:#fff;border:1px solid var(--oxygen-palette-divider);width:25px;height:25px}.sign-in-box-node .remove-button svg{fill:var(--oxygen-palette-text-secondary)}.sign-in-box-node .remove-button:hover{box-shadow:var(--oxygen-shadows-0)}.sign-in-box-node .additional-behaviors{margin-top:15px}.sign-in-box-node .step-id{margin-bottom:10px}@keyframes pulsing-success{0%{box-shadow:0 0 0 0 rgba(76,175,80,.5)}70%{box-shadow:0 0 0 8px rgba(76,175,80,0)}100%{box-shadow:0 0 0 0 rgba(76,175,80,0)}}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls{display:flex;flex-direction:row;justify-content:flex-end;gap:10px;margin-right:-10px;margin-left:-10px;margin-bottom:10px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button{width:20px;height:20px}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-controls .action-button svg{fill:var(--oxygen-palette-text-secondary)}.basic-sign-in-option-controls-wrapper .basic-sign-in-option-control-fields{border:var(--asg-auth-flow-builder-flows-basic-sign-in-option-controls-border);padding:10px 10px 0 10px;margin-right:-10px;margin-left:-10px}.totp-fragment .pin-code-input-fields,.sms-otp-fragment .pin-code-input-fields{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:12px;text-align:center}.totp-fragment .pin-code-input-fields .MuiInputBase-input,.sms-otp-fragment .pin-code-input-fields .MuiInputBase-input{text-align:center}.email-otp-fragment .otp-input .MuiFormLabel-root{text-wrap:wrap}.sms-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child,.email-otp-fragment .oxygen-sign-in-action-group .oxygen-sign-in-cta:first-child{margin-bottom:0px}.push-fragment .resend-button{color:#fff}.active-sessions-limit-fragment table,.active-sessions-limit-fragment th,.active-sessions-limit-fragment td{border:1px solid var(--oxygen-palette-divider);border-collapse:collapse;border-style:inset;text-align:center;font-size:1rem}.active-sessions-limit-fragment table{width:100%;margin-bottom:10px}",""]);const l=a},42835:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-flows-side-panel-toolbar-height: var(--asg-auth-flow-builder-side-panel-toolbar-height);--asg-auth-flow-builder-flows-side-panel-category-heading-height: 48px}.predefined-flows-side-panel{height:inherit}.predefined-flows-side-panel .predefined-flows-side-panel-content{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-toolbar-height));border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flows-side-panel-content.full-height{height:100%}.predefined-flows-side-panel .toolbar-container{border-bottom:1px solid var(--oxygen-palette-divider);border-left:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .toolbar-container .oxygen-typography{font-weight:500}.predefined-flows-side-panel .toolbar-container .oxygen-toolbar{background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories{box-shadow:none;background-color:var(--asg-auth-flow-builder-flows-side-panel-drawer-content-background);overflow:hidden;transition:height .3s ease-in-out}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category-heading{background:linear-gradient(180deg, #ffffff 0%, #f7f7f9 100%);box-shadow:inset 0px -1px 0px 0px #dee0e7,0 1px 1px 0 rgba(0,0,0,.06)}.predefined-flows-side-panel .predefined-flow-categories:not(:first-child) .predefined-flow-category-heading{border-top:1px solid var(--oxygen-palette-divider)}.predefined-flows-side-panel .predefined-flow-categories.expanded{height:50%}.predefined-flows-side-panel .predefined-flow-categories.expanded .MuiCollapse-root{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height)) !important;overflow:auto}.predefined-flows-side-panel .predefined-flow-categories.full-height{height:calc(100% - var(--asg-auth-flow-builder-flows-side-panel-category-heading-height))}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category{margin-top:20px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items{display:flex;flex-wrap:wrap;margin-top:15px;flex-direction:row;gap:10px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:flex-start;align-items:center;border:1px solid var(--oxygen-palette-divider);border-radius:var(--oxygen-shape-borderRadius);background-color:var(--oxygen-palette-common-white)}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence.full-width{width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence:not(.no-hover):hover{cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.09) !important}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step{align-items:center;display:flex;flex-direction:row;flex-wrap:wrap;gap:8px;padding:10px 15px;justify-content:flex-start;align-content:center;width:100%}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template{display:flex;justify-content:space-between}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .label{display:flex;flex-direction:row;align-content:center;align-items:center;gap:5px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions{display:flex;gap:5px;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:center}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step.adaptive-auth-template .actions .add-button{padding:5px;min-width:40px;border-radius:var(--oxygen-shape-borderRadius);font-size:12px}.predefined-flows-side-panel .predefined-flow-categories .predefined-flow-category .predefined-flow-category-items .predefined-flow-sequence .predefined-flow-sequence-step .predefined-flow-sequence-step-option{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center;gap:5px;padding:2px 8px}",""]);const l=a},27470:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".script-based-flow-switch .oxygen-accordion{border-bottom-right-radius:0;border-top-right-radius:0;border-top-left-radius:0;border-top:1px solid var(--oxygen-palette-divider)}.script-based-flow-switch .script-based-flow-switch-accordion-summary{display:flex;align-items:center}.script-based-flow-switch .script-based-flow-switch-accordion-summary .script-based-flow-switch-text{margin-left:10px}.script-based-flow-switch .script-based-flow-switch-accordion-details{border:1px solid var(--oxygen-palette-divider);padding-right:0;background:#f7f7f7;border-radius:8px;margin-right:10px;margin-left:10px}",""]);const l=a},78998:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".script-editor-panel{height:100%;width:calc(100% - 16px)}.script-editor-panel .script-editor{border:1px solid var(--oxygen-palette-divider);height:500px}.script-editor-toolbar-container .oxygen-toolbar{display:flex;justify-content:space-between;align-items:center;align-content:center;flex-wrap:nowrap;flex-direction:row;padding-left:0;padding-right:0}.script-editor-toolbar-container .oxygen-toolbar .actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;gap:10px}.script-editor-toolbar-container .oxygen-toolbar .actions .editor-theme-select .MuiSelect-select{padding:6px 15px;min-width:150px}.full-screen-script-editor-container{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:95%;height:90%;padding:32px}.full-screen-script-editor-container .script-editor-toolbar-container{background-color:var(--oxygen-palette-common-white);padding-left:15px;padding-right:15px;border-top-right-radius:var(--oxygen-shape-borderRadius);border-top-left-radius:var(--oxygen-shape-borderRadius)}",""]);const l=a},24858:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".secret-selection-menu-trigger{border-radius:var(--oxygen-shape-borderRadius);padding:3px 15px}.create-new-secret-dropdown{box-shadow:#cbcedb 0px 8px 24px;margin-top:8px}.create-new-secret-dropdown .oxygen-list{padding:0}.create-new-secret-dropdown .oxygen-list .oxygen-list-item{max-width:300px;gap:10px}.create-new-secret-dropdown .oxygen-list .oxygen-list-item .MuiListItemText-root{margin-right:20px}.create-new-secret-dropdown .oxygen-list .create-new-secret-button{border-radius:0;min-height:50px}.create-new-secret-dropdown .create-new-secret-dropdown-empty-placeholder .oxygen-divider{margin:10px 0}.create-new-secret-dropdown .create-new-secret-dropdown-item-loading{min-height:50px;justify-content:center}",""]);const l=a},73929:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,":root{--asg-auth-flow-builder-side-panel-drawer-width: 480px;--asg-auth-flow-builder-side-panel-drawer-mini-width: 32px;--asg-auth-flow-builder-side-panel-drawer-content-background: #fcfcfc;--asg-auth-flow-builder-side-panel-toolbar-height: 48px}.side-panel-drawer{width:var(--asg-auth-flow-builder-side-panel-drawer-width);flex-shrink:0;white-space:nowrap;box-sizing:border-box;border-top:1px solid var(--oxygen-palette-divider);border-right:1px solid var(--oxygen-palette-divider);border-bottom:1px solid var(--oxygen-palette-divider)}.side-panel-drawer .MuiDrawer-paper{background:var(--oxygen-palette-customComponents-Navbar-background)}.side-panel-drawer:not(.open){width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .MuiDrawer-paper{width:calc(var(--asg-auth-flow-builder-side-panel-drawer-mini-width) + 2px);transition:width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer:not(.open) .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron .MuiButtonBase-root svg{transform:rotate(0deg)}.side-panel-drawer-collapsible-hamburger{display:flex;align-items:center;justify-content:flex-start;padding:0 8px;min-height:var(--oxygen-customComponents-Header-properties-min-height)}.side-panel-drawer-collapsible-hamburger .oxygen-icon-button{height:48px;width:48px}.side-panel-drawer.open{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .MuiDrawer-paper{width:var(--asg-auth-flow-builder-side-panel-drawer-width);transition:width 225ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;overflow:hidden}.side-panel-drawer.open .side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{transform:rotate(180deg)}.side-panel-drawer-panel{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;height:100%}.side-panel-drawer-panel .side-panel-drawer-panel-controls{display:flex;background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);flex-direction:column}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron{height:calc(var(--asg-auth-flow-builder-side-panel-toolbar-height) + 4px);display:flex;padding:8px;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-chevron svg{transition:transform .3s ease}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label{height:100%;display:flex;flex-direction:column;flex-wrap:nowrap;align-content:center;justify-content:center;align-items:center}.side-panel-drawer-panel .side-panel-drawer-panel-controls .side-panel-drawer-panel-controls-label .oxygen-typography{position:absolute;transform:rotate(270deg)}.side-panel-drawer-panel .side-panel-drawer-panel-controls:hover{cursor:pointer;background-color:rgba(var(--oxygen-palette-action-activeChannel)/var(--oxygen-palette-action-hoverOpacity))}.side-panel-drawer-panel .side-panel-drawer-panel-content{background-color:var(--asg-auth-flow-builder-side-panel-drawer-content-background);height:100%}",""]);const l=a},16209:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".sign-in-method-split-view{border:1px solid var(--oxygen-palette-divider);border-radius:8px;display:flex}.sign-in-method-split-view .beta-feature-tab-item{display:flex;flex-direction:row;gap:8px;align-items:center}.sign-in-method-split-view .oxygen-tabs .oxygen-chip-beta{text-transform:uppercase}.sign-in-method-split-view .oxygen-tab-panel{padding:0}.sign-in-method-split-view .predefined-side-panel-drawer{border-top-right-radius:8px;border-bottom-right-radius:8px}.sign-in-method-split-view .predefined-side-panel-drawer.hidden{display:none}.sign-in-method-split-view .revert-to-default-button{right:0;box-shadow:0 0 2px 1px rgba(0,0,0,.08);position:absolute;z-index:5;margin:15px;border:none;background:#fefefe;display:flex;justify-content:center;align-items:center;height:30px;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;padding:8px 15px;gap:10px;border-radius:var(--oxygen-shape-borderRadius);transition:margin-top .2s ease-in-out}.sign-in-method-split-view .visual-editor-update-button-container{display:flex;justify-content:flex-end;padding:16px;gap:16px}.non-interactive{pointer-events:none}",""]);const l=a},44429:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(51139),o=n.n(i),r=n(32234),a=n.n(r)()(o());a.push([e.id,".login-flow-ai-banner-input{background-size:cover;background-repeat:no-repeat;background-position:right top;display:flex;flex-direction:column;justify-content:space-between;padding:30px 25px 0px;border-radius:8px}.login-flow-ai-banner-history-container{background:rgba(0,0,0,0);width:100%}.login-flow-ai-banner-history-title{padding:0px}.login-flow-ai-banner-history-card-container{padding:0px;margin:0px}.login-flow-ai-banner-history-card{max-height:130px;padding:.5rem;height:100%}.login-flow-ai-banner-history-card-text{display:block;text-overflow:ellipsis;word-wrap:break-word;overflow:hidden;max-height:5.1rem}.login-flow-ai-banner-history-button{padding:3px 10px;font-size:.8rem}.login-flow-ai-banner-caret-icon{transition-duration:.5s;transition-property:transform}.login-flow-ai-banner-caret-icon.close-icon{transform:rotate(-180deg);-webkit-transform:rotate(-180deg)}.login-flow-ai-banner-caret-icon.open-icon{transform:rotate(0deg);-webkit-transform:rotate(0deg)}.login-flow-ai-input-field{margin-top:1rem;width:60%}.login-flow-ai-input-field-inner{min-height:76px;background-color:#fff}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar{width:2px}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar-track{background:#f1f1f1}.login-flow-ai-input-field-inner textarea::-webkit-scrollbar-thumb{background-color:#e0e0e0;border-radius:10px}.login-flow-ai-input-button-icon{color:var(--oxygen-palette-gradients-primary-stop2)}.login-flow-ai-input-button-icon.disabled{color:#cdcdcd}.login-flow-ai-disclaimer{display:flex;width:60%;color:#8d91a3;margin-top:5px;margin-left:2px}",""]);const l=a}}]);