"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[7646],{39203:(e,n,t)=>{t.d(n,{Ug:()=>c,VL:()=>u,fF:()=>d,hI:()=>s,sS:()=>v,tN:()=>m,yq:()=>p});var a=t(11526),r=t(76271),i=t(96124),o=t(6833),l=a.AsgardeoSPAClient.getInstance().httpRequest.bind(a.AsgardeoSPAClient.getInstance()),s=function(e,n){var t={headers:{"Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,params:{domain:e,excludedAttributes:n},url:r.h.getState().config.endpoints.groups};return l(t).then((function(e){if(200==e.status)return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},c=function(e,n,t){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l={headers:{"Content-Type":"application/json"},method:o.f2.GET,params:t?{domain:e,excludedAttributes:n,filter:t}:{domain:e,excludedAttributes:n},url:r.h.getState().config.endpoints.groups},s=(0,i.Z)(a?l:null),c=s.data,u=s.error;return{data:c,error:u,isLoading:!u&&!c,isValidating:s.isValidating,mutate:s.mutate,response:s.response}},u=function(e,n){var t={headers:{"Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.GET,params:{excludedAttributes:n},url:r.h.getState().config.endpoints.groups+"/"+e};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e,n){var t={data:n,headers:{"Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.PATCH,url:r.h.getState().config.endpoints.groups+"/"+e};return l(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e){var n={data:e,headers:{"Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:r.h.getState().config.endpoints.groups+"/.search"};return l(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e){var n={headers:{"Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.DELETE,url:r.h.getState().config.endpoints.groups+"/"+e};return l(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},v=function(e){var n={data:e,headers:{"Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.POST,url:r.h.getState().config.endpoints.groups};return l(n).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},51318:(e,n,t)=>{function a(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return r(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw o}}}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}t.d(n,{F2:()=>l,P_:()=>u});var i=function(e){return Math.random()*e},o=function(e,n){var t,r=a(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e=e.replace(i,"")}}catch(o){r.e(o)}finally{r.f()}return e},l=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[],v="",f="",g=o("abcdefghijklmnopqrstuvwxyz",p),h=o("ABCDEFGHIJKLMNOPQRSTUVWXYZ",p),E=o("0123456789",p),I=o("!#$%&'()*+,-./:;<=>?@[]^_{|}~",p),N=0;N<i;N++)f+=s(f,g);for(var O=0;O<l;O++)f+=s(f,h);for(var y=0;y<u;y++)f+=s(f,E);for(var b=0;b<d;b++)f+=s(f,I);v=f;var _="";_=n?_+g:_,_=t?_+h:_,_=a?_+E:_,_=r?_+I:_,0===i&&0===l&&0===u&&0===d&&(_=_+g+h+E+I);var L=new Set(v.split("")),A=!1;m>0&&L.size<m&&(v=Array.from(L).join(""),A=!0);for(var S=e-v.length,C=0;C<S;C++)v+=A?c(v,_):s(v,_);return v},s=function(e,n){for(var t=n.charAt(i(n.length));t===e.charAt(e.length-1);)t=n.charAt(i(n.length));return t},c=function(e,n){for(var t=n.charAt(i(n.length));e.includes(t);)t=n.charAt(i(n.length));return t},u=function(e){var n=null==e?void 0:e.filter((function(e){return"password"===e.field}));if(!(void 0===n||n.length<1)){var t=n[0],a=null==t?void 0:t.rules;if(!((null==a?void 0:a.length)<1))return{consecutiveCharacterValidatorEnabled:null!==d(a,"RepeatedCharacterValidator","max.consecutive.character"),field:"password",maxConsecutiveCharacters:d(a,"RepeatedCharacterValidator","max.consecutive.character")?d(a,"RepeatedCharacterValidator","max.consecutive.character"):"0",maxLength:d(a,"LengthValidator","max.length")?d(a,"LengthValidator","max.length"):"30",minLength:d(a,"LengthValidator","min.length")?d(a,"LengthValidator","min.length"):"8",minLowerCaseCharacters:d(a,"LowerCaseValidator","min.length")?d(a,"LowerCaseValidator","min.length"):"0",minNumbers:d(a,"NumeralValidator","min.length")?d(a,"NumeralValidator","min.length"):"0",minSpecialCharacters:d(a,"SpecialCharacterValidator","min.length")?d(a,"SpecialCharacterValidator","min.length"):"0",minUniqueCharacters:d(a,"UniqueCharacterValidator","min.unique.character")?d(a,"UniqueCharacterValidator","min.unique.character"):"0",minUpperCaseCharacters:d(a,"UpperCaseValidator","min.length")?d(a,"UpperCaseValidator","min.length"):"0",type:"rules",uniqueCharacterValidatorEnabled:null!==d(a,"UniqueCharacterValidator","min.unique.character")}}},d=function(e,n,t){var a=null==e?void 0:e.filter((function(e){return e.validator===n}));if((null==a?void 0:a.length)>0){var r=a[0].properties;if((r=r.filter((function(e){return e.key===t}))).length>0)return r[0].value}return null}},57646:(e,n,t)=>{t.r(n),t.d(n,{ValidationConfigEditPage:()=>ye,default:()=>be});var a=t(49314),r=t(55007),i=t(60486),o=t(40838),l=t(51021),s=t(39203),c=t(79282),u=t(80659),d=t(51318),m=t(6833),p=t(82406),v=t(30382),f=t(43516),g=t(44194),h=t(10479),E=t(47245),I=t(62508),N=t(41206),O=t(89141),y=t(33839),b=t(88248),_=t(46461),L=t(17498),A=t(9779),S=t(24223),C=t(77659),R=t(63068),P=t(93139),T=t(11192),w=t(69357),x=t(34159),V=t(73405),D=t(37612),F=t(59870),M=t(8058),U=function(e){return e.EQ="eq",e.NE="ne",e}({}),j=function(e){return e.ROLES="roles",e.GROUPS="groups",e}({});function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){q(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function q(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=G(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!=G(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==G(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function W(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,i,o,l=[],s=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(a=i.call(t)).done)&&(l.push(a.value),l.length!==n);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,n)||H(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,n){if(e){if("string"==typeof e)return Y(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y(e,n):void 0}}function Y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var Q=function(e){return e.UP="up",e.DOWN="down",e}(Q||{}),K=function(e){var n=e.componentId,t=e.ruleList,a=e.isPasswordExpiryEnabled,r=e.isSkipFallbackEnabled,i=e.defaultPasswordExpiryTime,o=e.rolesList,s=e.groupsList,c=e.isReadOnly,u=e.onSkipFallbackChange,d=e.onDefaultPasswordExpiryTimeChange,m=e.onRuleChange,p=e.onRuleError,v=X((0,g.useState)(t),2),f=v[0],E=v[1],I=X((0,g.useState)({}),2),N=I[0],O=I[1],y=(0,h.$)().t;(0,g.useEffect)((function(){E(t),G(t)}),[t]);var G=function(e){var n={},t=!1;e.forEach((function(e){n[null==e?void 0:e.id]={expiryDays:!1,values:!1},0===(null==e?void 0:e.values.length)&&(n[null==e?void 0:e.id].values=!0,t=!0),(null==e?void 0:e.operator)===U.EQ&&((null==e?void 0:e.expiryDays)<M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE||(null==e?void 0:e.expiryDays)>M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE)&&(n[null==e?void 0:e.id].expiryDays=!0,t=!0)})),O(n),p(t)},Z=function(e,n,t){var a=W(f);a[e]=k(k({},a[e]),{},q({},n,t)),H(a)},H=function(e){E(e),m(e)},Y=function(e,n){if(!(n===Q.UP&&0===e||n===Q.DOWN&&e===f.length-1)){var t=W(f),a=n===Q.UP?e-1:e+1,r=[t[a],t[e]];t[e]=r[0],t[a]=r[1],t.forEach((function(e,n){return e.priority=n+1})),H(t)}},K=[{label:y("validation:passwordExpiry.rules.attributes.roles"),value:j.ROLES},{label:y("validation:passwordExpiry.rules.attributes.groups"),value:j.GROUPS}],B=[{label:y("validation:passwordExpiry.rules.actions.apply"),value:U.EQ},{label:y("validation:passwordExpiry.rules.actions.skip"),value:U.NE}],$=function(e,n){if(n){var t,a,r=e.audience;return(null==r||null===(t=r.type)||void 0===t?void 0:t.toLowerCase())===F.cv.APPLICATION.toLowerCase()?"application | ".concat(null==r?void 0:r.display):null!==(a=null==r?void 0:r.type)&&void 0!==a?a:""}var i=e.displayName;return null!=i&&i.includes("/")?i.split("/")[0]:null===l.wO||void 0===l.wO?void 0:l.wO.primaryUserstoreName},z=function(e,n){var t;if(n)return null!==(t=e.displayName)&&void 0!==t?t:"";var a=e.displayName;return null!=a&&a.includes("/")?a.split("/")[1]:null!=a?a:""};return g.createElement("div",{"data-componentid":n},g.createElement("div",{className:"flex-row-gap-10"},g.createElement(x.Z,{value:r?U.NE:U.EQ,onChange:function(e){var n=e.target.value;u(n===U.NE)},disabled:!a,readOnly:c,"data-componentid":"".concat(n,"-skip-fallback-select")},B.map((function(e){return g.createElement(w.Z,{key:e.value,value:e.value},e.label)}))),r?" "+y("validation:passwordExpiry.rules.messages.defaultRuleSkipMessage"):g.createElement("div",{className:"flex-row-gap-10"},g.createElement(V.Z,{type:"number",value:i,"data-componentid":"".concat(n,"-default-expiry-time"),onChange:function(e){var n=parseInt(e.target.value,10);d(n)},disabled:!a,inputProps:{max:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,min:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,readOnly:c}}),y("validation:passwordExpiry.rules.messages.defaultRuleApplyMessage"))),g.createElement(b.Z,{severity:"info",className:"info-box"},y("validation:passwordExpiry.rules.messages.info")),g.createElement(_.Z,{variant:"text",onClick:function(){if(!((null==f?void 0:f.length)>=M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_RULES_MAX_COUNT)){var e=[{attribute:j.ROLES,expiryDays:30,id:"rule".concat(Date.now()),operator:U.EQ,priority:1,values:[]}].concat(W(f.map((function(e){return k(k({},e),{},{priority:(null==e?void 0:e.priority)+1})}))));H(e)}},className:"add-rule-btn",disabled:!a||c,"data-componentid":"".concat(n,"-add-rule")},g.createElement("div",{className:"flex-row-gap-10"},g.createElement(D.pO,null),y("validation:passwordExpiry.rules.buttons.addRule"))),(null==f?void 0:f.length)>0&&g.createElement("div",null,y("validation:passwordExpiry.rules.messages.ifUserHas")),g.createElement(R.Z,null,null==f?void 0:f.map((function(e,t){var r,i;return g.createElement(P.Z,{key:null==e?void 0:e.id},g.createElement(S.Z,{container:!0,spacing:2,alignItems:"center",className:"full-width"},g.createElement(S.Z,{md:1},g.createElement("div",{className:"priority-arrows"},g.createElement(C.Z,{onClick:function(){return Y(t,Q.UP)},disabled:!a||0===t||c,"data-componentid":"".concat(n,"-move-up-").concat(t)},g.createElement(D.g8,{fill:"#000000"})),g.createElement(C.Z,{disabled:!a||t===f.length-1||c,onClick:function(){return Y(t,Q.DOWN)},"data-componentid":"".concat(n,"-move-down-").concat(t)},g.createElement(D.v4,{fill:"#000000"})))),g.createElement(S.Z,{md:1.5},g.createElement(x.Z,{value:null==e?void 0:e.attribute,onChange:function(e){return Z(t,"attribute",e.target.value)},fullWidth:!0,readOnly:c,disabled:!a,"data-componentid":"".concat(n,"-attribute-select-").concat(t)},null==K?void 0:K.map((function(e){return g.createElement(w.Z,{key:e.value,value:e.value},e.label)})))),g.createElement(S.Z,{md:4},g.createElement(x.Z,{className:"select-multiple-menu",labelId:"".concat(n,"-values-select-label-").concat(t),"data-componentid":"".concat(n,"-values-select-").concat(t),multiple:!0,readOnly:c,value:null==e?void 0:e.values,onChange:function(n){return function(e,n,t){var a=n.target.value,r="string"==typeof a?a.split(","):a,i=t?o:s,l=r.filter((function(e){return i.some((function(n){return n.id===e}))})).slice(0,M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_RULE_MAX_VALUES_PER_RULE);Z(e,"values",l)}(t,n,(null==e?void 0:e.attribute)===j.ROLES)},renderValue:function(n){return function(e,n){if(!e||0===(null==e?void 0:e.length))return null;var t=(null==n?void 0:n.attribute)===j.ROLES,a=t?o:s,r=null==a?void 0:a.find((function(n){return n.id===e[0]}));return r?g.createElement("div",{className:"flex-row-gap-10"},g.createElement("div",{className:"flex-row-gap-10"},g.createElement(A.Z,{label:$(r,t),size:"small"}),g.createElement(T.Z,{primary:z(r,t)})),(null==e?void 0:e.length)>1&&g.createElement(A.Z,{label:"+".concat((null==e?void 0:e.length)-1," ").concat(y("common:more")),size:"small"})):null}(n,e)},disabled:!a,error:null===(r=N[null==e?void 0:e.id])||void 0===r?void 0:r.values},function(e){var n=(null==e?void 0:e.attribute)===j.ROLES;return(n?o:s).map((function(t){return g.createElement(w.Z,{key:t.id,value:t.id,className:"flex-row-gap-10"},g.createElement(L.Z,{checked:(null==e?void 0:e.values.indexOf(t.id))>-1}),g.createElement(A.Z,{label:$(t,n)}),g.createElement(T.Z,{primary:z(t,n)}))}))}(e))),g.createElement(S.Z,{md:1.5},g.createElement(x.Z,{value:null==e?void 0:e.operator,onChange:function(e){return Z(t,"operator",e.target.value)},fullWidth:!0,readOnly:c,disabled:!a,"data-componentid":"".concat(n,"-operator-select-").concat(t)},B.map((function(e){return g.createElement(w.Z,{key:e.value,value:e.value},e.label)})))),(null==e?void 0:e.operator)===U.EQ&&g.createElement(S.Z,{md:1},g.createElement(V.Z,{id:"expiryDays","data-componentid":"".concat(n,"-expiry-days-").concat(t),required:!0,value:null==e?void 0:e.expiryDays,type:"number",onChange:function(e){return function(e,n){var t=""===n?0:parseInt(n);Z(e,"expiryDays",t)}(t,e.target.value)},inputProps:{max:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MAX_VALUE,min:M.X.PASSWORD_EXPIRY_FORM_FIELD_CONSTRAINTS.EXPIRY_TIME_MIN_VALUE,readOnly:c},error:null===(i=N[null==e?void 0:e.id])||void 0===i?void 0:i.expiryDays,disabled:!a})),g.createElement(S.Z,{md:2.5,className:"flex-row"},(null==e?void 0:e.operator)===U.EQ?y("validation:passwordExpiry.rules.messages.applyMessage"):y("validation:passwordExpiry.rules.messages.skipMessage")),(null==e?void 0:e.operator)===U.NE&&g.createElement(S.Z,{md:1},g.createElement("div",null)),g.createElement(S.Z,{md:.5},g.createElement(C.Z,{disabled:c||!a,onClick:function(){return n=null==e?void 0:e.id,t=f.filter((function(e){return(null==e?void 0:e.id)!==n})).map((function(e,n){return k(k({},e),{},{priority:n+1})})),void H(t);var n,t},"data-componentid":"".concat(n,"-delete-rule-").concat(t)},g.createElement(D.XH,null)))))}))))},B=t(44485),$=t(51835),z=t.n($),J=t(27975),ee=t.n(J),ne=t(55900),te=t.n(ne),ae=t(21555),re=t.n(ae),ie=t(3621),oe=t.n(ie),le=t(5062),se=t.n(le),ce=t(97069),ue={};ue.styleTagTransform=se(),ue.setAttributes=re(),ue.insert=te().bind(null,"head"),ue.domAPI=ee(),ue.insertStyleElement=oe();z()(ce.Z,ue);ce.Z&&ce.Z.locals&&ce.Z.locals;function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function me(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?me(Object(t),!0).forEach((function(n){ve(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ve(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=de(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,n||"default");if("object"!=de(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==de(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function fe(e){return Ne(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||he()}function ge(e,n){return Ne(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,i,o,l=[],s=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(a=i.call(t)).done)&&(l.push(a.value),l.length!==n);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return l}}(e,n)||Ee(e,n)||he()}function he(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ee(e,n){if(e){if("string"==typeof e)return Ie(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ie(e,n):void 0}}function Ie(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}function Ne(e){if(Array.isArray(e))return e}var Oe="validation-config-form",ye=function(e){var n,t,b,_=e["data-componentid"],L=(0,E.I0)(),A=(0,g.useRef)(null),S=(0,h.$)().t,C=(0,f.fQ)().getLink,R=(0,E.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n?void 0:n.isPasswordInputValidationEnabled})),P=(0,E.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n||null===(n=n.features)||void 0===n||null===(n=n.loginAndRegistration)||void 0===n?void 0:n.disabledFeatures})),T=(0,E.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n?void 0:n.features})),w=(0,E.v9)((function(e){var n;return null==e||null===(n=e.config)||void 0===n||null===(n=n.ui)||void 0===n||null===(n=n.passwordPolicyConfigs)||void 0===n?void 0:n.maxPasswordAllowedLength})),x=null==w||null===(n=w.toString())||void 0===n?void 0:n.length,V=ge((0,g.useState)(!1),2),D=V[0],F=V[1],M=ge((0,g.useState)(void 0),2),G=M[0],Z=M[1],k=ge((0,g.useState)(!0),1)[0],q=ge((0,g.useState)(!1),2),W=q[0],X=q[1],H=ge((0,g.useState)(!1),2),Y=H[0],Q=H[1],$=ge((0,g.useState)(void 0),2),z=$[0],J=$[1],ee=ge((0,g.useState)(!0),2),ne=ee[0],te=ee[1],ae=ge((0,g.useState)(!1),2),re=ae[0],ie=ae[1],oe=ge((0,g.useState)(!1),2),le=oe[0],se=oe[1],ce=ge((0,g.useState)(30),2),ue=ce[0],de=ce[1],me=ge((0,g.useState)(!1),2),he=me[0],Ee=me[1],Ie=ge((0,g.useState)([]),2),Ne=Ie[0],ye=Ie[1],be=ge((0,g.useState)([]),2),_e=be[0],Le=be[1],Ae=ge((0,g.useState)(!1),2),Se=Ae[0],Ce=Ae[1],Re=ge((0,g.useState)(void 0),2),Pe=Re[0],Te=Re[1],we=ge((0,g.useState)([]),2),xe=we[0],Ve=we[1],De=!(0,r.EV)(null==T||null===(t=T.governanceConnectors)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),Fe=(0,r.EV)(null==T||null===(b=T.ruleBasedPasswordExpiry)||void 0===b||null===(b=b.scopes)||void 0===b?void 0:b.read),Me=(null==P?void 0:P.includes(B.P.FEATURE_DICTIONARY.get("RULE_BASED_PASSWORD_EXPIRY")))||!Fe,Ue=l.KL.usePasswordHistory(),je=Ue.data,Ge=Ue.error,Ze=Ue.mutate,ke=l.KL.usePasswordExpiry(),qe=ke.data,We=ke.error,Xe=ke.mutate,He=(0,y.W)(R),Ye=He.data,Qe=He.error,Ke=He.mutate,Be=(0,s.Ug)(null,"members,roles",null,!Me),$e=Be.data,ze=Be.error,Je=Be.isLoading,en=(0,c.Z)(100,null,null,"users,groups,permissions,associatedApplications",!Me),nn=en.data,tn=en.isLoading,an=en.error;(0,g.useEffect)((function(){R||cn()}),[]),(0,g.useEffect)((function(){var e,n,t,a,r,i,o,l,s,c;ze&&L((0,p.V_)({description:null!==(e=null!==(n=null==ze||null===(t=ze.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)&&void 0!==n?n:null==ze||null===(a=ze.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.detail)&&void 0!==e?e:S("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:m.QU.ERROR,message:null!==(r=null==ze||null===(i=ze.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)&&void 0!==r?r:S("console:manage.features.groups.notifications.fetchGroups.genericError.message")}));an&&L((0,p.V_)({description:null!==(o=null!==(l=null==an||null===(s=an.response)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.description)&&void 0!==l?l:null==an||null===(c=an.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.detail)&&void 0!==o?o:S("roles:notifications.fetchRoles.genericError.description"),level:m.QU.ERROR,message:S("roles:notifications.fetchRoles.genericError.message")}))}),[ze,an]),(0,g.useEffect)((function(){var e,n,t,a;if(qe&&!Me){var r=function(e){var n;return null==qe||null===(n=qe.properties)||void 0===n?void 0:n.find((function(n){return n.name===e}))};se("true"===(null===(e=r(u.vH.PASSWORD_EXPIRY_ENABLE))||void 0===e?void 0:e.value)),de(parseInt(null===(n=r(u.vH.PASSWORD_EXPIRY_TIME))||void 0===n?void 0:n.value,10)||30),Ee("true"===(null===(t=r(u.vH.PASSWORD_EXPIRY_SKIP_IF_NO_APPLICABLE_RULES))||void 0===t?void 0:t.value));var i=null==qe||null===(a=qe.properties)||void 0===a?void 0:a.filter((function(e){var n;return null==e||null===(n=e.name)||void 0===n?void 0:n.startsWith(u.vH.PASSWORD_EXPIRY_RULES_PREFIX)})).reduce((function(e,n){var t=rn(n);return null!==t&&e.push(t),e}),[]).sort((function(e,n){return e.priority-n.priority}));Le(i),ye(i)}}),[qe]);var rn=function(e){var n,t=fe(null==e||null===(n=e.value)||void 0===n?void 0:n.split(",")),a=t[0],r=t[1],i=t[2],o=t[3],l=t.slice(4);if(!(a&&r&&i&&o&&0!==l.length))return null;var s=parseInt(a,10),c=parseInt(r,10);return isNaN(s)||isNaN(c)?null:Object.values(j).includes(i)&&Object.values(U).includes(o)?{attribute:i,expiryDays:c,id:null==e?void 0:e.name,operator:o,priority:s,values:l}:null};(0,g.useEffect)((function(){!je||!qe||R&&!Ye||!R&&!xe&&(null==xe?void 0:xe.length)>0||sn()}),[je,Ye,qe,xe]),(0,g.useEffect)((function(){void 0!==G&&(J(pe({},G)),null!=G&&G.uniqueCharacterValidatorEnabled&&X(!0),null!=G&&G.consecutiveCharacterValidatorEnabled&&Q(!0),te(!1))}),[G]),(0,g.useEffect)((function(){var e,n,t;if(Qe||Ge||We)if(null!=Qe&&null!==(e=Qe.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description){var a,r;if(404===(null==Qe||null===(a=Qe.response)||void 0===a?void 0:a.status))return;L((0,p.V_)({description:null!==(r=Qe.response.data.description)&&void 0!==r?r:S("validation:fetchValidationConfigData.error.description"),level:m.QU.ERROR,message:S("validation:fetchValidationConfigData.error.message")}))}else if(null!=Ge&&null!==(n=Ge.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description){var i,o;if(404===(null==Ge||null===(i=Ge.response)||void 0===i?void 0:i.status))return;L((0,p.V_)({description:null!==(o=Qe.response.data.description)&&void 0!==o?o:S("validation:fetchValidationConfigData.error.description"),level:m.QU.ERROR,message:S("validation:fetchValidationConfigData.error.message")}))}else if(null!=We&&null!==(t=We.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description){var l;if(404===(null==We||null===(l=We.response)||void 0===l?void 0:l.status))return;L((0,p.V_)({description:We.response.data.description,level:m.QU.ERROR,message:S("validation:fetchValidationConfigData.error.message")}))}else L((0,p.V_)({description:S("validation:fetchValidationConfigData.genericError.description"),level:m.QU.ERROR,message:S("validation:fetchValidationConfigData.genericError.message")}))}),[Qe,Ge,We]);var on,ln,sn=function(){var e,n=null===l.KL||void 0===l.KL?void 0:l.KL.processInitialValues((0,d.P_)(Ye),je,ie);(n=l.KL.processPasswordExpiryInitialValues(n,qe,se),R)||(n=xe.reduce((function(e,n){var t=u.e9.encodeConnectorPropertyName(n.name);return pe(pe({},e),{},ve({},t,n.value))}),n),Te("true"===(null===(e=n)||void 0===e?void 0:e[u.e9.encodeConnectorPropertyName(u.vH.PASSWORD_POLICY_ENABLE)])));Z(n)},cn=function(){(0,u.PP)(u.vH.IDENTITY_GOVERNANCE_PASSWORD_POLICIES_ID,u.vH.PASSWORD_POLICY_CONNECTOR_ID).then((function(e){Ve(null==e?void 0:e.properties)})).catch((function(e){e.response&&e.response.data&&e.response.data.detail?L((0,p.V_)({description:S("governanceConnectors:notifications.getConnector.error.description",{description:e.response.data.description}),level:m.QU.ERROR,message:S("governanceConnectors:notifications.getConnector.error.message")})):L((0,p.V_)({description:S("governanceConnectors:notifications.getConnector.genericError.description"),level:m.QU.ERROR,message:S("governanceConnectors:notifications.getConnector.genericError.message")}))}))},un=function(e){if(!Se){var n,t,a=pe(pe({},e),{},{passwordExpiryEnabled:le});Me||(a.passwordExpiryRules=(n={},t=new Set,null==_e||_e.forEach((function(e){var a;if(e){var r="".concat(u.vH.PASSWORD_EXPIRY_RULES_PREFIX).concat(null==e?void 0:e.priority);n[r]="".concat(e.priority,",").concat(e.expiryDays,",").concat(e.attribute,",").concat(e.operator,",").concat(null===(a=e.values)||void 0===a?void 0:a.join(",")),t.add(r)}})),null==Ne||Ne.forEach((function(e){t.has(null==e?void 0:e.id)||(n[null==e?void 0:e.id]="")})),n),a.passwordExpirySkipFallback=he,a.passwordExpiryTime=ue),e.uniqueCharacterValidatorEnabled&&"0"===e.minUniqueCharacters&&(a.minUniqueCharacters="1"),e.consecutiveCharacterValidatorEnabled&&"0"===e.maxConsecutiveCharacters&&(a.maxConsecutiveCharacters="1"),function(e){var n=!1,t="";return k&&(Number(e.minLength)<B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE?(n=!0,t=S("validation:validationError.minLimitError")):Number(e.maxLength)>w?(n=!0,t=S("validation:validationError.maxLimitError",{maxPasswordValue:w})):Number(e.minLength)>Number(e.maxLength)?(n=!0,t=S("validation:validationError.minMaxMismatch")):e.uniqueCharacterValidatorEnabled&&Number(e.minUniqueCharacters)>Number(e.minLength)?(n=!0,t=S("validation:validationError.uniqueChrMismatch")):e.consecutiveCharacterValidatorEnabled&&Number(e.maxConsecutiveCharacters)>Number(e.minLength)?(n=!0,t=S("validation:validationError.consecutiveChrMismatch")):Number(e.minLowerCaseCharacters)+Number(e.minUpperCaseCharacters)+Number(e.minSpecialCharacters)+Number(e.minNumbers)>Number(e.minLength)&&(n=!0,t=S("validation:validationError.invalidConfig"))),!n||(L((0,p.V_)({description:t,level:m.QU.ERROR,message:S("validation:validationError.wrongCombination")})),!1)}(a)&&(F(!0),l.KL.processPasswordPoliciesSubmitData(a,!R).then((function(){if(R)return(0,y.s)(a,null,Ye[0])})).then((function(){Ze(),Xe(),R?Ke():cn(),L((0,p.V_)({description:S("validation:notifications.success.description"),level:m.QU.SUCCESS,message:S("validation:notifications.success.message")}))})).catch((function(e){var n,t,a,r,i,o,l;null!=e&&null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.description?L((0,p.V_)({description:null!==(t=null!==(a=null==e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.description)&&void 0!==a?a:null==e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.detail)&&void 0!==t?t:S("validation:notifications.error.description"),level:m.QU.ERROR,message:null!==(o=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)&&void 0!==o?o:S("validation:notifications.error.message")})):L((0,p.V_)({description:S("validation:notifications.genericError.description"),level:m.QU.ERROR,message:S("validation:notifications.genericError.message")}))})).finally((function(){F(!1)})))}};return g.createElement(f.Xg,{pageTitle:S("validation:pageTitle"),title:g.createElement(g.Fragment,null,S("validation:pageTitle")),description:g.createElement(g.Fragment,null,S("validation:description"),g.createElement(f.eb,{link:C("manage.validation.passwordValidation.learnMore")},S("common:learnMore"))),"data-componentid":"".concat(_,"-page-layout"),backButton:{"data-testid":"".concat(_,"-page-back-button"),onClick:function(){o.m.push(i.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:S("governanceConnectors:goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,className:"password-validation-form"},g.createElement(N.R,{innerRef:A},g.createElement(O.Z,{className:"mt-3"},g.createElement(O.Z.Row,{columns:1},g.createElement(O.Z.Column,{width:16},g.createElement(f.pJ,{className:"form-wrapper",padded:"very"},g.createElement("div",{className:"validation-configurations password-validation-configurations"},ne||!Me&&(tn||Je)?g.createElement(f.pO,null):g.createElement(v.l0,{id:Oe,initialValues:G,uncontrolledForm:!0,validate:null,onSubmit:function(e){return un(e)},enableReInitialize:!0},k&&g.createElement("div",{className:"validation-configurations-form"},Me?l.KL.passwordExpiryComponent(_,le,se,S,De):g.createElement(g.Fragment,null,g.createElement("div",{className:"title-header"},g.createElement(f.X6,{as:"h4"},S("validation:passwordExpiry.heading")),g.createElement(f.X6,{as:"h4"},g.createElement(a.Z,{checked:le,disabled:De,"data-componentid":"".concat(_,"-password-expiry-toggle"),onChange:function(){return se(!le)}}))),g.createElement(K,{componentId:"".concat(_,"-password-expiry-rules"),isPasswordExpiryEnabled:le,isSkipFallbackEnabled:he,defaultPasswordExpiryTime:ue,ruleList:null!=_e?_e:[],rolesList:null!==(on=null==nn?void 0:nn.Resources)&&void 0!==on?on:[],groupsList:null!==(ln=null==$e?void 0:$e.Resources)&&void 0!==ln?ln:[],isReadOnly:De,onDefaultPasswordExpiryTimeChange:function(e){return de(e)},onSkipFallbackChange:function(e){return Ee(e)},onRuleChange:function(e){return Le(e)},onRuleError:function(e){return Ce(e)}})),g.createElement(I.Z,{className:"heading-divider"}),l.KL.passwordHistoryCountComponent(_,re,ie,S,De)),R?g.createElement("div",{className:"validation-configurations-form"},g.createElement(I.Z,{className:"heading-divider"}),g.createElement(f.X6,{as:"h4"},S("extensions:manage.serverConfigurations.passwordValidation.heading")),g.createElement("div",{className:"criteria"},g.createElement("label",null,"Must be between"),g.createElement(v.gN.Input,{ariaLabel:"minLength",inputType:"number",name:"minLength",validation:function(e,n){var t=parseInt(e),a=B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(t<a)return S("common:minValidation",{min:a});var r=n.maxLength?parseInt(n.maxLength):w;return t>r?S("common:maxValidation",{max:r}):void 0},min:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:z.maxLength?z.maxLength:w,width:2,required:!0,hidden:!1,placeholder:"min",maxLength:x,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,listen:function(e){J(pe(pe({},z),{},{minLength:e}))},readOnly:De,disabled:!1,"data-testid":"".concat(_,"-min-length")}),g.createElement("label",null,"and"),g.createElement(v.gN.Input,{ariaLabel:"maxLength",inputType:"number",name:"maxLength",validation:function(e,n){var t=parseInt(e),a=n.minLength?parseInt(n.minLength):B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;return t<a?S("common:minValidation",{min:a}):t>w?S("common:maxValidation",{max:w}):void 0},min:z.minLength?z.minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:w,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){J(pe(pe({},z),{},{maxLength:e}))},maxLength:x,labelPosition:"top",minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:De,disabled:!1,"data-testid":"".concat(_,"-max-length")}),g.createElement("label",null,"characters")),g.createElement("label",{className:"labelName"},"Must contain at least"),g.createElement("div",{className:"criteria rule mt-3"},g.createElement(v.gN.Input,{ariaLabel:"minNumbers",inputType:"number",name:"minNumbers",validation:function(e,n){var t=parseInt(e),a=B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return S("common:minValidation",{min:a});var r=n.minLength?parseInt(n.minLength):w;return t>r?S("common:maxValidation",{max:r}):void 0},min:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:z.minLength?z.minLength:w,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(pe(pe({},z),{},{minNumbers:e}))},maxLength:x,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:De,disabled:!1,"data-componentid":"".concat(_,"-min-numbers")}),g.createElement("label",null,"numbers (0-9).")),g.createElement("div",{className:"criteria rule"},g.createElement(v.gN.Input,{ariaLabel:"minUpperCaseCharacters",inputType:"number",name:"minUpperCaseCharacters",validation:function(e,n){var t=parseInt(e),a=B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return S("common:minValidation",{min:a});var r=n.minLength?parseInt(n.minLength):w;return t>r?S("common:maxValidation",{max:r}):void 0},min:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:z.minLength?z.minLength:w,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(pe(pe({},z),{},{minUpperCaseCharacters:e}))},maxLength:x,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:De,disabled:!1,"data-testid":"".concat(_,"-min-upper-case-characters")}),g.createElement("label",null,"upper-case characters (A-Z).")),g.createElement("div",{className:"criteria rule"},g.createElement(v.gN.Input,{ariaLabel:"minLowerCaseCharacters",inputType:"number",name:"minLowerCaseCharacters",validation:function(e,n){var t=parseInt(e),a=B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return S("common:minValidation",{min:a});var r=n.minLength?parseInt(n.minLength):w;return t>r?S("common:maxValidation",{max:r}):void 0},min:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:z.minLength?z.minLength:w,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(pe(pe({},z),{},{minLowerCaseCharacters:e}))},maxLength:x,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,readOnly:De,disabled:!1,"data-testid":"".concat(_,"-min-lower-case-characters")}),g.createElement("label",null,"lower-case characters (a-z).")),g.createElement("div",{className:"criteria rule"},g.createElement(v.gN.Input,{ariaLabel:"minSpecialCharacters",inputType:"number",name:"minSpecialCharacters",validation:function(e,n){var t=parseInt(e),a=B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE;if(t<a)return S("common:minValidation",{min:a});var r=n.minLength?parseInt(n.minLength):w;return t>r?S("common:maxValidation",{max:r}):void 0},min:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_VALUE,max:z.minLength?z.minLength:w,width:2,required:!0,hidden:!1,placeholder:"min",listen:function(e){J(pe(pe({},z),{},{minSpecialCharacters:e}))},maxLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:De,disabled:!1,"data-testid":"".concat(_,"-min-special-characters")}),g.createElement("label",null,"special characters (!@#$%^&*).")),g.createElement("div",{className:"criteria"},g.createElement(v.gN.Checkbox,{ariaLabel:"uniqueCharacterValidatorEnabled",name:"uniqueCharacterValidatorEnabled",required:!1,label:"Must contain at least",listen:function(e){X(e)},width:16,"data-testid":"".concat(_,"-unique-chr-enable"),readOnly:De}),g.createElement(v.gN.Input,{ariaLabel:"minUniqueCharacters",inputType:"number",name:"minUniqueCharacters",validation:function(e,n){var t=parseInt(e);if(t<1)return S("common:minValidation",{min:1});var a=n.minLength?parseInt(n.minLength):w;return t>a?S("common:maxValidation",{max:a}):void 0},min:1,max:z.minLength?z.minLength:w,width:2,required:!0,hidden:!1,placeholder:"min",value:Number(G.minUniqueCharacters)>0?G.minUniqueCharacters:1,listen:function(e){J(pe(pe({},z),{},{minUniqueCharacters:e}))},maxLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:De,disabled:!W,"data-testid":"".concat(_,"-min-unique-chr")}),g.createElement("label",null,"unique characters.")),g.createElement("div",{className:"criteria"},g.createElement(v.gN.Checkbox,{ariaLabel:"consecutiveCharacterValidatorEnabled",name:"consecutiveCharacterValidatorEnabled",label:"Must not contain more than",required:!1,disabled:!1,listen:function(e){Q(e)},width:16,"data-testid":"".concat(_,"-consecutive-chr-enable"),readOnly:De}),g.createElement(v.gN.Input,{ariaLabel:"maxConsecutiveCharacters",inputType:"number",name:"maxConsecutiveCharacters",validation:function(e,n){var t=parseInt(e);if(t<1)return S("common:minValidation",{min:1});var a=n.minLength?parseInt(n.minLength):w;return t>a?S("common:maxValidation",{max:a}):void 0},min:1,max:z.minLength?z.minLength:w,width:2,required:!0,hidden:!1,placeholder:"max",value:Number(G.maxConsecutiveCharacters)>0?G.maxConsecutiveCharacters:1,listen:function(e){J(pe(pe({},z),{},{maxConsecutiveCharacters:e}))},maxLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.MIN_LENGTH,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:De,disabled:!Y,"data-testid":"".concat(_,"-max-consecutive-chr")}),g.createElement("label",null,"repeated characters."))):g.createElement("div",{className:"validation-configurations-form"},g.createElement(I.Z,{className:"heading-divider"}),g.createElement(f.X6,{as:"h4"},S("extensions:manage.serverConfigurations.passwordValidation.heading")),g.createElement(v.gN.Checkbox,{className:"toggle mb-4",ariaLabel:"passwordPolicy.enable",name:u.e9.encodeConnectorPropertyName("passwordPolicy.enable"),required:!1,checked:Pe,label:u.e9.resolveFieldLabel("Password Policies","passwordPolicy.enable","Validate passwords based on a policy pattern"),width:16,"data-componentid":"".concat(_,"-enable-password-policy"),listen:function(e){return Te(e)},readOnly:De}),g.createElement("div",{className:"validation-configurations-form mt-3 mb-3"},g.createElement("div",{className:"criteria"},g.createElement("label",null,"Must be between"),g.createElement(v.gN.Input,{ariaLabel:"Minimum length of the password",inputType:"number",name:u.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),validation:function(e,n){var t=parseInt(e),a=B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;if(t<a)return S("common:minValidation",{min:a});var r=n.maxLength?parseInt(n.maxLength):w;return t>r?S("common:maxValidation",{max:r}):void 0},min:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:z.maxLength?z.maxLength:w,listen:function(e){J(pe(pe({},z),{},ve({},u.e9.encodeConnectorPropertyName("passwordPolicy.min.length"),e)))},width:2,required:!0,hidden:!1,placeholder:"min",maxLength:x,minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:De,disabled:!Pe,"data-testid":"".concat(_,"-min-length")}),g.createElement("label",null,"and"),g.createElement(v.gN.Input,{ariaLabel:"Maximum length of the password",inputType:"number",name:u.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),validation:function(e,n){var t=parseInt(e),a=n.minLength?parseInt(n.minLength):B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE;return t<a?S("common:minValidation",{min:a}):t>w?S("common:maxValidation",{max:w}):void 0},min:z.minLength?z.minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_VALUE,max:w,width:2,required:!0,hidden:!1,placeholder:"max",listen:function(e){J(pe(pe({},z),{},ve({},u.e9.encodeConnectorPropertyName("passwordPolicy.max.length"),e)))},maxLength:x,labelPosition:"top",minLength:B.P.VALIDATION_CONFIGURATION_FORM_FIELD_CONSTRAINTS.PASSWORD_MIN_LENGTH,readOnly:De,disabled:!Pe,"data-testid":"".concat(_,"-max-length")}),g.createElement("label",null,"characters"))),g.createElement(v.gN.Input,{ariaLabel:"passwordPolicy.pattern",inputType:"text",name:u.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),type:"text",width:12,required:!0,placeholder:S("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexPlaceholder"),labelPosition:"top",minLength:3,maxLength:255,readOnly:De,listen:function(e){J(pe(pe({},z),{},ve({},u.e9.encodeConnectorPropertyName("passwordPolicy.pattern"),e)))},"data-componentid":"".concat(_,"-password-pattern-regex"),label:u.e9.resolveFieldLabel("Password Validation","passwordPolicy.pattern",S("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexLabel")),disabled:!Pe}),g.createElement(f.kW,{className:"mb-4"},u.e9.resolveFieldHint("Password Validation","passwordPolicy.pattern",S("extensions:manage.serverConfigurations.passwordValidation.passwordValidationRegexHint"))),g.createElement(v.gN.Input,{ariaLabel:"passwordPolicy.errorMsg",inputType:"text",name:u.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),type:"text",width:12,required:!0,placeholder:S("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorPlaceholder"),labelPosition:"top",minLength:3,maxLength:255,readOnly:De,listen:function(e){J(pe(pe({},z),{},ve({},u.e9.encodeConnectorPropertyName("passwordPolicy.errorMsg"),e)))},"data-componentid":"".concat(_,"-password-policy-error-msg"),label:u.e9.resolveFieldLabel("Password Validation","passwordPolicy.errorMsg",S("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorLabel")),disabled:!Pe}),g.createElement(f.kW,null,u.e9.resolveFieldHint("Password Validation","passwordPolicy.errorMsg",S("extensions:manage.serverConfigurations.passwordValidation.passwordValidationErrorHint")))),g.createElement(v.gN.Button,{form:Oe,size:"small",buttonType:"primary_btn",ariaLabel:"Validation configuration update button",name:"update-button","data-testid":"".concat(_,"-submit-button"),loading:D,label:S("common:update"),hidden:De})))))))))};ye.defaultProps={"data-componentid":"validation-config-edit-page"};const be=ye},97069:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(51139),r=t.n(a),i=t(32234),o=t.n(i)()(r());o.push([e.id,".password-validation-form h4.ui.header.heading{margin-top:25px;margin-bottom:35px}.password-validation-form .title-header{display:flex;flex-direction:row;align-items:center;gap:20px}.password-validation-form .full-width{width:100%}.password-validation-form .info-box{margin-top:20px;margin-bottom:20px}.password-validation-form .form-container.with-max-width{max-width:none}.password-validation-form .priority-arrows{display:flex;flex-direction:row;align-items:center}.password-validation-form .add-rule-btn{margin-bottom:10px}.password-validation-form .heading-divider{margin-top:1.5rem !important;margin-bottom:2rem !important}.flex-row-gap-10{display:flex;flex-direction:row;align-items:center;gap:10px}.select-multiple-menu{width:100%}.MuiPaper-root.MuiMenu-paper{max-height:250px;max-width:350px;overflow:auto}.MuiSelect-select{width:100%;display:flex;flex-wrap:wrap;align-items:center;gap:8px}",""]);const l=o}}]);