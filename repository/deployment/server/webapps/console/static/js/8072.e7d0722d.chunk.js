"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8072],{79376:(e,n,t)=>{t.d(n,{Ah:()=>r,D3:()=>o,LZ:()=>c,Pn:()=>i,fc:()=>s,qd:()=>l,tr:()=>a});var a=function(){return"<dependency>\n    <groupId>io.asgardeo.tomcat.saml.agent</groupId>\n    <artifactId>io.asgardeo.tomcat.saml.agent</artifactId>\n    <version>0.1.31</version>\n</dependency>"},r=function(){return"<repositories>\n    <repository>\n        <id>wso2.releases</id>\n        <name>WSO2 internal Repository</name>\n        <url>http://maven.wso2.org/nexus/content/repositories/releases/</url>\n        <releases>\n            <enabled>true</enabled>\n            <updatePolicy>daily</updatePolicy>\n            <checksumPolicy>ignore</checksumPolicy>\n        </releases>\n    </repository>\n</repositories>"},l=function(e,n){var t;if(!e)return"";var a=n&&""!==n?n:"<YOUR_APP_PATH>",r=void 0!==e.enableResponseSigning&&e.enableResponseSigning,l=void 0!==e.enableRequestSigning&&e.enableRequestSigning,o=void 0===e.enableSLO||e.enableSLO,i=void 0!==e.enableAssertionEncryption&&e.enableAssertionEncryption;return"SAML2.AssertionConsumerURL=".concat(e.acsURL,"\nSAML2.SPEntityId=").concat(e.samlIssuer,"\nSAML2.IdPEntityId=").concat(e.issuer,"\nSAML2.IdPURL=").concat(e.ssoUrl,"\nSkipURIs=").concat(a,"/index.html\nSAML2SSOURL=samlsso\nIndexPage=index.html\nErrorPage=/error.jsp\nEnableSAML2SSOLogin=true\nSAML2.EnableSLO=").concat(o,"\nSAML2.SLOURL=logout\nSAML2.EnableResponseSigning=").concat(r,"\nSAML2.EnableAssertionSigning=false\nSAML2.EnableAssertionEncryption=").concat(i,"\nSAML2.EnableRequestSigning=").concat(l,"\nSAML2.IsPassiveAuthn=false\nIdPPublicCert=").concat(null===(t=e.certificate)||void 0===t?void 0:t.replace(/(\r\n|\n|\r)/gm,""),"\nKeyStorePassword=<PASSWORD>\nPrivateKeyAlias=<ALIAS>\nIdPPublicCertAlias=wso2carbon\nPrivateKeyPassword=wso2carbon")},o=function(){return"<filter>\n    <filter-name>SAML2SSOAgentFilter</filter-name>\n    <filter-class>io.asgardeo.tomcat.saml.agent.SAML2SSOAgentFilter</filter-class>\n</filter>\n<filter-mapping>\n    <filter-name>SAML2SSOAgentFilter</filter-name>\n    <url-pattern>*.jsp</url-pattern>\n</filter-mapping>\n<filter-mapping>\n    <filter-name>SAML2SSOAgentFilter</filter-name>\n    <url-pattern>*.html</url-pattern>\n</filter-mapping>\n<filter-mapping>\n    <filter-name>SAML2SSOAgentFilter</filter-name>\n    <url-pattern>/samlsso</url-pattern>\n</filter-mapping>\n<filter-mapping>\n    <filter-name>SAML2SSOAgentFilter</filter-name>\n    <url-pattern>/logout</url-pattern>\n</filter-mapping>\n\n<listener>\n    <listener-class>io.asgardeo.tomcat.saml.agent.SSOAgentContextEventListener</listener-class>\n</listener>\n<context-param>\n    <param-name>property-file</param-name>\n    <param-value>sample-app.properties</param-value>\n</context-param>\n<context-param>\n    <param-name>certificate-file</param-name>\n    <param-value>KEYSTORE_FILE_NAME</param-value>\n</context-param>"},i=function(){return'<form action="home.jsp" method="post">\n    <input type="submit" value="log in">\n</form>'},s=function(){return'<form action="logout?SAML2.HTTPBinding=HTTP-POST" method="get">\n    <input type="submit" value="Log Out">\n</form>'},c=function(e){var n,t=e.tomcatHost&&""!==e.tomcatHost?e.tomcatHost:"<TOMCAT_HOST>",a=void 0!==e.enableResponseSigning&&e.enableResponseSigning,r=void 0!==e.enableRequestSigning&&e.enableRequestSigning,l=void 0===e.enableSLO||e.enableSLO,o=void 0!==e.enableAssertionEncryption&&e.enableAssertionEncryption;return"SAML2.AssertionConsumerURL=".concat(t,"/sample-app/home.jsp\nSAML2.SPEntityId=").concat(e.samlIssuer,"\nSAML2.IdPEntityId=").concat(e.issuer,"\nSAML2.IdPURL=").concat(e.ssoUrl,"\nSAML2SSOURL=samlsso\nEnableSAML2SSOLogin=true\nSAML2.EnableSLO=").concat(l,"\nSAML2.SLOURL=logout\nSkipURIs=/sample-app/index.html\nIndexPage=index.html\nErrorPage=/error.jsp\nSAML2.EnableResponseSigning=").concat(a,"\nSAML2.EnableAssertionSigning=false\nSAML2.EnableAssertionEncryption=").concat(o,"\nSAML2.EnableRequestSigning=").concat(r,"\nSAML2.IsPassiveAuthn=false\nIdPPublicCert=").concat(null===(n=e.certificate)||void 0===n?void 0:n.replace(/(\r\n|\n|\r)/gm,""),"\nKeyStorePassword=wso2carbon\nPrivateKeyAlias=wso2carbon\nIdPPublicCertAlias=wso2carbon\nPrivateKeyPassword=wso2carbon")}},18072:(e,n,t)=>{t.r(n),t.d(n,{IntegrateSDKs:()=>y});var a=t(5840),r=t(65388),l=t(43516),o=t(34194),i=t(44194),s=t(59673),c=t(47245),u=t(77757),m=t(62508),d=t(26154),p=t(79376),g=t(56979),h=t(43717),f=t(86967),E=t(71295),v=t(8951);function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var a,r,l,o,i=[],s=!0,c=!1;try{if(l=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(a=l.call(t)).done)&&(i.push(a.value),i.length!==n);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=Array(n);t<n;t++)a[t]=e[t];return a}var y=function(e){var n=e.inboundProtocolConfig,t=e.technology,S=e["data-testid"],y=(0,l.fQ)().getLink,b=(0,c.v9)((function(e){return e.application.samlConfigurations})),L=A((0,i.useState)(void 0),2),w=L[0],P=L[1],M=A((0,i.useState)(null),2),C=M[0],x=M[1],O=A((0,i.useState)(!0),2),I=O[0],k=O[1];(0,i.useEffect)((function(){var e,t,a,l;if(null!=n&&n.saml){var o={acsURL:n.saml.defaultAssertionConsumerUrl,baseUrl:r.D.getDeploymentConfig().customServerHost,certificate:null==b?void 0:b.certificate,enableAssertionEncryption:null===(e=n.saml)||void 0===e||null===(e=e.singleSignOnProfile)||void 0===e||null===(e=e.assertion)||void 0===e||null===(e=e.encryption)||void 0===e?void 0:e.enabled,enableRequestSigning:null===(t=n.saml)||void 0===t||null===(t=t.requestValidation)||void 0===t?void 0:t.enableSignatureValidation,enableResponseSigning:null===(a=n.saml)||void 0===a||null===(a=a.responseSigning)||void 0===a?void 0:a.enabled,enableSLO:null===(l=n.saml)||void 0===l||null===(l=l.singleLogoutProfile)||void 0===l?void 0:l.enabled,issuer:null==b?void 0:b.issuer,samlIssuer:n.saml.issuer,ssoUrl:null==b?void 0:b.ssoUrl};P(o)}}),[n]);var R=function(){return i.createElement(i.Fragment,null,i.createElement(u.Z,null,i.createElement(u.Z.Group,{widths:"3"},i.createElement(u.Z.Input,{fluid:!0,placeholder:"https://myapp.io",label:"App Context Path",value:C,onChange:function(e,n){!function(e,n){o.I.url(n.value)?(k(!0),x(n.value)):(x(null),k(!1))}(0,n)}})),i.createElement(l.kW,null,"The configuration ",i.createElement("code",{className:"inline-code"},"skipURIs")," depends on your ",i.createElement("strong",null,"App context path"),".")),!I&&i.createElement(l.v0,{type:"error",content:"Please enter a valid URL"}))},N=[{stepContent:function(e){return e===h.X.JAVA_EE?i.createElement(i.Fragment,null,i.createElement(l.xv,null,"To ease development, we've introduced the ",i.createElement("a",{href:"https://github.com/asgardeo/asgardeo-tomcat-saml-agent",target:"_blank",rel:"noopener noreferrer",className:"link external"},"Asgardeo SAML Agent"),". You can use this Agent in your project by updating your ",i.createElement("code",{className:"inline-code"},"pom.xml")," file with the following dependency."),i.createElement("div",{className:"code-segment"},i.createElement(l.pq,{beautify:!0,readOnly:!0,showLineNumbers:!0,withClipboardCopy:!0,height:"100%",language:"htmlmixed",sourceCode:(0,p.tr)(),options:{lineWrapping:!0},theme:"dark"})),i.createElement(m.Z,{hidden:!0}),i.createElement(l.xv,null,"The Agent is hosted at ",i.createElement("strong",null,"WSO2 Internal Repository"),". To resolve the dependency mentioned above, point to the repository as follows."),i.createElement("div",{className:"code-segment"},i.createElement(l.pq,{readOnly:!0,showLineNumbers:!0,height:"100%",withClipboardCopy:!0,language:"htmlmixed",sourceCode:(0,p.Ah)(),options:{lineWrapping:!0},theme:"dark"})),i.createElement("div",{className:"mt-3"},i.createElement("p",null,"Check out the ",i.createElement("a",{href:g.n.tomcatSAMLAgent.readme,target:"_blank",rel:"noopener noreferrer",className:"link external"},i.createElement(d.Z,{name:"github"}),"documentation")," to learn more."))):null}(t),stepTitle:function(e){return e===h.X.JAVA_EE?"Add Dependencies":"Configure Client"}(t)},{stepContent:function(e){return e===h.X.JAVA_EE?i.createElement(i.Fragment,null,i.createElement(l.xv,null,"We provide the Asgardeo endpoints to the application using a property file, which is read by the Asgardeo SAML Agent."),i.createElement(l.xv,null,"Create a file named ",i.createElement("code",{className:"inline-code"},"sample-app.properties")," inside the ",i.createElement("code",{className:"inline-code"},"<YOUR_APP>/src/main/resources")," directory, using the content below."),i.createElement(l.xv,null,i.createElement(s.c,{i18nKey:"extensions:develop.applications.quickstart.twa.setup.skipURIs"},"Note the ",i.createElement("strong",null,"skipURIs")," property. This property defines the web pages in your application that should not be secured, and do not require authentication. Multiple URIs can be set using ",i.createElement("strong",null,"comma separated")," values.")),i.createElement(m.Z,{hidden:!0}),R(),i.createElement("div",{className:"code-segment"},i.createElement(l.pq,{readOnly:!0,showLineNumbers:!0,withClipboardCopy:!0,language:"htmlmixed",sourceCode:(0,p.qd)(w,C),options:{lineWrapping:!0},height:"100%",theme:"dark"})),i.createElement(m.Z,{hidden:!0}),i.createElement(l.xv,null,"A comprehensive list of the properties used above, can be found in the ",i.createElement("a",{href:g.n.tomcatSAMLAgent.catalog,target:"_blank",rel:"noopener noreferrer",className:"link external"},"Configuration Catalog"),"."),i.createElement(m.Z,{hidden:!0}),i.createElement(l.xv,null,"For advanced use cases such as SAML response signing, the Asgardeo SAML Agent uses a keystore with your private key. If your application doesn't have a keystore already, generate a keystore file and copy it to the ",i.createElement("code",{className:"inline-code"},"<APP_HOME>/src/main/resources")," directory.",i.createElement("br",null),i.createElement("br",null),"Make sure to update ",i.createElement("code",{className:"inline-code"},"KeyStorePassword")," and ",i.createElement("code",{className:"inline-code"},"PrivateKeyAlias")," with relevant values."),i.createElement(l.xv,null,"Finally, copy and paste the following configuration to the",i.createElement("code",{className:"inline-code"},"<APP_HOME>/WEB-INF/web.xml")," file and change the ",i.createElement("strong",null,"certificate-file")," parameter with the name of your keystore file."),i.createElement("div",{className:"code-segment"},i.createElement(l.pq,{readOnly:!0,showLineNumbers:!0,withClipboardCopy:!0,language:"htmlmixed",sourceCode:(0,p.D3)(),options:{lineWrapping:!0},height:"100%",theme:"dark"}))):null}(t),stepTitle:(h.X.JAVA_EE,"Configure")},{stepContent:function(e){return e===h.X.JAVA_EE?i.createElement(i.Fragment,null,i.createElement(l.xv,null,"In the ",i.createElement("code",{className:"inline-code"},"index.html")," file, add a login button to be used to forward users to secured pages."),i.createElement("div",{className:"code-segment"},i.createElement(l.pq,{readOnly:!0,showLineNumbers:!0,withClipboardCopy:!0,language:"htmlmixed",sourceCode:(0,p.Pn)(),options:{lineWrapping:!0},height:"100%",theme:"dark"}))):null}(t),stepTitle:"Add Login"},{stepContent:function(e){return e===h.X.JAVA_EE?i.createElement(i.Fragment,null,i.createElement(l.xv,null,"Add the following snippet to enable logout from a secured page."),i.createElement("div",{className:"code-segment"},i.createElement(l.pq,{readOnly:!0,showLineNumbers:!0,withClipboardCopy:!0,language:"htmlmixed",sourceCode:(0,p.fc)(),options:{lineWrapping:!0},height:"100%",theme:"dark"}))):null}(t),stepTitle:"Add Logout"}];return i.createElement(i.Fragment,null,i.createElement("div",{className:"mt-3 mb-6"},i.createElement(l.v0,{type:"info",header:"Prerequisite",content:i.createElement(i.Fragment,null,i.createElement("p",null,"In this section, we guide you on how to configure your own Java application that uses\xa0",i.createElement(l.dn,{transparent:!0,icon:f.Z,size:"mini",style:{display:"inline"}})," ",i.createElement("strong",null,"Apache Maven")," (3.6.x or higher) as the package manager and\xa0",i.createElement(l.dn,{transparent:!0,icon:E.Z,size:"micro",style:{display:"inline",verticalAlign:"sub"}})," ",i.createElement("strong",null,"Apache Tomcat")," (8.x or 9.x) as the deployment engine. You may need to adjust some of the steps if you're working with a different application container or technology."),i.createElement(l.xv,{className:"message-info-text"},"To download the latest ",i.createElement("strong",null,"Apache Maven"),", navigate to the official ",i.createElement(l.eb,{link:y("develop.applications.editApplication.samlApplication.quickStart.mavenDownload"),showEmptyLinkText:!0},"downloads")," page."))})),i.createElement(a.t,{alwaysOpen:!0,isSidePanelOpen:!0,stepContent:N,isNextEnabled:void 0!==t,"data-testid":"".concat(S,"-vertical-stepper")}),i.createElement(m.Z,{hidden:!0,className:"x2"}),i.createElement("div",{className:"mt-3 mb-6"},i.createElement(l.v0,{type:"info",header:"Try Out!",content:i.createElement(v.HF,null)})))}},56979:(e,n,t)=>{t.d(n,{n:()=>l});var a,r=t(63264),l=null===r.tZ||void 0===r.tZ||null===(a=r.tZ.quickstart)||void 0===a?void 0:a.samlWeb},43717:(e,n,t)=>{t.d(n,{X:()=>a});var a=function(e){return e.JAVA_EE="Java EE",e}({})}}]);