"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[2618],{23800:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(62919),o=n(33838),i=n(44194),a=n(14517),l=n(60391),c=n(87883);function u(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function s(e){return parseFloat(e)}var d=n(24731),f=n(49706),p=n(62808),m=n(99769),h=n(90757);function v(e){return(0,h.ZP)("MuiSkeleton",e)}(0,m.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var y=n(31549);const b=["animation","className","component","height","style","variant","width"];let g,E,A,S,w=e=>e;const P=(0,l.F4)(g||(g=w`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),O=(0,l.F4)(E||(E=w`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),x=(0,f.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((({theme:e,ownerState:t})=>{const n=u(e.shape.borderRadius)||"px",r=s(e.shape.borderRadius);return(0,o.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,d.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(({ownerState:e})=>"pulse"===e.animation&&(0,l.iv)(A||(A=w`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),P)),(({ownerState:e,theme:t})=>"wave"===e.animation&&(0,l.iv)(S||(S=w`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),O,(t.vars||t).palette.action.hover))),T=i.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:l,component:u="span",height:s,style:d,variant:f="text",width:m}=n,h=(0,r.Z)(n,b),g=(0,o.Z)({},n,{animation:i,component:u,variant:f,hasChildren:Boolean(h.children)}),E=(e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:a}=e,l={root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!a&&"heightAuto"]};return(0,c.Z)(l,v,t)})(g);return(0,y.jsx)(x,(0,o.Z)({as:u,ref:t,className:(0,a.Z)(E.root,l),ownerState:g},h,{style:(0,o.Z)({width:m,height:s},d)}))}))},2618:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Tn});var r=n(55007),o=n(60486),i=n(40838),a=n(6833),l=n(82406),c=n(43516),u=n(50699),s=n(44194),d=n(10479),f=n(47245),p=n(39114),m=n(89141),h=n(11526),v=n(76271),y=n(43939),b=n(89326),g=h.AsgardeoSPAClient.getInstance().httpRequest.bind(h.AsgardeoSPAClient.getInstance());const E=function(e,t,n){var r={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.POST,url:"".concat(v.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t,"/").concat(n)};return g(r).then((function(e){if(200!==e.status)throw new y.u(b.k.ERROR_MESSAGES.UPDATE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new y.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var A=h.AsgardeoSPAClient.getInstance().httpRequest.bind(h.AsgardeoSPAClient.getInstance());const S=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.DELETE,url:"".concat(v.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t)};return A(n).then((function(e){if(204!==e.status)throw new y.u(b.k.ERROR_MESSAGES.DELETE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(null==e?void 0:e.data)})).catch((function(e){var t;throw new y.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var w=n(96124);const P=function(e,t){var n={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,url:"".concat(v.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t)},r=!(0,u.Z)(t),o=(0,w.Z)(r?n:null,{shouldRetryOnError:!1});return{data:o.data,error:o.error,isLoading:o.isLoading,isValidating:o.isValidating,mutate:o.mutate}};const O=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,url:"".concat(v.h.getState().config.endpoints.actions,"/").concat(e)},r=(0,w.Z)(t?n:null,{shouldRetryOnError:!1});return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};var x=n(32497),T=n(24587),C=n(92336),I=n(31549),R=n(23800),k=n(14517);const j=(0,s.forwardRef)(((e,t)=>{var{className:n}=e,r=(0,C.__rest)(e,["className"]);const o=(0,k.Z)("oxygen-skeleton",n);return(0,I.jsx)(R.Z,Object.assign({ref:t,className:o},r))}));const _=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,url:v.h.getState().config.endpoints.rulesMetaData+"?flow=".concat(e)},r=(0,w.Z)(t?n:null);return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};var N=n(78768),Z=(0,s.createContext)(void 0);Z.displayName="RulesContext";const D=Z;var M=function(e){return e.And="AND",e.Or="OR",e}({}),U=function(e){return e.Field="field",e.Operator="operator",e.Value="value",e}({});function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}var z=function(e){if(Array.isArray(e))return e.map(z);if("object"===V(e)&&null!==e){var t=Object.fromEntries(Object.entries(e).map((function(e){var t=L(e,2),n=t[0],r=t[1];return[n,z(r)]})));return"id"in t||(t.id=(0,N.Z)()),t}return e};const Y=z;function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}var $=function(e){return Array.isArray(e)?e.map($):"object"===H(e)&&null!==e?Object.fromEntries(Object.entries(e).filter((function(e){return"id"!==B(e,1)[0]})).map((function(e){var t=B(e,2),n=t[0],r=t[1];return[n,$(r)]}))):e};const G=$;var K=["isRuleInstanceTouched"],q=["isRuleInstanceTouched"];function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function X(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=function(e){var t;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])t=ee(ee({},e),{},{rules:null==e?void 0:e.rules.map((function(e){e.isRuleInstanceTouched;return X(e,K)}))});else{var n=e;n.isRuleInstanceTouched;t=X(n,q)}return G(t)};function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function oe(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return le(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=re(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de={ruleInstance:void 0},fe=function(e){var t,n=e.children,r=e.initialData,o=e.isMultipleRules,i=void 0!==o&&o,a=e.conditionExpressionsMetaData,l=e.ruleExecutionMetaData,c=Y(r);!c||null!==(t=c)&&void 0!==t&&t.fallbackExecution||(c=ue(ue({},i&&{fallbackExecution:""}),{},{rules:[c]}));var u=ie((0,s.useState)(null!=c?c:void 0),2),d=u[0],f=u[1],p=null!=a?a:void 0,m=null!=l?l:void 0;de.ruleInstance=ue(ue({},d),{},{isMultipleRules:i}),(0,s.useEffect)((function(){!r&&p&&f((function(e){var t;return ue(ue(ue({},e),i&&{fallbackExecution:null==l||null===(t=l.fallbackExecutions)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.name}),{},{rules:[y()]})}))}),[p]);var h=function(){var e,t;return{field:null==a||null===(e=a[0])||void 0===e||null===(e=e.field)||void 0===e?void 0:e.name,id:(0,N.Z)(),operator:null==a||null===(t=a[0])||void 0===t||null===(t=t.operators)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.name,value:""}},v=function(e){return{condition:e,expressions:[h()],id:(0,N.Z)()}},y=function(){return{condition:M.Or,id:(0,N.Z)(),isRuleInstanceTouched:!1,rules:[v(M.And)]}};return s.createElement(D.Provider,{value:{addNewRule:function(){f((function(e){return ue(ue({},e),{},{rules:[].concat(oe(null==e?void 0:e.rules),[y()])})}))},addNewRuleConditionExpression:function(e,t,n,r){f((function(o){var i;return ue(ue({},o),{},{rules:null==o||null===(i=o.rules)||void 0===i?void 0:i.map((function(o){var i;return o.id===e?ue(ue({},o),{},{isRuleInstanceTouched:!0,rules:null===(i=o.rules)||void 0===i?void 0:i.flatMap((function(e){return n===M.Or?e.id===t?[e,v(M.And)]:[e]:ue(ue({},e),{},{expressions:e.expressions.flatMap((function(e){return e.id===r?[e,h()]:[e]}))})}))}):o}))})}))},clearRule:function(e){f((function(t){var n;return ue(ue({},t),{},{rules:null==t||null===(n=t.rules)||void 0===n?void 0:n.map((function(t){return t.id===e?y():t}))})}))},conditionExpressionsMeta:p,isMultipleRules:i,removeRule:function(e){f((function(t){var n;return ue(ue({},t),{},{rules:null==t||null===(n=t.rules)||void 0===n?void 0:n.filter((function(t){return(null==t?void 0:t.id)!==e}))})}))},removeRuleConditionExpression:function(e,t){f((function(n){var r;return ue(ue({},n),{},{rules:null==n||null===(r=n.rules)||void 0===r?void 0:r.map((function(n){var r;return n.id===e?ue(ue({},n),{},{isRuleInstanceTouched:!0,rules:null===(r=n.rules)||void 0===r?void 0:r.flatMap((function(e){var n=e.expressions.filter((function(e){return e.id!==t}));return 0===n.length?[]:[ue(ue({},e),{},{expressions:n})]}))}):n}))})}))},ruleExecuteCollection:d,ruleExecutionsMeta:m,ruleInstance:function(){if(d){var e;if(i)return ne(d,!0);if((null===(e=d.rules)||void 0===e?void 0:e.length)>0)return ne(d.rules[0],i)}return null}(),updateConditionExpression:function(e,t,n,r,o,i){f((function(a){var l;return ue(ue({},a),{},{rules:null==a||null===(l=a.rules)||void 0===l?void 0:l.map((function(a){var l;return a.id===t?ue(ue({},a),{},{rules:null===(l=a.rules)||void 0===l?void 0:l.map((function(t){return t&&t.id===n?ue(ue({},t),{},{expressions:t.expressions.map((function(t){return t.id===r?ue(ue({},t),{},se({},o,e)):t}))}):t}))},i&&{isRuleInstanceTouched:!0}):a}))})}))},updateRuleExecution:function(e,t){var n=e.target.value;f((function(e){var r;return ue(ue({},e),{},{rules:null==e||null===(r=e.rules)||void 0===r?void 0:r.map((function(e){return e.id===t?ue(ue({},e),{},{execution:n,isRuleInstanceTouched:!0}):e}))})}))},updateRulesFallbackExecution:function(e){var t=e.target.value;f((function(e){return ue(ue({},e),{},{fallbackExecution:t})}))}}},n)},pe=n(86105),me=n(30382),he=n(40671);const ve=function(e){var t,n,o=e.initialValues,i=e.isCreateFormState,a=e.onAuthenticationTypeChange,l=e["data-componentid"],u=void 0===l?"common-action-config-form":l,p=(0,f.v9)((function(e){return e.config.ui.features.actions})),m=(0,r.EV)(null==p||null===(t=p.scopes)||void 0===t?void 0:t.update),h=(0,r.EV)(null==p||null===(n=p.scopes)||void 0===n?void 0:n.create),v=(0,d.$)().t;return s.createElement(s.Fragment,null,s.createElement(me.SE,{key:"name",className:"text-field-container",width:16,FormControlProps:{margin:"dense"},ariaLabel:"actionName",required:!0,"data-componentid":"".concat(u,"-action-name"),name:"name",type:"text",label:v("actions:fields.name.label"),placeholder:v("actions:fields.name.placeholder"),helperText:s.createElement(c.kW,{className:"hint",compact:!0},v("actions:fields.name.hint")),component:me.xh,maxLength:100,minLength:0,disabled:i?!h:!m}),s.createElement(he.Z,{initialValues:o,isCreateFormState:i,onAuthenticationTypeChange:a}))};var ye=n(84104),be=n(46003),ge=n(87496),Ee=n(84882),Ae=n(46461),Se=n(78864),we=n(91651),Pe=n(35390),Oe=n(49748),xe=n(69357),Te=n(34159),Ce=n(89497),Ie=n(37612),Re=n(88248),ke=n(30325),je=n(21212),_e=n(3658),Ne=n(48461),Ze=n(89801),De=n(73405),Me=n(55495),Ue=n(59673);const Le=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.GET,url:v.h.getState().config.endpoints.apiRoot+e},r=(0,w.Z)(t?n:null);return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};var Fe=function(){var e=(0,s.useContext)(D);if(!e)throw new Error("useRulesContext must be used within a RulesProvider");return e};const Ve=Fe;var ze=n(51835),Ye=n.n(ze),Be=n(27975),We=n.n(Be),He=n(55900),$e=n.n(He),Ge=n(21555),Ke=n.n(Ge),qe=n(3621),Qe=n.n(qe),Xe=n(5062),Je=n.n(Xe),et=n(11523),tt={};tt.styleTagTransform=Je(),tt.setAttributes=Ke(),tt.insert=$e().bind(null,"head"),tt.domAPI=We(),tt.insertStyleElement=Qe();Ye()(et.Z,tt);et.Z&&et.Z.locals&&et.Z.locals;function nt(e){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nt(e)}function rt(){return rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(null,arguments)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){return function(e){if(Array.isArray(e))return st(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){if(e){if("string"==typeof e)return st(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const dt=function(e){var t=e["data-componentid"],n=void 0===t?"rules-component-condition":t,r=e.readonly,o=e.rule,i=o.rules,a=Fe(),l=a.addNewRuleConditionExpression,c=a.conditionExpressionsMeta,u=a.updateConditionExpression,f=a.removeRuleConditionExpression,p=(0,d.$)().t,m=(0,Me.Z)((function(e,t,n,r,o,i){u(e,t,n,r,o,i)}),300),h=function(e){var t=e["data-componentid"],n=void 0===t?"rules-condition-expression-input-value":t,o=e.valueReferenceAttribute,i=e.valueDisplayAttribute,a=e.resourceDetails,l=e.resourceType,c=e.initialResourcesLoadUrl,u=e.filterBaseResourcesUrl,d=e.ruleId,f=e.conditionId,h=e.expressionId,v=ct((0,s.useState)(null),2),y=v[0],b=v[1],g=ct((0,s.useState)(null),2),E=g[0],A=g[1],S=ct((0,s.useState)([]),2),w=S[0],P=S[1],O=ct((0,s.useState)(!1),2),x=O[0],T=O[1],C="more-items",I="clear-option",R=E?null==u?void 0:u.replace("filter=","filter=name+sw+".concat(E)):c,k=Le(c),j=k.data,_=void 0===j?[]:j,N=k.isLoading,Z=Le(R),D=Z.data,M=void 0===D?[]:D,L=Z.isLoading;(0,s.useEffect)((function(){a&&(b(a[o]||null),A(a[i]||null))}),[a]),(0,s.useEffect)((function(){if(E&&R){if(M&&Array.isArray(M[l])){var e=M[l].map((function(e){return{id:e[o],label:e[i]}}));P(e)}}else if(_&&Array.isArray(_[l])){var t=_[l].map((function(e){return{id:e[o],label:e[i]}}));P(t)}}),[E,_,M,R]);var F=(null==M?void 0:M.totalResults)>(null==M?void 0:M.count);return s.createElement(je.Z,{className:"autocomplete",disabled:r,"data-componentid":n,open:x,onOpen:function(){return T(!0)},onClose:function(){return T(!1)},options:[].concat(lt(w),lt(F?[{id:C,isDisabled:!0,label:p("rules:fields.autocomplete.moreItemsMessage")}]:[]),lt(E?[{id:I,isDisabled:!1,label:p("rules:fields.autocomplete.clearFilterActionText")}]:[])),filterOptions:function(e){return e},getOptionLabel:function(e){return e.label||""},value:a?{id:y,label:E}:null,isOptionEqualToValue:function(e,t){return(null==t?void 0:t.id)&&e.id===t.id},loading:L,onChange:function(e,t){if(null==t||!t.isDisabled)return(null==t?void 0:t.id)===I?(A(""),void setTimeout((function(){return T(!0)}),0)):void(t&&m(t.id,d,f,h,U.Value,!0))},inputValue:E,onInputChange:function(e,t){A(t)},renderInput:function(e){return s.createElement(De.Z,rt({},e,{variant:"outlined",placeholder:p("rules:fields.autocomplete.placeholderText"),value:E,InputProps:it(it({},e.InputProps),{},{endAdornment:s.createElement(s.Fragment,null,N||L?s.createElement(_e.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},renderOption:function(e,t){return t.id===C?s.createElement("li",rt({},e,{className:"MuiAutocomplete-moreItemsAvailableMessage",key:t.id}),t.label):t.id===I?s.createElement("li",rt({},e,{key:t.id}),s.createElement(Ze.Z,{className:"MuiAutocomplete-clearFilterLink"},s.createElement(Ie.XH,{className:"icon"})," ",s.createElement("span",{className:"text"},t.label))):s.createElement("li",e,t.label)}})},v=function(e){var t,n,o,i=e["data-componentid"],a=void 0===i?"rules-condition-expression-input-value":i,l=e.ruleId,c=e.conditionId,d=e.setIsResourceMissing,f=e.expressionValue,p=e.expressionId,v=e.expressionField,y=e.findMetaValuesAgainst,b=e.initialResourcesLoadUrl,g=e.filterBaseResourcesUrl,E=ct((0,s.useState)(null),2),A=E[0],S=E[1],w=(null==y||null===(t=y.value)||void 0===t?void 0:t.valueReferenceAttribute)||"id",P=(null==y||null===(n=y.value)||void 0===n?void 0:n.valueDisplayAttribute)||"name";"application"===v&&(o="applications");var O=Le(b),x=O.data,T=O.isLoading,C=Le("/".concat(o,"/").concat(f)),I=C.data,R=C.isLoading,k=C.error;if((0,s.useEffect)((function(){R||(k?(d(!0),S(null)):S(I))}),[R,k]),x&&!T){var j,_;if(""===f)m(null===(_=x[o][0])||void 0===_?void 0:_.id,l,c,p,U.Value,!1);return x.totalResults>x.count?s.createElement(h,{conditionId:c,ruleId:l,expressionId:p,expressionValue:f,resourceDetails:A,resourceType:o,valueReferenceAttribute:w,valueDisplayAttribute:P,initialResourcesLoadUrl:b,filterBaseResourcesUrl:g}):s.createElement(Te.Z,{disabled:r,value:f,"data-componentid":a,onChange:function(e){u(e.target.value,l,c,p,U.Value,!0)}},null===(j=x[o])||void 0===j?void 0:j.map((function(e,t){return s.createElement(xe.Z,{value:e[w],key:"".concat(p,"-").concat(t)},e[P])})))}},y=function(e){var t=e["data-componentid"],n=void 0===t?"rules-condition-expression-input-value":t,o=e.findMetaValuesAgainst,i=e.ruleId,a=e.conditionId,l=e.expressionField,c=e.expressionId,d=e.expressionValue,f=e.metaValue,p=e.setIsResourceMissing;if("input"===(null==f?void 0:f.inputType))return s.createElement(De.Z,{disabled:r,value:d,"data-componentid":n,onChange:function(e){m(e.target.value,i,a,c,U.Value,!0)}});if("options"===(null==f?void 0:f.inputType)){var h,y,b;if((null==f||null===(h=f.values)||void 0===h?void 0:h.length)>1)return""===d&&m(null==f?void 0:f.values[0].name,i,a,c,U.Value,!1),s.createElement(Te.Z,{disabled:r,value:d,"data-componentid":n,onChange:function(e){u(e.target.value,i,a,c,U.Value,!0)}},null===(b=f.values)||void 0===b?void 0:b.map((function(e,t){return s.createElement(xe.Z,{value:e.name,key:"".concat(c,"-").concat(t)},e.displayName)})));if((null==f||null===(y=f.links)||void 0===y?void 0:y.length)>1){var g,E,A=null==f||null===(g=f.links.find((function(e){return"values"===e.rel})))||void 0===g?void 0:g.href,S=null==f||null===(E=f.links.find((function(e){return"filter"===e.rel})))||void 0===E?void 0:E.href;return A&&S?s.createElement(v,{ruleId:i,conditionId:a,setIsResourceMissing:p,expressionField:l,expressionId:c,expressionValue:d,findMetaValuesAgainst:o,initialResourcesLoadUrl:A,filterBaseResourcesUrl:S}):null}return null}return null},b=function(e){var t,n=e["data-componentid"],o=void 0===n?"rules-condition-expression":n,i=e.expression,a=e.ruleId,d=e.conditionId,m=e.index,h=e.isConditionLast,v=e.isConditionExpressionRemovable,b=ct((0,s.useState)(!1),2),g=b[0],E=b[1],A=c.find((function(e){var t;return(null==e||null===(t=e.field)||void 0===t?void 0:t.name)===i.field}));return s.createElement(Ee.Z,{sx:{position:"relative"},key:m,className:"box-container","data-componentid":o},g&&s.createElement(Re.Z,{severity:"warning",className:"alert-warning",sx:{mb:2},"data-componentid":"rules-condition-expression-alert"},s.createElement(ke.Z,{className:"alert-title"},s.createElement(Ue.c,{i18nKey:p("actions:fields.rules.alerts.resourceNotFound.title")},"The resource linked to this rule is no longer available.")),s.createElement(Ue.c,{i18nKey:p("actions:fields.rules.alerts.resourceNotFound.description")},"Please update to a valid resource.")),s.createElement(Pe.Z,{fullWidth:!0,size:"small"},s.createElement(Te.Z,{disabled:r,value:i.field,"data-componentid":"rules-condition-expression-input-field-select",onChange:function(e){u(e.target.value,a,d,i.id,U.Field,!0),u("",a,d,i.id,U.Value,!0)}},null==c?void 0:c.map((function(e,t){var n,r;return s.createElement(xe.Z,{value:null===(n=e.field)||void 0===n?void 0:n.name,key:"".concat(i.id,"-").concat(t)},null===(r=e.field)||void 0===r?void 0:r.displayName)})))),s.createElement(Pe.Z,{sx:{mb:1,minWidth:120,mt:1},size:"small"},s.createElement(Te.Z,{disabled:r,value:i.operator,"data-componentid":"rules-condition-expression-input-operator-select",onChange:function(e){u(e.target.value,a,d,i.id,U.Operator,!0)}},null==A||null===(t=A.operators)||void 0===t?void 0:t.map((function(e,t){return s.createElement(xe.Z,{value:e.name,key:"".concat(i.id,"-").concat(t)},e.displayName)})))),s.createElement(Pe.Z,{fullWidth:!0,size:"small"},s.createElement(y,{conditionId:d,expressionField:i.field,expressionId:i.id,expressionValue:i.value,findMetaValuesAgainst:A,metaValue:null==A?void 0:A.value,ruleId:a,setIsResourceMissing:E})),(!r||r&&!h)&&s.createElement(Pe.Z,{sx:{mt:1},size:"small"},s.createElement(Ae.Z,{disabled:r,size:"small",variant:"contained",color:"secondary",onClick:function(){l(a,d,M.And,i.id)},className:"add-button",startIcon:r?null:s.createElement(Ie.pO,null)},p("rules:buttons.and"))),v&&!r&&s.createElement(we.Z,{"aria-label":"delete",size:"small",sx:{position:"absolute"},className:"remove-button",onClick:function(){return f(a,i.id)}},s.createElement(Ie.V_,{className:"remove-button-icon"})))};return s.createElement("div",{"data-componentid":n},null==i?void 0:i.map((function(e,t){var n,i,a;return(null==o?void 0:o.condition)===M.Or&&s.createElement(s.Fragment,{key:t},e.condition===M.And&&s.createElement(s.Fragment,null,null===(n=e.expressions)||void 0===n?void 0:n.map((function(t,n){return s.createElement(Ee.Z,{sx:{mt:2},key:n},e.expressions.length===n+1,s.createElement(b,{expression:t,ruleId:o.id,conditionId:e.id,index:n,isConditionLast:e.expressions.length===n+1,isConditionExpressionRemovable:e.expressions.length>1||o.rules.length>1}))}))),(!r&&(null===(i=e.expressions)||void 0===i?void 0:i.length)>0||r&&(null===(a=e.expressions)||void 0===a?void 0:a.length)!==t)&&s.createElement(Ne.Z,{sx:{mb:1,mt:2}},s.createElement(Ae.Z,{disabled:r,size:"small",variant:"contained",color:"secondary",onClick:function(){return l(o.id,e.id,M.Or)},startIcon:r?null:s.createElement(Ie.pO,null)},p("rules:buttons.or"))))})))};var ft=n(29809),pt={};pt.styleTagTransform=Je(),pt.setAttributes=Ke(),pt.insert=$e().bind(null,"head"),pt.domAPI=We(),pt.insertStyleElement=Qe();Ye()(ft.Z,pt);ft.Z&&ft.Z.locals&&ft.Z.locals;const mt=function(e){var t,n,r=e["data-componentid"],o=void 0===r?"rules-render-component":r,i=e.disableLastRuleDelete,a=void 0===i||i,l=e.disableClearRule,c=void 0!==l&&l,u=e.readonly,f=void 0!==u&&u,p=Fe(),m=p.isMultipleRules,h=p.ruleExecuteCollection,v=p.ruleExecutionsMeta,y=p.addNewRule,b=p.clearRule,g=p.removeRule,E=p.updateRulesFallbackExecution,A=p.updateRuleExecution,S=(0,d.$)().t;return s.createElement("div",{className:"rules-component","data-componentid":o},m&&!f&&s.createElement(Ee.Z,{sx:{mb:2}},s.createElement(Ae.Z,{size:"small",variant:"contained",color:"secondary",onClick:y,startIcon:s.createElement(Ie.pO,null)},S("rules:buttons.newRule"))),null==h||null===(t=h.rules)||void 0===t?void 0:t.map((function(e,t){var n,r,o;return s.createElement(Se.Z,{sx:{mb:2,position:"relative"},key:t},s.createElement(Oe.Z,{container:!0,alignItems:"center",sx:{mb:2}},s.createElement(Oe.Z,null,s.createElement(Ce.Z,{variant:"body2"},S("rules:texts.execute"))),null!=v&&v.executions?s.createElement(Oe.Z,null,s.createElement(Pe.Z,{sx:{m:1,minWidth:120},size:"small"},s.createElement(Te.Z,{disabled:f,value:e.execution,onChange:function(t){return A(t,e.id)}},null==v||null===(n=v.executions)||void 0===n?void 0:n.map((function(t,n){return s.createElement(xe.Z,{value:t.name,key:"".concat(e.id,"-").concat(n)},t.displayName)}))))):s.createElement(Oe.Z,null,s.createElement(Pe.Z,{sx:{mb:1,minWidth:0,mt:1},size:"small"},"\xa0")),s.createElement(Oe.Z,null,s.createElement(Ce.Z,{variant:"body2"},S("rules:texts.if")))),s.createElement(dt,{rule:e,readonly:f}),(null==h||null===(r=h.rules)||void 0===r?void 0:r.length)>1||!a&&!f&&s.createElement(we.Z,{color:"error","aria-label":"delete",size:"small",className:"delete-button",sx:{position:"absolute",right:14,top:14},onClick:function(){return g(e.id)}},s.createElement(Ie.XH,{className:"delete-button-icon"})),!m&&!c&&!f&&s.createElement(Ae.Z,{"aria-label":"Clear rule",disabled:f,variant:"outlined",size:"small",className:"clear-button ".concat((null==h||null===(o=h.rules)||void 0===o?void 0:o.length)>1||!a?"has-delete-button":""),sx:{position:"absolute",right:14,top:14},onClick:function(){return b(e.id)}},S("rules:buttons.clearRule")))})),m&&s.createElement(Se.Z,{sx:{mb:2,position:"relative"}},s.createElement(Oe.Z,{container:!0,alignItems:"center"},s.createElement(Oe.Z,null,s.createElement(Ce.Z,{variant:"body2"},"Else Execute")),s.createElement(Oe.Z,null,s.createElement(Pe.Z,{sx:{m:1,minWidth:120},size:"small"},s.createElement(Te.Z,{value:null==h?void 0:h.fallbackExecution,onChange:function(e){return E(e)},disabled:f},null==v||null===(n=v.fallbackExecutions)||void 0===n?void 0:n.map((function(e,t){return s.createElement(xe.Z,{value:e.name,key:"".concat(t)},e.displayName)}))))))))};var ht=n(28676);const vt=function(e){var t=e.readonly,n=e.rule,r=e.ruleActionType,o=e.isHasRule,i=e.setIsHasRule,a=e.setRule,l=e["data-componentid"],u=void 0===l?"action-rule-config-form":l,f=Ve(),p=f.addNewRule,m=f.ruleInstance,h=(0,d.$)().t;return(0,s.useEffect)((function(){m||(i(!1),a(null)),m&&!(0,ht.Z)(m,n)&&a(m)}),[m]),(0,s.useEffect)((function(){o&&!m&&p()}),[o]),s.createElement(s.Fragment,null,s.createElement(ge.Z,{className:"divider-container"}),s.createElement(c.X6,{className:"heading-container",as:"h5"},s.createElement(Ue.c,{i18nKey:"actions:fields.rules.label"},"Execution Rule")),o?s.createElement(mt,{disableLastRuleDelete:!1,readonly:t}):s.createElement(ye.Z,{className:"alert-nutral",icon:!1},s.createElement(be.Z,{className:"alert-title","data-componentid":"".concat(u,"-rule-info-box-title")},s.createElement(Ue.c,{i18nKey:"actions:fields.rules.info.title"},"No execution rule is configured.")),s.createElement(Ue.c,{i18nKey:"actions:fields.rules.info.message."+r,defaults:"This action will be executed without any conditions.",components:[s.createElement(c.EK,{key:"authorization_code"},"authorization_code"),s.createElement(c.EK,{key:"client_credentials"},"client_credentials"),s.createElement(c.EK,{key:"password"},"password"),s.createElement(c.EK,{key:"refresh_token"},"refresh_token")]}),!t&&s.createElement("div",null,s.createElement(T.Z,{onClick:function(){return i(!0)},variant:"outlined",size:"small",className:"secondary-button","data-componentid":"".concat(u,"-configure-rule-button")},h("actions:fields.rules.button")))))};var yt=h.AsgardeoSPAClient.getInstance().httpRequest.bind(h.AsgardeoSPAClient.getInstance());const bt=function(e,t){var n={data:t,method:a.f2.POST,url:"".concat(v.h.getState().config.endpoints.actions,"/").concat(e)};return yt(n).then((function(e){if(201!==e.status)throw new y.u(b.k.ERROR_MESSAGES.CREATE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new y.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var gt=h.AsgardeoSPAClient.getInstance().httpRequest.bind(h.AsgardeoSPAClient.getInstance());const Et=function(e,t,n){var r={data:n,headers:{Accept:"application/json","Content-Type":"application/json"},method:a.f2.PATCH,url:"".concat(v.h.getState().config.endpoints.actions,"/").concat(e,"/").concat(t)};return gt(r).then((function(e){if(200!==e.status)throw new y.u(b.k.ERROR_MESSAGES.UPDATE_ACTION_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new y.u(e.message,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var At=n(75173),St=n(30508),wt={};wt.styleTagTransform=Je(),wt.setAttributes=Ke(),wt.insert=$e().bind(null,"head"),wt.domAPI=We(),wt.insertStyleElement=Qe();Ye()(St.Z,wt);St.Z&&St.Z.locals&&St.Z.locals;var Pt=function(){var e=(0,f.I0)(),t=(0,d.$)().t;return function(n){e((0,l.V_)({description:t("actions:notification.success."+n+".description"),level:a.QU.SUCCESS,message:t("actions:notification.success."+n+".message")}))}},Ot=function(){var e=(0,f.I0)(),t=(0,d.$)().t;return function(n,r){var o;null!==(o=n.response)&&void 0!==o&&null!==(o=o.data)&&void 0!==o&&o.description?e((0,l.V_)({description:t("actions:notification.error."+r+".description",{description:n.response.data.description}),level:a.QU.ERROR,message:t("actions:notification.error."+r+".message")})):e((0,l.V_)({description:t("actions:notification.genericError."+r+".description"),level:a.QU.ERROR,message:t("actions:notification.genericError."+r+".message")}))}},xt=n(63875);function Tt(e){return Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Tt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const _t=function(e){var t,n,o=e.initialValues,i=e.isLoading,a=e.actionTypeApiPath,l=e.isCreateFormState,u=e["data-componentid"],p=void 0===u?"action-config-form":u,m=(0,f.v9)((function(e){return e.config.ui.features.actions})),h=kt((0,s.useState)(!1),2),v=h[0],y=h[1],g=kt((0,s.useState)(null),2),E=g[0],A=g[1],S=kt((0,s.useState)(!1),2),w=S[0],C=S[1],I=kt((0,s.useState)(!1),2),R=I[0],k=I[1],N=kt((0,s.useState)(null),2),Z=N[0],D=N[1],M=(0,d.$)().t,U=Pt(),L=Ot(),F=(0,r.EV)(null==m||null===(t=m.scopes)||void 0===t?void 0:t.update),V=(0,r.EV)(null==m||null===(n=m.scopes)||void 0===n?void 0:n.create),z=O(a).mutate,Y=P(a,null==o?void 0:o.id),B=Y.data,W=Y.isLoading,H=Y.mutate,$=Y.error,G=_(a).data,K=(0,pe.cr)(m,b.k.FEATURE_DICTIONARY.get("PRE_ISSUE_ACCESS_TOKEN_RULE"));(0,s.useEffect)((function(){null!=o&&o.id?(A(o.authenticationType),y(!1)):y(!0)}),[o]),(0,s.useEffect)((function(){null!=B&&B.rule&&k(!0)}),[B]);var q=function(){return l?!V:!F},Q=function(){return i?s.createElement(x.Z,{className:"placeholder-box"},s.createElement(j,{variant:"rectangular",height:7,width:"30%"}),s.createElement(j,{variant:"rectangular",height:28}),s.createElement(j,{variant:"rectangular",height:7,width:"90%"}),s.createElement(j,{variant:"rectangular",height:7})):s.createElement(s.Fragment,null,s.createElement(ve,{initialValues:o,isCreateFormState:l,onAuthenticationTypeChange:function(e,t){A(e),y(t)}}),G&&K&&s.createElement(vt,{readonly:q(),rule:Z,ruleActionType:a,setRule:D,isHasRule:R,setIsHasRule:k}))};return s.createElement(s.Fragment,null,(l||!W&&!$&&B)&&s.createElement(fe,{conditionExpressionsMetaData:G,initialData:null==B?void 0:B.rule},s.createElement(me.vy,{onSubmit:function(e,t){!function(e,t){var n;R?n=Z:l||Z||(n={});var r={};if(v||l)switch(e.authenticationType){case At.am.BASIC:r.username=e.usernameAuthProperty,r.password=e.passwordAuthProperty;break;case At.am.BEARER:r.accessToken=e.accessTokenAuthProperty;break;case At.am.API_KEY:r.header=e.headerAuthProperty,r.value=e.valueAuthProperty;case At.am.NONE:}if(l){var i=It({endpoint:{authentication:{properties:r,type:e.authenticationType},uri:e.endpointUri},name:e.name},null!==n&&{rule:n});C(!0),bt(a,i).then((function(){U(b.k.CREATE),z()})).catch((function(e){L(e,b.k.CREATE)})).finally((function(){C(!1)}))}else{var c=It({endpoint:v||null!=t&&t.endpointUri?{authentication:v?{properties:r,type:e.authenticationType}:void 0,uri:null!=t&&t.endpointUri?e.endpointUri:void 0}:void 0,name:null!=t&&t.name?e.name:void 0},null!==n&&{rule:n});C(!0),Et(a,o.id,c).then((function(){U(b.k.UPDATE),y(!1),H()})).catch((function(e){L(e,b.k.UPDATE)})).finally((function(){C(!1)}))}}(e,t.getState().dirtyFields)},validate:function(e){return(0,xt.W)(e,{authenticationType:E,isAuthenticationUpdateFormState:v,isCreateFormState:l})},initialValues:o,render:function(e){var t=e.handleSubmit,n=e.form;return s.createElement("form",{onSubmit:t},s.createElement(c.pJ,{className:"form-wrapper",padded:"very","data-componentid":"".concat(p,"-section")},s.createElement("div",{className:"form-container with-max-width"},Q(),!i&&s.createElement(T.Z,{size:"medium",variant:"contained",onClick:t,className:"button-container","data-componentid":"".concat(p,"-primary-button"),loading:w,disabled:q()},M(l?"actions:buttons.create":"actions:buttons.update")))),s.createElement(me.lP,{subscription:{values:!0}},(function(e){var t=e.values;if(!v)switch(n.change("authenticationType",null==o?void 0:o.authenticationType),E){case At.am.BASIC:delete t.usernameAuthProperty,delete t.passwordAuthProperty;break;case At.am.BEARER:delete t.accessTokenAuthProperty;break;case At.am.API_KEY:delete t.headerAuthProperty,delete t.valueAuthProperty}switch(E){case At.am.BASIC:delete t.accessTokenAuthProperty,delete t.headerAuthProperty,delete t.valueAuthProperty;break;case At.am.BEARER:delete t.usernameAuthProperty,delete t.passwordAuthProperty,delete t.headerAuthProperty,delete t.valueAuthProperty;break;case At.am.API_KEY:delete t.usernameAuthProperty,delete t.passwordAuthProperty,delete t.accessTokenAuthProperty;break;case At.am.NONE:delete t.usernameAuthProperty,delete t.passwordAuthProperty,delete t.headerAuthProperty,delete t.valueAuthProperty,delete t.accessTokenAuthProperty}return null})))}})))};var Nt=n(53268),Zt=n(64573),Dt=n(36940),Mt=n(16590),Ut=n(19980),Lt=n(47018),Ft=n(1989),Vt=["certificate","data-componentid"];function zt(){return zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(null,arguments)}var Yt=function(e){var t=e.certificate,n=e["data-componentid"],r=void 0===n?"certificate-form-field-modal":n,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Vt),i=(0,d.$)().t,a=s.createElement(Ut.Z,{className:"certificate","data-componentid":r},s.createElement("p",{className:"certificate-field"},i("certificates:keystore.certificateViewValidation",{algorithms:Dt.lu.SUPPORTED_KEY_ALGORITHMS.map((function(e,t){return s.createElement("span",{key:"".concat(e,"+").concat(t)},s.createElement(c.EK,null,e),"\xa0")}))})));return s.createElement(Lt.Z,zt({closeOnDimmerClick:!0,className:"certificate-display",dimmer:"blurring",size:"tiny","data-testid":"".concat(r,"-view-certificate-modal")},o),s.createElement(Lt.Z.Header,null,s.createElement("div",{className:"certificate-ribbon"},s.createElement(c.dn,{inline:!0,transparent:!0,size:"auto",icon:(0,Ft._5)().ribbon}),s.createElement("div",{className:"certificate-alias"},"View Certificate - ",null!=t&&t.alias?null==t?void 0:t.alias:(null==t?void 0:t.issuerDN)&&Mt.CertificateManagementUtils.searchIssuerDNAlias(null==t?void 0:t.issuerDN)),s.createElement("br",null),s.createElement("div",{className:"certificate-serial"}," ",i("certificates:keystore.serial"),null==t?void 0:t.serialNumber))),s.createElement(Lt.Z.Content,{className:"certificate-content"},null!=t&&t.infoUnavailable?a:s.createElement(c.KB,{certificate:t,labels:{issuerDN:i("certificates:keystore.summary.issuerDN"),subjectDN:i("certificates:keystore.summary.subjectDN"),validFrom:i("certificates:keystore.summary.validFrom"),validTill:i("certificates:keystore.summary.validTill"),version:i("certificates:keystore.summary.version")}})))};var Bt=n(90302),Wt=n(84025),Ht=n.n(Wt),$t=n(26154),Gt=n(93545),Kt=n(96334);function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Xt=function(e){var t=e.closeWizard,n=e.currentStep,r=void 0===n?0:n,o=e.updatePEMValue,i=e.updateSubmit,a=e.currentPEMValue,l=e.isCreateFormState,u=e.actionTypeApiPath,f=e.actionId,p=e["data-componentid"],h=void 0===p?"add-action-certificate-wizard":p,v=(0,d.$)().t,y=Pt(),g=Ot(),E=qt((0,Kt.cC)(),2),A=E[0],S=E[1],w=qt((0,Kt.cC)(),2),P=w[0],O=w[1],x=qt((0,s.useState)(void 0),1)[0],T=qt((0,s.useState)(r),2),C=T[0],I=T[1],R=qt((0,s.useState)(!1),2),k=R[0],j=R[1],_=qt((0,c.IK)(),3),N=_[0],Z=_[2];(0,s.useEffect)((function(){void 0!==x&&I(C-1)}),[x]);return s.createElement(Lt.Z,{open:!0,className:"wizard action-create-wizard",dimmer:"blurring",size:"small",onClose:t,"data-componentid":h,closeOnDimmerClick:!1,closeOnEscape:!0},s.createElement(Lt.Z.Header,{className:"wizard-header"},v(l?"actions:certificateWizard.add.heading":a?"actions:certificateWizard.change.heading":"actions:certificateWizard.add.heading"),s.createElement(c.X6,{as:"h6"},v(l?"actions:certificateWizard.add.subHeading":a?"actions:certificateWizard.change.subHeading":"actions:certificateWizard.add.subHeading"))),s.createElement(Lt.Z.Content,{className:"content-container",scrolling:!0},N&&Z,s.createElement(Gt.J,{triggerCertificateUpload:P,triggerSubmit:A,onSubmit:function(e){if(o(e),!l){var n={passwordSharing:{certificate:e}};i(!0),Et(u,f,n).then((function(){y(a?b.k.CHANGE_CERTIFICATE:b.k.ADD_CERTIFICATE)})).catch((function(e){g(e,a?b.k.CHANGE_CERTIFICATE:b.k.ADD_CERTIFICATE)})).finally((function(){i(!1)}))}t()},setShowFinishButton:j})),s.createElement(Lt.Z.Actions,null,s.createElement(m.Z,null,s.createElement(m.Z.Row,{column:1},s.createElement(m.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(c.Qj,{floated:"left",onClick:function(){return t()},"data-componentid":"".concat(h,"-cancel-button")},v("common:cancel"))),s.createElement(m.Z.Column,{mobile:8,tablet:8,computer:8},s.createElement(c.KM,{disabled:!k,floated:"right",onClick:function(){if(0===C)O(),S()},"data-componentid":"".concat(h,"-finish-button")},v("common:finish")))))))};var Jt=n(5282),en={};en.styleTagTransform=Je(),en.setAttributes=Ke(),en.insert=$e().bind(null,"head"),en.domAPI=We(),en.insertStyleElement=Qe();Ye()(Jt.Z,en);Jt.Z&&Jt.Z.locals&&Jt.Z.locals;function tn(e){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tn(e)}function nn(){nn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),l=new R(r||[]);return o(a,"_invoke",{value:x(e,n,l)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",p="suspendedYield",m="executing",h="completed",v={};function y(){}function b(){}function g(){}var E={};u(E,a,(function(){return this}));var A=Object.getPrototypeOf,S=A&&A(A(k([])));S&&S!==n&&r.call(S,a)&&(E=S);var w=g.prototype=y.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,l){var c=d(e[o],e,i);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==tn(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(s).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function x(t,n,r){var o=f;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===h){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var c=T(l,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=d(t,n,r);if("normal"===u.type){if(o=r.done?h:p,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=h,r.method="throw",r.arg=u.arg)}}}function T(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(tn(t)+" is not iterable")}return b.prototype=g,o(w,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},P(O.prototype),u(O.prototype,l,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},P(w),u(w,c,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=k,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return l.type="throw",l.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function rn(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function on(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return an(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?an(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ln=function(e){var t=e.certificate,n=e.updatePEMValue,r=e.updateSubmit,o=e.isCreateFormState,i=e.actionTypeApiPath,l=e.actionId,u=e["data-componentid"],f=void 0===u?"action-certificate-list":u,p=(0,d.$)().t,h=Pt(),v=Ot(),y=on((0,s.useState)(null),2),g=y[0],E=y[1],A=on((0,s.useState)(!1),2),S=A[0],w=A[1],P=on((0,s.useState)(null),2),O=P[0],x=P[1],C=on((0,s.useState)(!1),2),I=C[0],R=C[1],k=on((0,s.useState)(!1),2),j=k[0],_=k[1];(0,s.useEffect)((function(){if(t){var e=[];Mt.CertificateManagementUtils.canSafelyParseCertificate(t)?null==e||e.push(Mt.CertificateManagementUtils.displayCertificate(null,t)):null==e||e.push(Dt.lu.DUMMY_DISPLAY_CERTIFICATE),E(e)}}),[t]),(0,s.useEffect)((function(){O&&w(!0)}),[O]),(0,s.useEffect)((function(){S||x(null)}),[S]);var N=function(e){x(e)},Z=function(){o?D():_(!0)},D=function(){var e,t=(e=nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(""),o?E(null):(t={passwordSharing:{certificate:""}},r(!0),Et(i,l,t).then((function(){h(b.k.DELETE_CERTIFICATE),E(null),_(!1)})).catch((function(e){v(e,b.k.DELETE_CERTIFICATE)})).finally((function(){r(!1)})));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rn(i,r,o,a,l,"next",e)}function l(e){rn(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),M=s.createElement(c.cV,{onClose:function(){return _(!1)},onSecondaryActionClick:function(){return _(!1)},onPrimaryActionClick:function(){D()},open:j,type:"negative",primaryAction:p("actions:certificateDeleteConfirmationModal.primaryAction"),secondaryAction:p("actions:certificateDeleteConfirmationModal.secondaryAction"),"data-componentid":"".concat(f,"-delete-confirmation-modal"),closeOnDimmerClick:!1},s.createElement(c.cV.Header,{"data-componentid":"".concat(f,"-delete-confirmation-modal-header")},p("actions:certificateDeleteConfirmationModal.header")),s.createElement(c.cV.Message,{attached:!0,negative:!0,"data-componentid":"".concat(f,"-delete-confirmation-modal-message")},p("actions:certificateDeleteConfirmationModal.message"))),U=function(e,t,n){var r,o,i=Ht()(t);switch(Mt.CertificateManagementUtils.determineCertificateValidityState({from:e,to:t})){case a.WE.VALID:r="check circle",o="green";break;case a.WE.WILL_EXPIRE_SOON:r="exclamation circle",o="yellow";break;default:r="times circle",o="red"}return s.createElement(s.Fragment,null,n+Dt.lu.SPACE_CHARACTER,s.createElement(c.GI,{trigger:s.createElement($t.Z,{name:r,color:o}),content:"Expiry date: "+i.format("DD/MM/YYYY"),inverted:!0,position:"top left",size:"mini"}))},L=function(e){return s.createElement(c.Yt,{name:null!=e&&e.infoUnavailable?Dt.lu.QUESTION_MARK:Mt.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN),size:"mini",floated:"left"})},F=function(e){return s.createElement("span",{className:"with-muted-list-item-header"},"Unable to visualize the certificate details\xa0",s.createElement(c.GI,{trigger:s.createElement($t.Z,{onClick:function(){return N(e)},name:"info circle",color:"grey"}),content:"Click for more info",inverted:!0,position:"top left",size:"mini"}))};return s.createElement("div",{className:"certificate-list"},g?s.createElement(m.Z,null,s.createElement(m.Z.Row,null,s.createElement(m.Z.Column,{width:16},s.createElement(c.Db,{fill:!0,relaxed:!1,className:"action-list",loadingStateOptions:{count:Bt.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"}},null==g?void 0:g.map((function(e,t){return s.createElement(c.zA,{key:t,actionsColumnWidth:3,descriptionColumnWidth:9,actions:[{"data-componentid":"".concat(f,"-edit-cert-").concat(t,"\n                                                        -button"),icon:"pencil",onClick:function(){return R(!0)},popupText:p("actions:fields.passwordSharing.certificate.icon.changecertificate"),type:"button"},{"data-componentid":"".concat(f,"-edit-cert-").concat(t,"\n                                                        -button"),disabled:null==e?void 0:e.infoUnavailable,hidden:null==e?void 0:e.infoUnavailable,icon:"eye",onClick:function(){return N(e)},popupText:p("actions:fields.passwordSharing.certificate.icon.viewcertificate"),type:"button"},{"data-componentid":"".concat(f,"-delete-cert-").concat(t,"\n                                                        -button"),icon:"trash alternate",onClick:Z,popupText:p("actions:fields.passwordSharing.certificate.icon.deletecertificate"),type:"button"}],actionsFloated:"right",avatar:L(e),itemHeader:null!=e&&e.infoUnavailable?F(e):U(e.validFrom,e.validTill,Mt.CertificateManagementUtils.searchIssuerDNAlias(null==e?void 0:e.issuerDN)),itemDescription:null!=e&&e.infoUnavailable?null:Mt.CertificateManagementUtils.getValidityPeriodInHumanReadableFormat(e.validFrom,e.validTill)})})))))):s.createElement(ye.Z,{severity:"warning"},s.createElement(be.Z,{className:"alert-title"},s.createElement(Ue.c,null,p("actions:fields.passwordSharing.certificate.info.header"))),s.createElement(Ue.c,null,p("actions:fields.passwordSharing.certificate.info.description")),s.createElement("div",null,s.createElement(T.Z,{onClick:function(){R(!0)},variant:"outlined",size:"small",className:"secondary-button"},p("actions:buttons.addCertificate")))),I&&s.createElement(Xt,{closeWizard:function(){return R(!1)},updatePEMValue:n,updateSubmit:r,currentPEMValue:t,isCreateFormState:o,actionTypeApiPath:i,actionId:l,"data-componentid":"".concat(f,"-add-certificate-wizard")}),M,S&&s.createElement(Yt,{open:S,certificate:O,onClose:function(){return w(!1)}}))};var cn=n(97751),un={};un.styleTagTransform=Je(),un.setAttributes=Ke(),un.insert=$e().bind(null,"head"),un.domAPI=We(),un.insertStyleElement=Qe();Ye()(cn.Z,un);cn.Z&&cn.Z.locals&&cn.Z.locals;function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function dn(e){return function(e){if(Array.isArray(e))return yn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||vn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){if(e){if("string"==typeof e)return yn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yn(e,t):void 0}}function yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const bn=function(e){var t,n,o=e.initialValues,i=e.isLoading,a=e.actionTypeApiPath,l=e.isCreateFormState,u=e["data-componentid"],p=void 0===u?"pre-update-password-action-config-form":u,m=(0,f.v9)((function(e){return e.config.ui.features.actions})),h=hn((0,s.useState)(!1),2),v=h[0],y=h[1],g=hn((0,s.useState)(null),2),E=g[0],A=g[1],S=hn((0,s.useState)(!1),2),w=S[0],C=S[1],I=hn((0,s.useState)(void 0),2),R=I[0],k=I[1],N=hn((0,s.useState)(!1),2),Z=N[0],D=N[1],M=hn((0,s.useState)(null),2),U=M[0],L=M[1],F=(0,d.$)().t,V=Pt(),z=Ot(),Y=(0,r.EV)(null==m||null===(t=m.scopes)||void 0===t?void 0:t.update),B=(0,r.EV)(null==m||null===(n=m.scopes)||void 0===n?void 0:n.create),W=O(a).mutate,H=P(a,null==o?void 0:o.id).mutate,$=_(a).data,G=(0,pe.cr)(m,b.k.FEATURE_DICTIONARY.get("PRE_UPDATE_PASSWORD_RULE"));(0,s.useEffect)((function(){null!=o&&o.id?(A(o.authenticationType),y(!1)):y(!0),null!=o&&o.rule&&D(!0)}),[o]),(0,s.useEffect)((function(){null!=o&&o.certificate?k(o.certificate):k(null)}),[o]);var K=function(){return l?!B:!Y},q=function(){return i?s.createElement(x.Z,{className:"placeholder-box"},s.createElement(j,{variant:"rectangular",height:7,width:"30%"}),s.createElement(j,{variant:"rectangular",height:28}),s.createElement(j,{variant:"rectangular",height:7,width:"90%"}),s.createElement(j,{variant:"rectangular",height:7})):s.createElement(s.Fragment,null,s.createElement(ve,{initialValues:o,isCreateFormState:l,onAuthenticationTypeChange:function(e,t){A(e),y(t)}}),s.createElement(ge.Z,{className:"divider-container"}),s.createElement(Zt.Z,{variant:"h6",className:"password-sharing-label"},F("actions:fields.passwordSharing.label")),s.createElement(me.SE,{key:"passwordSharing",className:"select-field-container",width:16,FormControlProps:{margin:"dense"},ariaLabel:"passwordsharing",required:!0,"data-componentid":"".concat(p,"-password-sharing-type-dropdown"),name:"passwordSharing",type:"dropdown",displayEmpty:!0,label:F("actions:fields.passwordSharing.format.label"),placeholder:F("actions:fields.passwordSharing.format.placeholder"),component:me.ZY,maxLength:100,minLength:0,options:dn(b.k.PASSWORD_SHARING_TYPES.map((function(e){return{text:e.text,value:e.value}}))),clearable:!0}),s.createElement(Nt.Z,{className:"certificate-label"},F("actions:fields.passwordSharing.certificate.label")),s.createElement(ln,{updatePEMValue:function(e){k(e)},updateSubmit:function(e){C(e)},isCreateFormState:l,certificate:R,actionTypeApiPath:a,actionId:null==o?void 0:o.id}),$&&G&&s.createElement(vt,{readonly:K(),rule:U,ruleActionType:a,setRule:L,isHasRule:Z,setIsHasRule:D}))};return s.createElement(s.Fragment,null,(l||o)&&s.createElement(fe,{conditionExpressionsMetaData:$,initialData:null==o?void 0:o.rule},s.createElement(me.vy,{onSubmit:function(e,t){!function(e,t){var n;Z?n=U:l||U||(n={});var r={};if(v||l)switch(e.authenticationType){case At.am.BASIC:r.username=e.usernameAuthProperty,r.password=e.passwordAuthProperty;break;case At.am.BEARER:r.accessToken=e.accessTokenAuthProperty;break;case At.am.API_KEY:r.header=e.headerAuthProperty,r.value=e.valueAuthProperty;case At.am.NONE:}if(l){var i={endpoint:{authentication:{properties:r,type:e.authenticationType},uri:e.endpointUri},name:e.name,passwordSharing:pn(pn({},R?{certificate:R}:{}),{},{format:e.passwordSharing}),rule:null!=n?n:void 0};C(!0),bt(a,i).then((function(){V(b.k.CREATE),W()})).catch((function(e){z(e,b.k.CREATE)})).finally((function(){C(!1)}))}else{var c={endpoint:v||null!=t&&t.endpointUri?{authentication:v?{properties:r,type:e.authenticationType}:void 0,uri:null!=t&&t.endpointUri?e.endpointUri:void 0}:void 0,name:null!=t&&t.name?e.name:void 0,passwordSharing:null!=t&&t.passwordSharing?{format:e.passwordSharing}:void 0,rule:null!=n?n:void 0};C(!0),Et(a,o.id,c).then((function(){V(b.k.UPDATE),y(!1),H()})).catch((function(e){z(e,b.k.UPDATE)})).finally((function(){C(!1)}))}}(e,t.getState().dirtyFields)},validate:function(e){var t={},n=(0,xt.W)(e,{authenticationType:E,isAuthenticationUpdateFormState:v,isCreateFormState:l});return null!=e&&e.passwordSharing||(t.passwordSharing=F("actions:fields.passwordSharing.format.validations")),pn(pn({},n),t)},initialValues:o,render:function(e){var t=e.handleSubmit,n=e.form;return s.createElement("form",{onSubmit:t},s.createElement(c.pJ,{className:"form-wrapper",padded:"very","data-componentid":"".concat(p,"-section")},s.createElement("div",{className:"form-container with-max-width"},q(),!i&&s.createElement(T.Z,{size:"medium",variant:"contained",onClick:t,className:"button-container","data-componentid":"".concat(p,"-primary-button"),loading:w,disabled:K()},F(l?"actions:buttons.create":"actions:buttons.update")))),s.createElement(me.lP,{subscription:{values:!0}},(function(e){var t=e.values;if(!v)switch(n.change("authenticationType",null==o?void 0:o.authenticationType),E){case At.am.BASIC:delete t.usernameAuthProperty,delete t.passwordAuthProperty;break;case At.am.BEARER:delete t.accessTokenAuthProperty;break;case At.am.API_KEY:delete t.headerAuthProperty,delete t.valueAuthProperty}switch(E){case At.am.BASIC:delete t.accessTokenAuthProperty,delete t.headerAuthProperty,delete t.valueAuthProperty;break;case At.am.BEARER:delete t.usernameAuthProperty,delete t.passwordAuthProperty,delete t.headerAuthProperty,delete t.valueAuthProperty;break;case At.am.API_KEY:delete t.usernameAuthProperty,delete t.passwordAuthProperty,delete t.accessTokenAuthProperty;break;case At.am.NONE:delete t.usernameAuthProperty,delete t.passwordAuthProperty,delete t.headerAuthProperty,delete t.valueAuthProperty,delete t.accessTokenAuthProperty}return null})))}})))};var gn=n(15126),En={};En.styleTagTransform=Je(),En.setAttributes=Ke(),En.insert=$e().bind(null,"head"),En.domAPI=We(),En.insertStyleElement=Qe();Ye()(gn.Z,En);gn.Z&&gn.Z.locals&&gn.Z.locals;function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=An(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==An(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Tn=function(e){var t,n,h=e["data-componentid"],v=void 0===h?"action-configuration-page":h,y=(0,f.v9)((function(e){return e.config.ui.features.actions})),g=On((0,s.useState)(!1),2),A=g[0],w=g[1],x=On((0,s.useState)(!1),2),T=x[0],C=x[1],I=On((0,s.useState)(!1),2),R=I[0],k=I[1],j=On((0,s.useState)(!1),2),_=j[0],N=j[1],Z=(0,f.I0)(),D=(0,d.$)().t,M=(0,c.fQ)().getLink,U=Pt(),L=Ot(),F=(0,r.EV)(null==y||null===(t=y.scopes)||void 0===t?void 0:t.update),V=(0,s.useMemo)((function(){var e=i.m.location.pathname.split("/");switch(e[e.length-1]){case b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getUrlPath():return b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getApiPath();case b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getUrlPath():return b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getApiPath();case b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getUrlPath():return b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getApiPath();case b.k.ACTION_TYPES.PRE_REGISTRATION.getUrlPath():return b.k.ACTION_TYPES.PRE_REGISTRATION.getApiPath();default:return null}}),[i.m.location.pathname]),z=O(V),Y=z.data,B=z.error,W=z.isLoading,H=z.mutate;(0,s.useEffect)((function(){var e;(null==Y?void 0:Y.length)>=1?(N(!1),k((null===(e=Y[0])||void 0===e?void 0:e.status.toString())===b.k.ACTIVE_STATUS)):N(!0)}),[Y]);var $=(0,s.useMemo)((function(){var e;return(null==Y||null===(e=Y[0])||void 0===e?void 0:e.id)||null}),[Y]),G=P(V,$),K=G.data,q=G.error,Q=G.isLoading,X=G.mutate,J=W||!Y||!Array.isArray(Y)||Q,ee=(0,s.useMemo)((function(){var e,t;return K?{authenticationType:null==K||null===(e=K.endpoint)||void 0===e||null===(e=e.authentication)||void 0===e||null===(e=e.type)||void 0===e?void 0:e.toString(),endpointUri:null==K||null===(t=K.endpoint)||void 0===t?void 0:t.uri,id:null==K?void 0:K.id,name:null==K?void 0:K.name,rule:null==K?void 0:K.rule}:null}),[K]),te=(0,s.useMemo)((function(){return K&&V===b.k.PRE_UPDATE_PASSWORD_API_PATH?wn(wn({},ee),{},{certificate:(null==K?void 0:K.passwordSharing.certificate)||"",passwordSharing:null==K?void 0:K.passwordSharing.format}):null}),[K]);(0,s.useEffect)((function(){var e;!W&&B&&(null!==(e=B.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?Z((0,l.V_)({description:D("actions:notification.error.fetchByType.description",{description:B.response.data.description}),level:a.QU.ERROR,message:D("actions:notification.error.fetchByType.message")})):Z((0,l.V_)({description:D("actions:notification.genericError.fetchByType.description"),level:a.QU.ERROR,message:D("actions:notification.genericError.fetchByType.message")})))}),[W,B]),(0,s.useEffect)((function(){var e;!Q&&q&&(null!==(e=q.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?Z((0,l.V_)({description:D("actions:notification.error.fetchById.description",{description:q.response.data.description}),level:a.QU.ERROR,message:D("actions:notification.error.fetchById.message")})):Z((0,l.V_)({description:D("actions:notification.genericError.fetchById.description"),level:a.QU.ERROR,message:D("actions:notification.genericError.fetchById.message")})))}),[Q,q]);return s.createElement(c.Xg,{title:function(e){switch(e){case b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getApiPath():return D("actions:types.preIssueAccessToken.heading");case b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getApiPath():return D("actions:types.preUpdatePassword.heading");case b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getApiPath():return D("actions:types.preUpdateProfile.heading");case b.k.ACTION_TYPES.PRE_REGISTRATION.getApiPath():return D("actions:types.preRegistration.heading")}}(V),description:function(e){switch(e){case b.k.ACTION_TYPES.PRE_ISSUE_ACCESS_TOKEN.getApiPath():return s.createElement(s.Fragment,null,D("actions:types.preIssueAccessToken.description.expanded"),s.createElement(c.eb,{link:M("develop.actions.types.preIssueAccessToken.learnMore"),showEmptyLink:!1},D("common:learnMore")));case b.k.ACTION_TYPES.PRE_UPDATE_PASSWORD.getApiPath():return s.createElement(s.Fragment,null,D("actions:types.preUpdatePassword.description.expanded"),s.createElement(c.eb,{link:M("develop.actions.types.preUpdatePassword.learnMore"),showEmptyLink:!1},D("common:learnMore")));case b.k.ACTION_TYPES.PRE_UPDATE_PROFILE.getApiPath():return s.createElement(s.Fragment,null,D("actions:types.preUpdateProfile.description.expanded"),s.createElement(c.eb,{link:M("develop.actions.types.preUpdateProfile.learnMore"),showEmptyLink:!1},D("common:learnMore")));case b.k.ACTION_TYPES.PRE_REGISTRATION.getApiPath():return s.createElement(s.Fragment,null,D("actions:types.preRegistration.description.expanded"),s.createElement(c.eb,{link:M("develop.actions.types.preRegistration.learnMore"),showEmptyLink:!1},D("common:learnMore")));default:return""}}(V),backButton:{"data-componentid":"".concat(v,"-").concat(V,"-page-back-button"),onClick:function(){i.m.push(o.$.getPaths().get("ACTIONS"))},text:D("actions:goBackActions")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!1,"data-componentid":"".concat(v,"-").concat(V,"-page-layout")},!J&&!_&&!(0,u.Z)(Y)&&s.createElement(p.Z,{label:D(R?"actions:status.active":"actions:status.inactive"),toggle:!0,onChange:function(e,t){var n=t.checked?b.k.ACTIVATE:b.k.DEACTIVATE;C(!0),E(V,ee.id,n).then((function(){U(n)})).catch((function(e){L(e,n)})).finally((function(){k(t.checked),X(),C(!1)}))},checked:R,readOnly:!F,"data-componentId":"".concat(v,"-").concat(V,"-enable-toggle"),disabled:!F}),s.createElement(m.Z,{className:"grid-form"},s.createElement(m.Z.Row,{columns:1},s.createElement(m.Z.Column,{width:16},V===b.k.PRE_ISSUE_ACCESS_TOKEN_API_PATH&&s.createElement(_t,{initialValues:ee,isLoading:J,actionTypeApiPath:V,isCreateFormState:_}),V===b.k.PRE_UPDATE_PASSWORD_API_PATH&&s.createElement(bn,{initialValues:te,isLoading:J,actionTypeApiPath:V,isCreateFormState:_})))),!J&&!_&&!(0,u.Z)(Y)&&s.createElement(r.di,{when:null==y||null===(n=y.scopes)||void 0===n?void 0:n.delete},s.createElement(c.v9,{sectionHeader:D("actions:dangerZoneGroup.header")},s.createElement(c.cN,{"data-componentid":"".concat(v,"-danger-zone"),actionTitle:D("actions:dangerZoneGroup.revertConfig.actionTitle"),header:D("actions:dangerZoneGroup.revertConfig.heading"),subheader:D("actions:dangerZoneGroup.revertConfig.subHeading"),onActionClick:function(){w(!0)}})),s.createElement(c.cV,{primaryActionLoading:T,"data-componentid":"".concat(v,"-revert-confirmation-modal"),onClose:function(){return w(!1)},type:"negative",open:A,assertionHint:D("actions:confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:D("common:confirm"),secondaryAction:D("common:cancel"),onSecondaryActionClick:function(){return w(!1)},onPrimaryActionClick:function(){return C(!0),void S(V,ee.id).then((function(){U(b.k.DELETE),H(),i.m.push(o.$.getPaths().get("ACTIONS"))})).catch((function(e){L(e,b.k.DELETE)})).finally((function(){w(!1),C(!1)}))},closeOnDimmerClick:!1},s.createElement(c.cV.Header,{"data-componentid":"".concat(v,"-revert-confirmation-modal-header")},D("actions:confirmationModal.header")),s.createElement(c.cV.Message,{"data-componentid":"".concat(v,"revert-confirmation-modal-message"),attached:!0,negative:!0},D("actions:confirmationModal.message")),s.createElement(c.cV.Content,null,D("actions:confirmationModal.content")))))}},93545:(e,t,n)=>{n.d(t,{J:()=>s});var r=n(16590),o=n(96334),i=n(44194),a=n(89141),l=n(10742);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){var t=e.triggerCertificateUpload,n=e.onSubmit,u=e.setShowFinishButton,s=e["data-componentid"],d=void 0===s?"add-certificate-form":s,f=c((0,i.useState)(""),2),p=f[0],m=f[1],h=c((0,i.useState)(""),2),v=h[0],y=h[1],b=c((0,i.useState)(""),2),g=b[0],E=b[1],A=c((0,i.useState)(null),2),S=A[0],w=A[1],P=c((0,i.useState)(null),2),O=P[0],x=P[1],T=c((0,i.useState)(""),2),C=T[0],I=T[1];(0,i.useEffect)((function(){""!==C&&n(C)}),[C]);var R=function(e,t,n,o,i,a){m(t),E(n),y(o),w(i),x(a),I(btoa(r.CertificateManagementUtils.enclosePem(e.certificate)))};return i.createElement(i.Fragment,null,i.createElement(o.Es,{"data-testid":"".concat(d,"-form")},i.createElement(a.Z,null,i.createElement(a.Z.Row,{columns:1},i.createElement(a.Z.Column,{mobile:16,tablet:16,computer:16},i.createElement(l.e,{submit:R,triggerSubmit:t,pemData:g,nameData:p,fileDecodedData:v,fileData:S,forgeCertificateData:O,"data-testid":"".concat(d,"-upload"),hideAliasInput:!0,setShowFinishButton:u}))))))}},5282:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(51139),o=n.n(r),i=n(32234),a=n.n(i)()(o());a.push([e.id,".certificate-list{margin-top:15px}",""]);const l=a},30508:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(51139),o=n.n(r),i=n(32234),a=n.n(i)()(o());a.push([e.id,".form-wrapper .form-container{margin-top:0px;margin-bottom:0px}.form-wrapper .box-container{background-color:#f9fafb;border-radius:8px;padding:30px}.form-wrapper .box-container .box-field{margin-top:20px;margin-left:10px;margin-right:10px}.form-wrapper .text-field-container{margin-top:8px;margin-bottom:8px}.form-wrapper .select-field-container{margin-bottom:8px}.form-wrapper .hint-text{margin-top:0px;margin-bottom:8px}.form-wrapper .divider-container{margin-top:20px;margin-bottom:20px}.form-wrapper .heading-container{margin-top:20px;margin-bottom:20px}.form-wrapper .button-container{margin-top:30px}.form-wrapper .alert-title{font-weight:100}.form-wrapper .secondary-button{margin-top:10px}.form-wrapper .placeholder{border-radius:8px;margin-bottom:8px}.form-wrapper .placeholder.label{height:20px;max-width:100px}.form-wrapper .placeholder.text-field{height:40px}.form-wrapper .placeholder-box>*{margin-bottom:8px}",""]);const l=a},97751:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(51139),o=n.n(r),i=n(32234),a=n.n(i)()(o());a.push([e.id,".form-wrapper .form-container{margin-top:0px;margin-bottom:0px}.form-wrapper .box-container{background-color:#f9fafb;border-radius:8px;padding:30px}.form-wrapper .box-container .box-field{margin-top:20px;margin-left:10px;margin-right:10px}.form-wrapper .text-field-container{margin-top:8px;margin-bottom:8px}.form-wrapper .select-field-container{margin-bottom:8px}.form-wrapper .hint-text{margin-top:0px;margin-bottom:8px}.form-wrapper .divider-container{margin-top:20px;margin-bottom:20px}.form-wrapper .heading-container{margin-top:20px;margin-bottom:20px}.form-wrapper .password-sharing-label{margin-bottom:30px;font-weight:normal}.form-wrapper .certificate-label{font-weight:normal}.form-wrapper .button-container{margin-top:30px}.form-wrapper .alert-title{font-weight:100}.form-wrapper .secondary-button{margin-top:10px}.form-wrapper .placeholder{border-radius:8px;margin-bottom:8px}.form-wrapper .placeholder.label{height:20px;max-width:100px}.form-wrapper .placeholder.text-field{height:40px}.form-wrapper .placeholder-box>*{margin-bottom:8px}",""]);const l=a},15126:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(51139),o=n.n(r),i=n(32234),a=n.n(i)()(o());a.push([e.id,".grid-form{margin-top:20px !important;margin-bottom:20px !important}",""]);const l=a},11523:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(51139),o=n.n(r),i=n(32234),a=n.n(i)()(o());a.push([e.id,".MuiAutocomplete-listbox .MuiAutocomplete-moreItemsAvailableMessage{color:#666;font-style:italic;padding:5px 15px 5px;pointer-events:none}.MuiAutocomplete-listbox .MuiAutocomplete-clearFilterLink{font-style:italic;padding:5px 0;cursor:pointer}.MuiAutocomplete-listbox .MuiAutocomplete-clearFilterLink>.icon{margin-right:3px}.MuiAutocomplete-listbox .MuiAutocomplete-clearFilterLink>span.text{text-decoration:underline}.MuiAutocomplete-listbox .MuiAutocomplete-clearFilterLink:hover>span.text,.MuiAutocomplete-listbox .MuiAutocomplete-clearFilterLink:hover{text-decoration:none}",""]);const l=a},29809:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(51139),o=n.n(r),i=n(32234),a=n.n(i)()(o());a.push([e.id,".rules-component .box-container{background-color:#f9fafb;border-radius:8px;padding:20px}.rules-component .remove-button{font-size:1rem;width:25px;height:25px;min-height:25px;right:-10px;top:-10px}.rules-component .remove-button .remove-button-icon{font-size:1rem}.rules-component .clear-button{margin-right:10px;margin-top:5px}.rules-component .clear-button.has-delete-button{margin-right:60px}.rules-component .delete-button{font-size:1rem;width:40px;height:40px;min-height:30px;right:25px;top:20px}.rules-component .delete-button .delete-button-icon{font-size:1.2rem}",""]);const l=a}}]);