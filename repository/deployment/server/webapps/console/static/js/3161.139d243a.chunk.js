"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[3161],{83161:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(55007),o=n(60486),a=n(40838),i=n(36940),s=n(6833),u=n(82406),l=n(43516),c=n(44194),d=n(10479),f=n(47245),p=n(11626),m=n(51785),g=n(16826),v=n(38463),y=n(1566);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e){var t,n=e.match,h=e["data-testid"],S=n.params.id,b=E((0,c.useState)(null),2),O=b[0],R=b[1],M=E((0,c.useState)(null),2),I=M[0],U=M[1],_=E((0,c.useState)(null),2),P=_[0],A=_[1],L=E((0,c.useState)(void 0),2),T=L[0],k=L[1],w=(0,f.I0)(),$=(0,d.$)().t,C=(0,f.v9)((function(e){return e.config.ui.features})),j=(0,r.EV)(null==C||null===(t=C.userStores)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),x=function(){k(!0),(0,p.YZ)(S).then((function(e){R(e)})).catch((function(e){w((0,u.V_)({description:(null==e?void 0:e.description)||$("userstores:notifications.fetchUserstores.genericError.description"),level:s.QU.ERROR,message:(null==e?void 0:e.message)||$("userstores:notifications.fetchUserstores.genericError.message")}))})).finally((function(){k(!1)}))};(0,c.useEffect)((function(){x()}),[]),(0,c.useEffect)((function(){O&&(0,p.E4)(null==O?void 0:O.typeId,null).then((function(e){U(e)})).catch((function(e){w((0,u.V_)({description:(null==e?void 0:e.description)||$("userstores:notifications.fetchUserstoreMetadata.genericError.description"),level:s.QU.ERROR,message:(null==e?void 0:e.message)||$("userstores:notifications.fetchUserstoreMetadata.genericError.message")}))}))}),[O]),(0,c.useEffect)((function(){I&&A((0,y.Y)(I.properties,O.properties))}),[I]);var V=function(){return!j},Y=[{menuItem:$("userstores:pageLayout.edit.tabs.general"),render:function(){return c.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},c.createElement(m.iq,{readOnly:V(),properties:null==P?void 0:P.basic,userStore:O,update:x,id:S,"data-testid":"".concat(h,"-userstore-basic-details-edit")}))}},{menuItem:S===v.kL?null:$("userstores:pageLayout.edit.tabs.connection"),render:function(){return c.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},c.createElement(m.NY,{readOnly:V(),update:x,type:I,id:S,properties:null==P?void 0:P.connection,"data-testid":"".concat(h,"-userstore-connection-details-edit"),userStore:O}))}},{menuItem:$("userstores:pageLayout.edit.tabs.user"),render:function(){return c.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},c.createElement(m.HD,{readOnly:V(),update:x,id:S,properties:null==P?void 0:P.user,"data-testid":"".concat(h,"-userstore-user-details-edit")}))}},{menuItem:$("userstores:pageLayout.edit.tabs.group"),render:function(){return c.createElement(l.M$.Pane,{controlledSegmentation:!0,attached:!1},c.createElement(m.YV,{readOnly:V(),update:x,type:I,id:S,properties:null==P?void 0:P.group,"data-testid":"".concat(h,"-userstore-group-details-edit")}))}}];return c.createElement(l.O9,{isLoading:T,image:c.createElement(l.dn,{defaultIcon:!0,size:"x60",relaxed:"very",shape:"rounded",hoverable:!1,icon:(0,g.jw)()}),title:(null==O?void 0:O.name)===v.XS?i.ss.CUSTOMER_USER_STORE_MAPPING:null==O?void 0:O.name,pageTitle:(null==O?void 0:O.name)===v.XS?i.ss.CUSTOMER_USER_STORE_MAPPING:null==O?void 0:O.name,description:$("userstores:pageLayout.edit.description"),backButton:{onClick:function(){a.m.push(o.$.getPaths().get("USERSTORES"))},text:$("userstores:pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(h,"-page-layout")},c.createElement(l.M$,{isLoading:T,panes:Y,onTabChange:function(){x()},"data-testid":"".concat(h,"-tabs")}))};S.defaultProps={"data-testid":"userstores-edit"};const b=S}}]);