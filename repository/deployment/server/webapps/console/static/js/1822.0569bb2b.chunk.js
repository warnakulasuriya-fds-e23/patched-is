"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1822],{93331:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i(n.key),n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}r.d(t,{Ax:()=>p,eh:()=>u,sf:()=>m});var s,l,c,u=o((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));s=u,c="type",(l=i(l="REMOTE_USER_STORE_TYPE_QUERY_PARAM"))in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c;var m=function(e){return e.OPTIMIZED="optimized",e.CLASSIC="classic",e}({}),p=function(e){return e.GENERAL="general",e.CONFIGURATIONS="configurations",e.GUIDE="guide",e}({})},1822:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ee});var n=r(46461),a=r(99050),o=r(39428),i=r(23646),s=r(76300),l=r(12813),c=r(52845),u=r(89497),m=r(55007),p=r(12252),d=r(60486),f=r(40838),g=r(48704),E=r(96124),S=r(76271),v=r(6833);const b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={headers:{Accept:"application/json","Access-Control-Allow-Origin":S.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:v.f2.GET,url:"".concat(S.h.getState().config.endpoints.userStores,"/meta/types")},r=(0,E.Z)(e?t:null);return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};var y=r(20342),R=r(10319),U=r(86105),h=r(82406),M=r(43516),O=r(44194),I=r(10479),T=r(59673),_=r(47245),P=r(4203),x=r(48461),A=r(66184),D=r(49748),Z=r(30382),C=r(29051),N=r(51835),w=r.n(N),j=r(27975),L=r.n(j),$=r(55900),F=r.n($),W=r(21555),k=r.n(W),G=r(3621),Y=r.n(G),q=r(5062),V=r.n(q),Q=r(72879),z={};z.styleTagTransform=V(),z.setAttributes=k(),z.insert=F().bind(null,"head"),z.domAPI=L(),z.insertStyleElement=Y();w()(Q.Z,z);Q.Z&&Q.Z.locals&&Q.Z.locals;const H=(0,O.forwardRef)((function(e,t){var r=e.userStoreManager,n=e.isReadOnly,a=e.onSubmit,o=e.initialValues,i=e["data-componentid"],s=void 0===i?"user-store-configurations-form":i,l=p.Q.USER_NAME_CLAIM_URI,c=p.Q.USER_ID_CLAIM_URI,m=(0,O.useRef)(null),d=(0,I.$)().t,f=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),g=(0,C.D)(f,r);(0,O.useImperativeHandle)(t,(function(){return{triggerSubmit:function(){m.current&&m.current()}}}),[]);return O.createElement(Z.vy,{onSubmit:function(e){r!==R.uD.RemoteUserStoreManager&&(delete e.groupnameMapping,delete e.groupIdMapping),a(e)},validate:function(e){var t={};return e.usernameMapping||(t.usernameMapping=d("remoteUserStores:form.fields.usernameMapping.validation.required")),e.userIdMapping||(t.userIdMapping=d("remoteUserStores:form.fields.userIdMapping.validation.required")),e.readGroups&&r===R.uD.RemoteUserStoreManager&&(e.groupnameMapping||(t.groupnameMapping=d(g?"remoteUserStores:form.fields.groupnameMapping.validation.readGroupsEnabled":"remoteUserStores:form.fields.groupnameMapping.validation.required")),e.groupIdMapping||(t.groupIdMapping=d(g?"remoteUserStores:form.fields.groupIdMapping.validation.readGroupsEnabled":"remoteUserStores:form.fields.groupIdMapping.validation.required"))),t},initialValues:o,render:function(e){var t=e.handleSubmit;return m.current=t,O.createElement("form",{onSubmit:t,className:"configurations-form"},O.createElement(u.Z,{variant:"h5"},d("remoteUserStores:form.sections.userAttributes")),O.createElement(x.Z,null),O.createElement(D.Z,{container:!0,spacing:2,className:"form-grid-container"},O.createElement(D.Z,{xs:12,md:4},O.createElement(A.Z,{required:!0},d("remoteUserStores:form.fields.usernameMapping.label")),O.createElement("br",null),O.createElement(P.Z,{variant:"caption"},l)),O.createElement(D.Z,{xs:12,md:6},O.createElement(Z.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-usernameMapping"),name:"usernameMapping",type:"text",placeholder:d("remoteUserStores:form.fields.usernameMapping.placeholder"),component:Z.xh,disabled:n,helperText:O.createElement(M.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.usernameMapping.helperText"))})),O.createElement(D.Z,{xs:12,md:4},O.createElement(A.Z,{required:!0},d("remoteUserStores:form.fields.userIdMapping.label")),O.createElement("br",null),O.createElement(P.Z,{variant:"caption"},c)),O.createElement(D.Z,{xs:12,md:6},O.createElement(Z.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-userIdMapping"),name:"userIdMapping",type:"text",placeholder:d("remoteUserStores:form.fields.userIdMapping.placeholder"),component:Z.xh,disabled:n,helperText:O.createElement(M.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.userIdMapping.helperText"))}))),g||r===R.uD.RemoteUserStoreManager?O.createElement(O.Fragment,null,O.createElement(u.Z,{variant:"h5"},d("remoteUserStores:form.sections.groupAttributes")),O.createElement(x.Z,null),O.createElement(Z.lP,{subscription:{values:!0}},(function(e){var t=e.values,a=null==t?void 0:t.readGroups;return O.createElement(D.Z,{container:!0,spacing:2,className:"form-grid-container"},g&&O.createElement(D.Z,{xs:12},O.createElement(Z.SE,{label:d("remoteUserStores:form.fields.readGroups.label"),name:"readGroups",FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(s,"-field-readGroups"),component:Z.ur,disabled:n,hint:O.createElement(M.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.readGroups.helperText"))})),r===R.uD.RemoteUserStoreManager&&O.createElement(O.Fragment,null,O.createElement(D.Z,{xs:12,md:4},O.createElement(A.Z,{required:a&&r===R.uD.RemoteUserStoreManager,disabled:n||!a},d("remoteUserStores:form.fields.groupnameMapping.label"))),O.createElement(D.Z,{xs:12,md:6},O.createElement(Z.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-groupnameMapping"),name:"groupnameMapping",type:"text",placeholder:d("remoteUserStores:form.fields.groupnameMapping.placeholder"),component:Z.xh,disabled:n||!a,helperText:O.createElement(M.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.groupnameMapping.helperText"))})),O.createElement(D.Z,{xs:12,md:4},O.createElement(A.Z,{required:a&&r===R.uD.RemoteUserStoreManager,disabled:n||!a},d("remoteUserStores:form.fields.groupIdMapping.label"))),O.createElement(D.Z,{xs:12,md:6},O.createElement(Z.SE,{FormControlProps:{margin:"dense"},ariaLabel:"groupIdMapping","data-componentid":"".concat(s,"-field-groupIdMapping"),name:"groupIdMapping",type:"text",placeholder:d("remoteUserStores:form.fields.groupIdMapping.placeholder"),component:Z.xh,disabled:n||!a,helperText:O.createElement(M.kW,{className:"hint",compact:!0},d("remoteUserStores:form.fields.groupIdMapping.helperText"))}))))}))):null)}})}));var B=r(38463),K=r(12754),J=r(56758),X=r(1209),ee={};ee.styleTagTransform=V(),ee.setAttributes=k(),ee.insert=F().bind(null,"head"),ee.domAPI=L(),ee.insertStyleElement=Y();w()(X.Z,ee);X.Z&&X.Z.locals&&X.Z.locals;var te=["label","value"];function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ie=(0,O.forwardRef)((function(e,t){var r=e.userStoreManager,n=e.isReadOnly,a=e.isReadWriteUserStoresEnabled,o=e.onSubmit,i=e.initialValues,s=e["data-componentid"],l=void 0===s?"asgardeo-customer-userstore-general-details":s,c=(0,I.$)().t,u=(0,O.useRef)(null);(0,O.useImperativeHandle)(t,(function(){return{triggerSubmit:function(){u.current&&u.current()}}}),[]);var m=[{"data-componentid":"".concat(l,"-user-store-type-ldap-option-radio-button"),label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.userStoreType.types.ldap.label"),value:K._I.LDAP},{"data-componentid":"".concat(l,"-user-store-type-ad-option-radio-button"),label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.userStoreType.types.ad.label"),value:K._I.ActiveDirectory}],p=[{"data-componentid":"".concat(l,"-access-type-read-only-option-radio-button"),hint:{content:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readOnly.hint")},label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readOnly.label"),value:K.nU.ReadOnly},{"data-componentid":"".concat(l,"-access-type-read-write-option-radio-button"),hint:{content:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readWrite.hint")},label:c("extensions:manage.features.userStores.create.pageLayout.steps.generalSettings.form.fields.accessType.types.readWrite.label"),value:K.nU.ReadWrite}];return O.createElement(Z.vy,{onSubmit:function(e){var t;o(ae(ae({},e),{},{name:null==e||null===(t=e.name)||void 0===t?void 0:t.toUpperCase()}))},validate:function(e){var t={};if(null!=e&&e.name){var n=null==e?void 0:e.name.toUpperCase(),o=new RegExp("^[^_/]+$"),i=new RegExp("^([^a-zA-Z0-9]+$)"),s=[K.x$.PRIMARY_USER_STORE_NAME,K.x$.FEDERATION_USER_STORE_NAME,K.x$.DEFAULT_USER_STORE_NAME],l=[K.x$.INTERNAL_USER_STORE_NAME,K.x$.APPLICATION_USER_STORE_NAME],u=(0,J.u)(n,K.o3.EscapeRegEx),m="true"===u.get("isMatch").toString();if(o.test(n)){if(s.includes(n.trim().toUpperCase()))t.name=c("extensions:manage.features.userStores.edit.general.form.validations.restrictedNamesErrorMessage",{name:n});else if(l.includes(n.trim().toUpperCase()))t.name=c("extensions:manage.features.userStores.edit.general.form.validations.reservedNamesErrorMessage",{name:n});else if(i.test(n))t.name=c("extensions:manage.features.userStores.edit.general.form.validations.allSymbolsErrorMessage");else if(m){var p=u.get("invalidStringValue").toString();t.name=c("userstores:forms.general.name.validationErrorMessages.invalidInputErrorMessage",{invalidString:p})}}else t.name=c("extensions:manage.features.userStores.edit.general.form.validations.invalidSymbolsErrorMessage")}else t.name=c("remoteUserStores:form.fields.name.validation.required");if(null!=e&&e.description){var d=(0,J.u)(null==e?void 0:e.description,K.o3.EscapeRegEx);if("true"===d.get("isMatch").toString()){var f=d.get("invalidStringValue").toString();t.description=c("userstores:forms.general.description.validationErrorMessages.invalidInputErrorMessage",{invalidString:f})}}return null!=e&&e.accessType||(t.accessType=c("remoteUserStores:form.fields.accessType.validation.required")),!a||r!==B.uD.WSOutboundUserStoreManager||null!=e&&e.connectedUserStoreType||(t.connectedUserStoreType=c("remoteUserStores:form.fields.connectedUserStoreType.validation.required")),t},initialValues:i,render:function(e){var t=e.handleSubmit;return u.current=t,O.createElement("form",{onSubmit:t,className:"general-user-store-details-form"},O.createElement(Z.SE,{className:"text-field-container",FormControlProps:{margin:"dense"},"data-componentid":"".concat(l,"-field-name"),name:"name",type:"text",label:c("remoteUserStores:form.fields.name.label"),placeholder:c("remoteUserStores:form.fields.name.placeholder"),component:Z.xh,disabled:n,required:!0,uppercase:!0}),O.createElement(Z.SE,{className:"text-field-container",FormControlProps:{margin:"dense"},ariaLabel:"userStoreDescription",required:!1,"data-componentid":"".concat(l,"-field-description"),name:"description",type:"text",label:c("remoteUserStores:form.fields.description.label"),placeholder:c("remoteUserStores:form.fields.description.placeholder"),component:Z.xh,disabled:n}),O.createElement(Z.SE,{className:"text-field-container",label:c("remoteUserStores:form.fields.connectedUserStoreType.label"),name:"connectedUserStoreType",FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(l,"-field-connectedUserStoreType"),component:Z.hW,disabled:n,options:m.map((function(e){return{label:e.label,value:e.value}})),required:!0}),a&&r===B.uD.WSOutboundUserStoreManager&&O.createElement(Z.SE,{className:"text-field-container",label:c("remoteUserStores:form.fields.accessType.label"),name:"accessType",FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(l,"-field-accessType"),component:Z.hW,disabled:n,options:p.map((function(e){var t=e.label,r=e.value,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,te);return ae({label:t,value:r},n)})),required:!0}))}})}));var se=r(93331),le=r(8201),ce={};ce.styleTagTransform=V(),ce.setAttributes=k(),ce.insert=F().bind(null,"head"),ce.domAPI=L(),ce.insertStyleElement=Y();w()(le.Z,ce);le.Z&&le.Z.locals&&le.Z.locals;function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ue(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ue(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,s=[],l=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ee=function(e){var t,r,E,S=e.location,P=e["data-componentid"],x=void 0===P?"remote-userstore-create-page":P,A=new URLSearchParams(S.search),D=se.eh.REMOTE_USER_STORE_TYPE_QUERY_PARAM,Z=A.get(D),C=K.x$.getPaths().get("REMOTE_USER_STORE_CREATE"),N=(0,I.$)().t,w=(0,M.fQ)().getLink,j=(0,_.I0)(),L=(0,O.useRef)(null),$=(0,O.useRef)(null),F={configurations:{readGroups:!0},generalDetails:{accessType:K.nU.ReadOnly,connectedUserStoreType:K._I.LDAP}},W=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.productName})),k=(0,_.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),G=(0,U.cr)(k,K.x$.FEATURE_DICTIONARY.get(K.FC.OptimizedUserStore)),Y=(0,U.cr)(k,K.x$.FEATURE_DICTIONARY.get(K.FC.ReadWriteUserStores)),q=(0,m.EV)(null==k||null===(t=k.scopes)||void 0===t?void 0:t.update),V=fe((0,O.useState)(void 0),2),Q=V[0],z=V[1],B=fe((0,O.useState)(0),2),J=B[0],X=B[1],ee=fe((0,O.useState)(F),2),te=ee[0],re=ee[1],ne=fe((0,O.useState)(!1),2),ae=ne[0],oe=ne[1],le=b(),ce=le.data,ue=le.isLoading,me=le.error,de=(0,O.useMemo)((function(){var e;if(!ce)return null;var t=Q===se.sf.OPTIMIZED?R.uD.RemoteUserStoreManager:R.uD.WSOutboundUserStoreManager;return null===(e=ce.find((function(e){return e.typeName===t})))||void 0===e?void 0:e.typeId}),[ce,Q]);(0,O.useEffect)((function(){if(Object.values(se.sf).includes(Z))Z!==se.sf.OPTIMIZED||G?(z(Z),X(0),re(F)):f.m.replace("".concat(C,"?").concat(D,"=").concat(se.sf.CLASSIC));else{var e=G?se.sf.OPTIMIZED:se.sf.CLASSIC;f.m.replace("".concat(C,"?").concat(D,"=").concat(e))}}),[Z]),(0,O.useEffect)((function(){me&&j((0,h.V_)({description:N("remoteUserStores:notifications.typesFetchError.description"),level:v.QU.ERROR,message:N("remoteUserStores:notifications.typesFetchError.message")}))}),[me]);var ge;return O.createElement(M.Xg,{title:N("remoteUserStores:pages.create.title"),contentTopMargin:!0,description:O.createElement(O.Fragment,null,N("remoteUserStores:pages.create.description",{productName:W}),O.createElement(M.eb,{link:w("manage.userStores.createUserStore.learnMore")},N("common:learnMore"))),className:"remote-user-store-create-page-layout",backButton:{"data-testid":"".concat(x,"-back-button"),onClick:function(){f.m.push(d.$.getPaths().get("USERSTORES"))},text:N("remoteUserStores:pages.create.backButton")},titleTextAlign:"left",bottomMargin:!1,showBottomDivider:!0,"data-testid":"".concat(x,"-page-layout")},G&&Q&&O.createElement(M.v0,{content:(ge=function(){f.m.push("".concat(C,"?").concat(D,"=").concat(Q===se.sf.OPTIMIZED?se.sf.CLASSIC:se.sf.OPTIMIZED))},Q===se.sf.OPTIMIZED?O.createElement(T.c,{i18nKey:"remoteUserStores:pages.create.message.optimized"},"This configuration supports Authentication Only. User and group management features are not available in this setup. If user management is an essential requirement, please use the ",O.createElement("a",{onClick:ge},"Classic User Store Connection")," instead."):O.createElement(T.c,{i18nKey:"remoteUserStores:pages.create.message.classic"},"If your requirement is only for authentication, we recommend using the ",O.createElement("a",{onClick:ge},"Optimized User Store Connection")," for efficiency.")),type:"info","data-componentid":"".concat(x,"-configuration-message"),className:"remote-user-store-impl-message"}),O.createElement(M.pJ,{padded:"very"},ue||me?O.createElement(o.Z,{spacing:3,"data-componentid":"".concat(x,"-loading-placeholder")},O.createElement(a.Z,{variant:"rectangular",height:40}),O.createElement(o.Z,{spacing:1},O.createElement(a.Z,{variant:"rectangular",width:210,height:10}),O.createElement(a.Z,{variant:"text"}),O.createElement(a.Z,{variant:"rectangular",width:210,height:10}),O.createElement(a.Z,{variant:"text"}),O.createElement(a.Z,{variant:"rectangular",width:210,height:10}),O.createElement(a.Z,{variant:"text"}))):O.createElement(c.Z,{activeStep:J,orientation:"vertical",className:"remote-user-store-create-stepper","data-componentid":"".concat(x,"-stepper")},O.createElement(i.Z,null,O.createElement(l.Z,{optional:O.createElement(u.Z,{variant:"body2"},N("remoteUserStores:pages.create.stepper.step1.description"))},O.createElement(u.Z,{variant:"h4"},N("remoteUserStores:pages.create.stepper.step1.title"))),O.createElement(s.Z,null,O.createElement(ie,{ref:L,userStoreManager:Q===se.sf.OPTIMIZED?R.uD.RemoteUserStoreManager:R.uD.WSOutboundUserStoreManager,isReadOnly:!q,isReadWriteUserStoresEnabled:Y,initialValues:null!==(r=te.generalDetails)&&void 0!==r?r:{},onSubmit:function(e){re((function(t){return pe(pe({},t),{},{generalDetails:e})})),X(1)},"data-componentid":"remote-user-store-create-general-details-form"}),O.createElement(n.Z,{variant:"contained",disabled:!q,"data-componentid":"".concat(x,"-next-button"),onClick:function(){var e;null!=L&&null!==(e=L.current)&&void 0!==e&&e.triggerSubmit&&L.current.triggerSubmit()},loading:ae},N("common:next")))),O.createElement(i.Z,null,O.createElement(l.Z,{optional:O.createElement(u.Z,{variant:"body2"},N("remoteUserStores:pages.create.stepper.step2.description"))},O.createElement(u.Z,{variant:"h4"},N("remoteUserStores:pages.create.stepper.step2.title"))),O.createElement(s.Z,null,O.createElement(H,{ref:$,userStoreManager:Q===se.sf.OPTIMIZED?R.uD.RemoteUserStoreManager:R.uD.WSOutboundUserStoreManager,isReadOnly:!q,initialValues:null!==(E=te.configurations)&&void 0!==E?E:{},onSubmit:function(e){var t,r=Q===se.sf.OPTIMIZED?R.uD.RemoteUserStoreManager:R.uD.WSOutboundUserStoreManager;re((function(t){return pe(pe({},t),{},{configurations:e})}));var n=[{name:K.x$.PROPERTY_NAME_CONNECTED_USER_STORE_TYPE,value:te.generalDetails.connectedUserStoreType},{name:K.x$.PROPERTY_NAME_READ_ONLY,value:te.generalDetails.accessType},{name:K.x$.PROPERTY_NAME_DISABLED,value:"false"},{name:K.x$.PROPERTY_NAME_READ_GROUPS,value:e.readGroups.toString()}];r===R.uD.RemoteUserStoreManager&&(n.push.apply(n,[{name:K.x$.PROPERTY_NAME_USERNAME,value:e.usernameMapping},{name:K.x$.PROPERTY_NAME_USERID,value:e.userIdMapping}]),e.readGroups&&n.push.apply(n,[{name:K.x$.PROPERTY_NAME_GROUPNAME,value:e.groupnameMapping},{name:K.x$.PROPERTY_NAME_GROUPID,value:e.groupIdMapping}]));var a,o={claimAttributeMappings:[{claimURI:p.Q.USER_NAME_CLAIM_URI,mappedAttribute:e.usernameMapping},{claimURI:p.Q.USER_ID_CLAIM_URI,mappedAttribute:e.userIdMapping}],description:null!==(t=te.generalDetails.description)&&void 0!==t?t:"",name:te.generalDetails.name,properties:n,typeId:de};a=o,oe(!0),(0,y.yS)(a).then((function(e){j((0,h.V_)({description:N("remoteUserStores:pages.create.notifications.createUserStore.success.description"),level:v.QU.SUCCESS,message:N("remoteUserStores:pages.create.notifications.createUserStore.success.message")})),j((0,h.V_)({description:N("userstores:notifications.delay.description"),level:v.QU.WARNING,message:N("userstores:notifications.delay.message")})),f.m.push({pathname:d.$.getPaths().get("USERSTORES_EDIT").replace(":id",e.id).replace("edit-user-store",g.w.userstoreEdit.remoteUserStoreEditPath)+"#tab=guide"})})).catch((function(e){var t,r;403===(null===(t=e.response)||void 0===t?void 0:t.status)&&(null===(r=e.response.data)||void 0===r?void 0:r.code)===R.u4.ERROR_CREATE_LIMIT_REACHED.getErrorCode()&&j((0,h.V_)({description:N(R.u4.ERROR_CREATE_LIMIT_REACHED.getErrorDescription()),level:v.QU.ERROR,message:N(R.u4.ERROR_CREATE_LIMIT_REACHED.getErrorMessage())})),j((0,h.V_)({description:N("remoteUserStores:pages.create.notifications.createUserStore.genericError.description"),level:v.QU.ERROR,message:N("remoteUserStores:pages.create.notifications.createUserStore.genericError.message")})),oe(!1)}))},"data-componentid":"remote-user-store-create-configurations-form"}),O.createElement("div",{className:"step-actions-container"},O.createElement(n.Z,{variant:"outlined",disabled:!q||ae,"data-componentid":"".concat(x,"-previous-button"),onClick:function(){X((function(e){return e-1}))}},N("common:previous")),O.createElement(n.Z,{variant:"contained",disabled:!q,"data-componentid":"".concat(x,"-finish-button"),onClick:function(){var e;null!=$&&null!==(e=$.current)&&void 0!==e&&e.triggerSubmit&&$.current.triggerSubmit()},loading:ae},N("common:finish"))))))))}},29051:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(38463),a=r(86105),o=r(12754),i=function(e,t){var r=(0,a.cr)(e,o.x$.FEATURE_DICTIONARY.get(o.FC.ClassicUserStoreReadGroups)),i=(0,a.cr)(e,o.x$.FEATURE_DICTIONARY.get(o.FC.OptimizedUserStoreReadGroups));return t===n.uD.WSOutboundUserStoreManager&&r||t===n.uD.RemoteUserStoreManager&&i}},56758:(e,t,r)=>{r.d(t,{u:()=>n});var n=function(e,t){var r=new RegExp(t),n=!1,a="";r.test(e)&&(n=!0,null!=r.exec(e)&&(a=r.exec(e).toString()));var o=new Map;return o.set("isMatch",n),o.set("invalidStringValue",a),o}},72879:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(51139),a=r.n(n),o=r(32234),i=r.n(o)()(a());i.push([e.id,".configurations-form{padding-top:16px}.configurations-form .form-grid-container{margin-top:8px;margin-bottom:16px}",""]);const s=i},1209:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(51139),a=r.n(n),o=r(32234),i=r.n(o)()(a());i.push([e.id,".general-user-store-details-form .text-field-container{margin-top:8px}",""]);const s=i},8201:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(51139),a=r.n(n),o=r(32234),i=r.n(o)()(a());i.push([e.id,".remote-user-store-create-page-layout .remote-user-store-impl-message a:hover{cursor:pointer}.remote-user-store-create-page-layout .remote-user-store-create-stepper .step-actions-container{display:flex;gap:8px}",""]);const s=i}}]);