"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4420],{80854:(e,t,n)=>{n.d(t,{d:()=>C,x:()=>_});var r,i=n(11526),o=n(65388),a=n(96124),l=n(43939),s=n(6833),c=n(60507);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var m=f((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));r=m,g(m,"WS_FEDERATION_CONFIG_FETCH_ERROR_CODE","WFC-00001"),g(m,"WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE","WFC-00002"),g(m,"WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE","WFC-00003"),g(m,"ErrorMessages",{WS_FEDERATION_CONFIG_FETCH_ERROR_CODE:new c.O(r.WS_FEDERATION_CONFIG_FETCH_ERROR_CODE,"An error occurred while fetching the WS Federation configurations.","Error while fetching the WS Federation configurations",null),WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE:new c.O(r.WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while fetching the WS Federation configurations.","Invalid Status Code while fetching the WS Federation configurations",null),WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE:new c.O(r.WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE,"An error occurred while updating the WS Federation configurations.","Error while updating the WS Federation configurations",null)});var p=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),_=function(){var e={headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.GET,url:o.D.getServiceResourceEndpoints().passiveStsConfigurations},t=(0,a.Z)(e),n=t.data,r=t.error;return{data:n,error:r,isLoading:!r&&!n,isValidating:t.isValidating,mutate:t.mutate}},C=function(e){var t={data:e,headers:{Accept:"application/json","Content-Type":"application/json"},method:s.f2.PATCH,url:o.D.getServiceResourceEndpoints().passiveStsConfigurations};return p(t).then((function(e){if(200!==e.status&&201!==e.status)throw new l.u(m.ErrorMessages.WS_FEDERATION_CONFIG_FETCH_INVALID_STATUS_CODE_ERROR_CODE.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t,n=m.ErrorMessages.WS_FEDERATION_CONFIG_UPDATE_ERROR_CODE.getErrorMessage();throw new l.u(n,e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))}},44420:(e,t,n)=>{n.r(t),n.d(t,{WSFederationConfigurationPage:()=>O,default:()=>S});var r=n(60486),i=n(40838),o=n(43939),a=n(86105),l=n(6833),s=n(82406),c=n(30382),u=n(43516),d=n(44194),f=n(10479),g=n(47245),E=n(89141),m=n(41193),p=n(62508),_=n(41206),C=n(80854);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e["data-componentid"],n=(0,d.useRef)(null),v=(0,d.useRef)(null),O=(0,g.v9)((function(e){return e.config.ui.features})),S=(0,g.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),h=(0,d.useMemo)((function(){var e;return!(0,a.Xr)(null==O?void 0:O.server,null==O||null===(e=O.server)||void 0===e||null===(e=e.scopes)||void 0===e?void 0:e.update,S)}),[O,S]),b=(0,g.I0)(),F=(0,f.$)().t,w=R((0,d.useState)(void 0),2),y=w[0],A=w[1],T=(0,C.x)(),I=T.data,N=T.isLoading,D=T.mutate,W=T.error;(0,d.useEffect)((function(){I instanceof o.u||W?P():I&&A({enableRequestSigning:I.enableRequestSigning})}),[I]);var P=function(){b((0,s.V_)({description:F("wsFederationConfig:notifications.getConfiguration.error.description"),level:l.QU.ERROR,message:F("wsFederationConfig:notifications.getConfiguration.error.message")}))},Z=function(e){var t={enableRequestSigning:e};(0,C.d)(t).then((function(){b((0,s.V_)({description:F("wsFederationConfig:notifications.updateConfiguration.success.description"),level:l.QU.SUCCESS,message:F("wsFederationConfig:notifications.updateConfiguration.success.message")}))})).catch((function(){b((0,s.V_)({description:F("wsFederationConfig:notifications.updateConfiguration.error.description"),level:l.QU.ERROR,message:F("wsFederationConfig:notifications.updateConfiguration.error.message")}))})).finally((function(){D()}))};return d.createElement(u.Xg,{title:F("wsFederationConfig:title"),pageTitle:F("wsFederationConfig:title"),description:F("wsFederationConfig:description"),backButton:{onClick:function(){i.m.push(r.$.getPaths().get("LOGIN_AND_REGISTRATION"))},text:F("governanceConnectors:goBackLoginAndRegistration")},bottomMargin:!1,contentTopMargin:!1,pageHeaderMaxWidth:!0,"data-componentid":"".concat(t,"-form-layout")},d.createElement(_.R,{innerRef:n},d.createElement(E.Z,{className:"mt-2"},d.createElement(E.Z.Row,{columns:1},d.createElement(E.Z.Column,{width:16},d.createElement(u.pJ,{className:"form-wrapper",padded:"very"},N?d.createElement(E.Z.Row,{columns:1},d.createElement("div",null,d.createElement("div",{className:"ui card fluid settings-card","data-testid":"".concat(t,"-loading-card")},d.createElement("div",{className:"content no-padding"},d.createElement("div",{className:"header-section"},d.createElement(m.Z,null,d.createElement(m.Z.Header,null,d.createElement(m.Z.Line,{length:"medium"}),d.createElement(m.Z.Line,{length:"full"}))),d.createElement(p.Z,{hidden:!0}))),d.createElement("div",{className:"content extra extra-content"},d.createElement("div",{className:"action-button"},d.createElement(m.Z,null,d.createElement(m.Z.Line,{length:"very short"}))))),d.createElement(p.Z,{hidden:!0}))):d.createElement(d.Fragment,null,d.createElement(c.l0,{id:"wsfederation-configuration-form",uncontrolledForm:!0,onSubmit:null,initialValues:y,enableReinitialize:!0,ref:v,noValidate:!0,autoComplete:"new-password"},d.createElement(E.Z,null,d.createElement(E.Z.Row,{columns:1,key:1},d.createElement(E.Z.Column,{key:"enableRequestSigning"},d.createElement(c.gN.Checkbox,{ariaLabel:"Enable Authentication Requests Signing",name:"enableRequestSigning",label:F("wsFederationConfig:form.enableRequestSigning.label"),readOnly:h,width:16,"data-componentid":"".concat(t,"-enable-request-signing"),toggle:!0,listen:function(e){Z(e)}}))))))))))))};O.defaultProps={"data-componentid":"wsfederation-configuration-page"};const S=O}}]);