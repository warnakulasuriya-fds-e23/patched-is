"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1942],{21942:(e,t,n)=>{n.r(t),n.d(t,{default:()=>oe});var i=n(37612),r=n(55007),o=n(6567),a=n(25134),l=n(90302),s=n(40838),u=n(76271),c=n(43974),d=n(46666),m=n(75120),v=n(8955),f=n(9183),p=n(59870),g=n(80659),E=n(78965),h=n(92e3),A=n(32409),R=n(82555),S=n(66796),T=n(6643),y=n(11626),C=n(38463),I=n(6833),U=n(82406),b=n(43516),N=n(47513),L=n(50699),P=n(44194),_=n(10479),O=n(47245),D=n(89141),k=n(26154),w=n(10909),M=n(47625),x=n(81389),X=n(5939),j=n(1989),F=n(41355),Q=n(86105),V=n(12638),Z=n(37077),G=n(11063);function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var H=function(e){var t,n,i=e.adminType,o=e.adminRoleId,a=e.advancedSearch,u=e.defaultListItemLimit,c=e.onUserDelete,d=e.isLoading,v=e.readOnlyUserStores,p=e.featureConfig,g=e.onColumnSelectionChange,E=e.onListItemClick,A=e.onSearchQueryClear,S=e.realmConfigs,y=e.searchQuery,C=e.selection,N=e.showListItemActions,L=e.onboardedGuestUsersList,D=e.associationType,w=e["data-componentid"],M=(0,_.$)().t,x=(0,O.I0)(),X=(0,r.EV)(null==p||null===(t=p.users)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.update),B=(0,r.EV)(null==p||null===(n=p.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.delete),H=z((0,P.useState)(!1),2),$=H[0],W=H[1],Y=z((0,P.useState)(void 0),2),q=Y[0],K=Y[1],J=z((0,b.ZK)(),3),ee=J[0],te=J[1],ne=J[2],ie=z((0,P.useState)({}),2),re=ie[0],oe=ie[1],ae=z((0,P.useState)(!1),2),le=ae[0],se=ae[1],ue=(0,O.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),ce=(0,O.v9)((function(e){return e.auth.isPrivilegedUser})),de=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),me=(0,r.Ac)(m.Z.SAAS_FEATURES_IDENTIFIER);(0,P.useEffect)((function(){oe(L||{})}),[L]);var ve=function(e){"id"in e&&s.m.push(G.k.getPaths().get("COLLABORATOR_USER_EDIT_PATH").replace(":id",e.id)),"value"in e&&s.m.push(G.k.getPaths().get("COLLABORATOR_USER_EDIT_PATH").replace(":id",e.value))},fe=function(e){var t;return i===R.lu.EXTERNAL&&(null===(t=e[F.k.scim.systemSchema])||void 0===t?void 0:t.userAccountType)===R.sk.OWNER?P.createElement(Z.Z,{size:"small"},"Owner"):null},pe=function(e){return i===R.lu.INTERNAL||(null==ue?void 0:ue.split("@").length)<3?null:(null==ue?void 0:ue.split("@").slice(0,2).join("@"))===(0,Q.WX)(null==e?void 0:e.userName)?P.createElement(Z.Z,{size:"small"},"Me"):null},ge=function(){return y&&0===(null==re?void 0:re.totalResults)?P.createElement(b.$J,{action:P.createElement(b.Qj,{onClick:A},M("users:usersList.search.emptyResultPlaceholder.clearButton")),image:(0,j.jF)().emptySearch,imageSize:"tiny",title:M("users:usersList.search.emptyResultPlaceholder.title"),subtitle:[M("users:usersList.search.emptyResultPlaceholder.subTitle.0",{query:y}),M("users:usersList.search.emptyResultPlaceholder.subTitle.1")]}):0===(null==re?void 0:re.totalResults)?P.createElement(b.$J,{"data-componentid":"".concat(w,"-empty-placeholder"),image:(0,j.jF)().newList,imageSize:"tiny",subtitle:["There are no administrator users associated with your organization at the moment."]}):null};return P.createElement(P.Fragment,null,P.createElement(b.wQ,{className:"users-table",externalSearch:a,isLoading:d,loadingStateOptions:{count:null!=u?u:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,imageType:"circular"},actions:function(){if(N){var e=[{"data-componentid":"administrators-list-item-edit-button",hidden:function(){return!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_READ"))},icon:function(e){var t,n,r=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!X||!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=v&&v.includes(r.toString())||i===R.lu.EXTERNAL?"eye":"pencil alternate"},onClick:function(e,t){return ve(t)},popupText:function(e){var t,n,r=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!X||!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_UPDATE"))||null!=v&&v.includes(r.toString())||i===R.lu.EXTERNAL?M("common:view"):M("common:edit")},renderer:"semantic-icon"}];return e.push({"data-componentid":"administrators-list-item-delete-button",hidden:function(e){var t,n,r=(null==e||null===(t=e.userName)||void 0===t?void 0:t.split("/").length)>1?null==e||null===(n=e.userName)||void 0===n?void 0:n.split("/")[0]:de;return!(0,Q.cr)(null==p?void 0:p.users,R._F.FEATURE_DICTIONARY.get("USER_DELETE"))||ce||!B||(null==v?void 0:v.includes(r.toString()))||i===R.lu.EXTERNAL&&((0,Q.WX)(null==e?void 0:e.userName)===(null==S?void 0:S.adminUser)||(null==ue?void 0:ue.includes((0,Q.WX)(null==e?void 0:e.userName))))||D===R._F.GUEST_ADMIN_ASSOCIATION_TYPE},icon:function(){return"trash alternate"},onClick:function(e,t){W(!0),K(t)},popupText:function(){return M("users:usersList.list.iconPopups.delete")},renderer:"semantic-icon"}),e}}(),columns:function(){var e=[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n,i,r=(0,Q.WX)(null==e?void 0:e.userName),o=T.QH.resolveUserListSubheader(e),a=void 0!==(null===(t=e.name)||void 0===t?void 0:t.familyName)||void 0!==(null===(n=e.name)||void 0===n?void 0:n.givenName);return P.createElement(V.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(w,"-item-heading")},P.createElement(b.Yt,{"data-componentid":"users-list-item-image",name:(null===(i=e.userName.split("/"))||void 0===i?void 0:i.length)>1?e.userName.split("/")[1]:e.userName.split("/")[0],size:"mini",image:e.profileUrl,spaced:"right","data-hj-suppress":""}),P.createElement(V.Z.Content,null,r,fe(e),pe(e),a&&P.createElement(V.Z.Subheader,{"data-componentid":"".concat(w,"-item-sub-heading")},o)))},title:"User"}];if(me===r.iK.ENABLED){var t={allowToggleVisibility:!1,dataIndex:"idpType",id:"idpType",key:"idpType",render:function(e){var t,n,i,r;return null!==(t=e[F.k.scim.systemSchema])&&void 0!==t&&t.idpType?(null===(n=e[F.k.scim.systemSchema])||void 0===n?void 0:n.idpType.split("/").length)>1?null===(r=e[F.k.scim.systemSchema])||void 0===r?void 0:r.idpType.split("/")[1]:null===(i=e[F.k.scim.systemSchema])||void 0===i?void 0:i.idpType:"N/A"},title:P.createElement(P.Fragment,null,P.createElement("div",{className:"header-with-popup"},P.createElement("span",null,M("extensions:manage.users.list.columns.idpType")),P.createElement(b.GI,{trigger:P.createElement("div",{className:"inline"},P.createElement(k.Z,{disabled:!0,name:"info circle",className:"link pointing pl-1"})),content:M("extensions:manage.users.list.popups.content.idpTypeContent"),position:"top center",size:"mini",hideOnScroll:!0,inverted:!0})))};e.push(t)}e.push({allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""});var n=[{allowToggleVisibility:!1,dataIndex:"name",id:"name",key:"name",render:function(e){var t,n=(null===(t=e.display.split("/"))||void 0===t?void 0:t.length)>1?e.display.split("/")[1]:e.display.split("/")[0];return P.createElement(V.Z,{image:!0,as:"h6",className:"header-with-icon","data-componentid":"".concat(w,"-item-heading")},P.createElement(b.Yt,{"data-componentid":"users-list-item-image",name:n,size:"mini",spaced:"right","data-hj-suppress":""}),P.createElement(V.Z.Content,null,n))},title:"User"},{allowToggleVisibility:!1,dataIndex:"action",id:"actions",key:"actions",textAlign:"right",title:""}];return i===R.lu.INTERNAL?n:e}(),data:re.Resources,onColumnSelectionChange:g,onRowClick:function(e,t){ve(t),E&&E(e,t)},placeholders:ge(),selectable:C,showHeader:me===r.iK.ENABLED,transparent:!d&&null!==ge(),"data-componentid":w}),q&&P.createElement(b.cV,{primaryActionLoading:le,"data-componentid":"".concat(w,"-confirmation-modal"),onClose:function(){return W(!1)},type:"negative",open:$,assertionHint:M("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:"Confirm",secondaryAction:"Cancel",onSecondaryActionClick:function(){W(!1),te(null)},onPrimaryActionClick:function(){se(!0),function(e){var t,n,i=null!==(t=e[F.k.scim.systemSchema])&&void 0!==t&&t.userAccountType?null===(n=e[F.k.scim.systemSchema])||void 0===n?void 0:n.userAccountType:R.sk.CUSTOMER;if(i===R.sk.COLLABORATOR&&"id"in e)return(0,h.e8)(e.id).then((function(){x((0,U.V_)({description:M("invite:notifications.deleteInvite.success.description"),level:I.QU.SUCCESS,message:M("users:notifications.deleteUser.success.message")})),c()})).catch((function(e){e.response&&e.response.data&&e.response.data.description?x((0,U.V_)({description:e.response.data.description,level:I.QU.ERROR,message:M("users:notifications.deleteUser.error.message")})):x((0,U.V_)({description:M("users:notifications.deleteUser.genericError.description"),level:I.QU.ERROR,message:M("users:notifications.deleteUser.genericError.message")}))})).finally((function(){se(!1),W(!1),K(void 0)}));if(i===R.sk.CUSTOMER){var r;"value"in e?r="users[value eq ".concat(null==e?void 0:e.value,"]"):"id"in e&&(r="users[value eq ".concat(null==e?void 0:e.id,"]"));var a={Operations:[{op:"remove",path:r,value:{}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};(0,f.dB)(o,a).then((function(){x((0,U.V_)({description:M("users:notifications.revokeAdmin.success.description"),level:I.QU.SUCCESS,message:M("users:notifications.revokeAdmin.success.message")})),c()})).catch((function(e){var t,n;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?x((0,U.V_)({description:null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.description,level:I.QU.ERROR,message:M("users:notifications.revokeAdmin.error.message")})):x((0,U.V_)({description:M("users:notifications.revokeAdmin.genericError.description"),level:I.QU.ERROR,message:M("users:notifications.revokeAdmin.genericError.message")}))})).finally((function(){se(!1),W(!1),K(void 0)}))}}(q)},closeOnDimmerClick:!1},P.createElement(b.cV.Header,{"data-componentid":"".concat(w,"-confirmation-modal-header")},M("user:deleteUser.confirmationModal.header")),P.createElement(b.cV.Message,{"data-componentid":"".concat(w,"-confirmation-modal-message"),attached:!0,negative:!0},M("extensions:manage.guest.deleteUser.confirmationModal.message")),P.createElement(b.cV.Content,{"data-componentid":"".concat(w,"-confirmation-modal-content")},P.createElement("div",{className:"modal-alert-wrapper"}," ",ee&&ne),M("extensions:manage.guest.deleteUser.confirmationModal.content"))))};H.defaultProps={selection:!0,showListItemActions:!0,showMetaContent:!0};var $=n(83053),W=n(74955);function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},q.apply(null,arguments)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=Y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=o.call(n)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var ie=function(e){return e[e.EXTERNAL_ADMINS=0]="EXTERNAL_ADMINS",e[e.INTERNAL_ADMINS=1]="INTERNAL_ADMINS",e}(ie||{}),re=function(e){var t,n,j=e.location,F=e["data-componentid"],Q=new URLSearchParams(j.search),V=(0,_.$)().t,Z=(0,O.I0)(),z=(0,b.fQ)().getLink,B=(0,r.Ac)(m.Z.SAAS_FEATURES_IDENTIFIER),Y=x.c,K=(0,O.v9)((function(e){return e.config.ui.features})),ee=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.clientHost})),ne=(0,O.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.username})),re=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t?void 0:t.tenant})),oe=(0,O.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.tenants})),ae=(0,O.v9)((function(e){return e.config.ui.features.guestUser})),le=(0,O.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.primaryUserStoreDomainName})),se=(0,r.EV)(null==ae||null===(t=ae.scopes)||void 0===t?void 0:t.create),ue=te((0,P.useState)(void 0),2),ce=ue[0],de=ue[1],me=te((0,P.useState)(""),2),ve=me[0],fe=me[1],pe=te((0,P.useState)(""),2),ge=pe[0],Ee=pe[1],he=te((0,P.useState)(0),2),Ae=he[0],Re=he[1],Se=te((0,P.useState)(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),2),Te=Se[0],ye=Se[1],Ce=te((0,P.useState)(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT+1),2),Ie=Ce[0],Ue=Ce[1],be=te((0,P.useState)(0),2),Ne=be[0],Le=be[1],Pe=te((0,P.useState)(0),2),_e=Pe[0],Oe=Pe[1],De=te((0,P.useState)(!1),2),ke=De[0],we=De[1],Me=te((0,P.useState)(!1),2),xe=Me[0],Xe=Me[1],je=te((0,P.useState)(S.XC.ACCEPTED),2),Fe=je[0],Qe=je[1],Ve=te((0,P.useState)(!1),2),Ze=Ve[0],Ge=Ve[1],ze=te((0,P.useState)([]),2),Be=ze[0],He=ze[1],$e=te((0,P.useState)([]),2),We=$e[0],Ye=$e[1],qe=te((0,P.useState)([]),2),Ke=qe[0],Je=qe[1],et=te((0,P.useState)([]),2),tt=et[0],nt=et[1],it=te((0,P.useState)(!1),2),rt=it[0],ot=it[1],at=te((0,P.useState)(!0),2),lt=at[0],st=at[1],ut=te((0,P.useState)(R.lu.INTERNAL),2),ct=ut[0],dt=ut[1],mt=te((0,P.useState)(C.XS),2),vt=mt[0],ft=mt[1],pt=te((0,P.useState)(null),2),gt=pt[0],Et=pt[1],ht=te((0,P.useState)(!1),2),At=ht[0],Rt=ht[1],St=te((0,P.useState)(!1),2),Tt=St[0],yt=St[1],Ct=te((0,P.useState)(!1),2),It=Ct[0],Ut=Ct[1],bt=te((0,P.useState)(!1),2),Nt=bt[0],Lt=bt[1],Pt=te((0,P.useState)(!1),2),_t=Pt[0],Ot=Pt[1],Dt=te((0,P.useState)(!1),2),kt=Dt[0],wt=Dt[1],Mt=te((0,P.useState)(!1),2),xt=Mt[0],Xt=Mt[1],jt=te((0,P.useState)(!1),2),Ft=jt[0],Qt=jt[1],Vt=te((0,P.useState)(!1),2),Zt=Vt[0],Gt=Vt[1],zt=te((0,P.useState)(ie.EXTERNAL_ADMINS),2),Bt=zt[0],Ht=zt[1],$t=te((0,P.useState)([]),2),Wt=$t[0],Yt=$t[1],qt=te((0,P.useState)(""),2),Kt=qt[0],Jt=qt[1],en=te((0,P.useState)(""),2),tn=en[0],nn=en[1],rn=te((0,P.useState)({}),2),on=rn[0],an=rn[1],ln=te((0,P.useState)({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),2),sn=ln[0],un=ln[1],cn=te((0,P.useState)({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),2),dn=cn[0],mn=cn[1],vn=u.h.getState().auth.tenantDomain,fn=c.l.getInstance(),pn=R._F.GROUPS_ATTRIBUTE,gn=Y(vn,{revalidateIfStale:!0},B===r.iK.ENABLED),En=gn.data,hn=gn.isLoading,An=gn.isValidating,Rn=gn.error,Sn=(0,h.WW)(Ie,Ae+1,""===ve?null:ve,null,le,pn,!d.$.enableAdminInvite||Fe===S.XC.ACCEPTED),Tn=Sn.data,yn=Sn.isLoading,Cn=Sn.error,In=Sn.mutate,Un=(0,h.J7)(d.$.enableAdminInvite),bn=Un.data,Nn=Un.isLoading,Ln=Un.error,Pn=Un.mutate,_n=(0,o.Ok)(null,null,null,"name eq Console").data,On=(0,P.useMemo)((function(){var e;return null==_n||null===(e=_n.applications[0])||void 0===e?void 0:e.id}),[_n]),Dn=(0,g.yA)(),kn=Dn.data,wn=Dn.error;(0,P.useEffect)((function(){return Hn(),Mn(),xn(),nn((0,E.q)(oe,re)),S.XC.ACCEPTED.toUpperCase()===Fe.toUpperCase()&&(Fn&&0!=Fn.totalResults||((null==bn?void 0:bn.filter((function(e){return e.status===S.XC.PENDING.toUpperCase()})).length)>0?(Qe(S.XC.PENDING),Ge(!0)):(null==bn?void 0:bn.filter((function(e){return e.status===S.XC.EXPIRED.toUpperCase()})).length)>0&&(Qe(S.XC.EXPIRED),Ge(!0)))),function(){Qe(S.XC.ACCEPTED),Ge(!0)}}),[On]),(0,P.useEffect)((function(){yt(null==En?void 0:En.isEnterpriseLoginEnabled)}),[hn,An]),(0,P.useEffect)((function(){var e,t,n,i,r,o,a;Cn&&(null!=Cn&&null!==(e=Cn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?Z((0,U.V_)({description:null!==(t=null!==(n=null==Cn||null===(i=Cn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Cn||null===(r=Cn.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==t?t:V("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(o=null==Cn||null===(a=Cn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==o?o:V("users:notifications.fetchUsers.error.message")})):Z((0,U.V_)({description:V("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:V("users:notifications.fetchUsers.genericError.message")})))}),[Cn]),(0,P.useEffect)((function(){var e,t,n,i,r,o,a;Ln&&(null!=Ln&&null!==(e=Ln.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?Z((0,U.V_)({description:null!==(t=null!==(n=null==Ln||null===(i=Ln.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Ln||null===(r=Ln.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==t?t:V("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(o=null==Ln||null===(a=Ln.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==o?o:V("users:notifications.fetchUsers.error.message")})):Z((0,U.V_)({description:V("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:V("users:notifications.fetchUsers.genericError.message")})))}),[Ln]),(0,P.useEffect)((function(){var e,t,n,i,r,o,a;wn&&(null!=wn&&null!==(e=wn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?Z((0,U.V_)({description:null!==(t=null!==(n=null==wn||null===(i=wn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==wn||null===(r=wn.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==t?t:V("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(o=null==wn||null===(a=wn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==o?o:V("users:notifications.fetchUsers.error.message")})):Z((0,U.V_)({description:V("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:V("users:notifications.fetchUsers.genericError.message")})))}),[wn]),(0,P.useEffect)((function(){var e,t,n,i,r,o,a;Rn&&(null!=Rn&&null!==(e=Rn.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?Z((0,U.V_)({description:null!==(t=null!==(n=null==Rn||null===(i=Rn.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==n?n:null==Rn||null===(r=Rn.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.detail)&&void 0!==t?t:V("extensions:manage.users.administratorSettings.error.description"),level:I.QU.ERROR,message:null!==(o=null==Rn||null===(a=Rn.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.message)&&void 0!==o?o:V("extensions:manage.users.administratorSettings.error.message")})):Z((0,U.V_)({description:V("extensions:manage.users.administratorSettings.genericError.description"),level:I.QU.ERROR,message:V("extensions:manage.users.administratorSettings.genericError.message")})))}),[Rn]),(0,P.useEffect)((function(){if(Fe!==S.XC.ACCEPTED){if(Re(0),"email co "===ve||""===ve||null===ve)return He(bn),void Je([]);if(ve){var e=bn;if(Ke.length>0&&(e=Ke),ve.includes("email sw ")){var t=ve.split("sw ")[1];e=e.filter((function(e){return e.email.startsWith(t)}))}else if(ve.includes("email ew ")){var n=ve.split("ew ")[1];e=e.filter((function(e){return e.email.endsWith(n)}))}else if(ve.includes("email eq ")){var i=ve.split("eq ")[1];e=e.filter((function(e){return e.email===i}))}else if(ve.includes("email co ")){var r=ve.split("co ")[1];e=e.filter((function(e){return e.email.includes(r)}))}He(e),Je(e)}}}),[ve]),(0,P.useEffect)((function(){if(Fe!==S.XC.ACCEPTED){var e=null==Be?void 0:Be.filter((function(e){return e.status===Fe.toUpperCase()}));e.length>Te?(e=e.slice(Ae,Ae+Te),Ye(e),ot(e.length===Te)):(Ye(e),ot(!1))}}),[Be,Ae,Te,Ze]),(0,P.useEffect)((function(){He(bn)}),[bn]),(0,P.useEffect)((function(){Ze&&(Re(0),ye(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),Gn(),Ge(!1))}),[Ze]),(0,P.useEffect)((function(){Q.get(G.k.USER_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)&&(fn.publish("manage-users-click-create-new",{type:"collaborator"}),Xe(!0))}),[Q.get(G.k.USER_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY)]),(0,P.useEffect)((function(){Bt===ie.INTERNAL_ADMINS&&$n()}),[Bt,Kt,At]),(0,P.useEffect)((function(){Xn()}),[gt]),(0,P.useEffect)((function(){var e,t,n,i,r=J({},on);(vt!==C.XS&&(r=J({},sn)),(0,L.Z)(ge))||(r.Resources=null===(i=r)||void 0===i?void 0:i.Resources.filter((function(e){var t;return-1!==(null==e||null===(t=e.display)||void 0===t?void 0:t.split("/")[1]).indexOf(ge)})));var o=null===(e=r)||void 0===e||null===(e=e.Resources)||void 0===e?void 0:e.slice(Ae,Ae+Te);Bt!==ie.EXTERNAL_ADMINS&&(0,L.Z)(o)&&Re(0),Qt((null===(t=r)||void 0===t||null===(t=t.Resources)||void 0===t?void 0:t.length)>Ae+Te),mn({Resources:o,itemsPerPage:Te,startIndex:Ae,totalResults:null===(n=r)||void 0===n||null===(n=n.Resources)||void 0===n?void 0:n.length}),wt(!1)}),[on,sn,Ae,Te,vt,ge]);var Mn=function(){Ut(!0),(0,y.GN)({requiredAttributes:C.u4.USER_STORE_PROPERTY_READ_ONLY}).then((function(e){var t=[],n=null==e?void 0:e.filter((function(e){return e.enabled})).map((function(e,n){return e.typeName===G.k.READONLY_USERSTORE_TYPE_NAME&&(t.push(e.name.toUpperCase()),Et(e.id)),{key:n,text:e.name.toUpperCase(),value:e.name.toUpperCase()}}));Gt(!1),Yt(n),nt(t),Lt(n.length<=1)})).catch((function(e){var t,n,i,r,o,a,l;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?Z((0,U.V_)({description:null!==(n=null!==(i=null==e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.description)&&void 0!==i?i:null==e||null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==n?n:V("userstores:notifications.fetchUserstores.genericError.description"),level:I.QU.ERROR,message:null!==(a=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)&&void 0!==a?a:V("userstores:notifications.fetchUserstores.genericError.message")})):(Z((0,U.V_)({description:V("userstores:notifications.fetchUserstores.genericError.description"),level:I.QU.ERROR,message:V("userstores:notifications.fetchUserstores.genericError.message")})),Gt(!0))})).finally((function(){Ut(!1)}))},xn=function(){if(On){var e={filter:"displayName eq "+d.$.adminRoleName+" and audience.value eq "+On,schemas:["urn:ietf:params:scim:api:messages:2.0:SearchRequest"],startIndex:0};(0,f.QW)(e).then((function(e){var t;if((null==e||null===(t=e.data)||void 0===t?void 0:t.Resources.length)>0){var n,i,r=null==e||null===(n=e.data)||void 0===n||null===(n=n.Resources[0])||void 0===n?void 0:n.id;if((null==e||null===(i=e.data)||void 0===i||null===(i=i.Resources)||void 0===i?void 0:i.length)>1){var o,a,l=null==e||null===(o=e.data)||void 0===o||null===(o=o.Resources)||void 0===o?void 0:o.filter((function(e){var t;return(null==e||null===(t=e.audience)||void 0===t?void 0:t.type)===p.cv.APPLICATION}));if((null==l?void 0:l.length)>0)r=null===(a=l[0])||void 0===a?void 0:a.id}Jt(r)}})).catch((function(e){e.response&&e.response.data&&e.response.data.description?Z((0,U.V_)({description:e.response.data.description,level:I.QU.ERROR,message:V("users:notifications.getAdminRole.error.message")})):Z((0,U.V_)({description:V("users:notifications.getAdminRole.genericError.description"),level:I.QU.ERROR,message:V("users:notifications.getAdminRole.genericError.message")}))}))}},Xn=function(){(0,L.Z)(gt)||(0,v.$X)(gt).then((function(e){e.forEach((function(e){e.connected&&Rt(!0)}))})).catch((function(e){Z((0,U.V_)({description:(null==e?void 0:e.description)||V("userstores:notifications.fetchUserstores.genericError.description"),level:I.QU.ERROR,message:(null==e?void 0:e.message)||V("userstores:notifications.fetchUserstores.genericError.message")}))}))},jn=function(e,t){ft(t.value),Ot(null==tt?void 0:tt.includes(t.value.toString().toUpperCase())),Re(0),ye(l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT),wt(!0),Le(0)},Fn=(0,P.useMemo)((function(){return function(e){var t,n,i;if(e){var r=(0,N.Z)(e),o=[];r.Resources=null==r||null===(t=r.Resources)||void 0===t?void 0:t.map((function(e){if(!(0,$.VN)(e))return null;if((0,$.mF)(e)&&T.QH.isAuthenticatedUser(ne,null==e?void 0:e.userName))return o[0]=e,null;if(T.QH.isAuthenticatedUser(ne,null==e?void 0:e.userName))return o[0]=e,null;if((0,$.mF)(e))return o[1]=e,null;var t=null;if((null==e?void 0:e.emails)instanceof Array){var n=null==e?void 0:e.emails[0];t="string"==typeof n?n:null==n?void 0:n.value}return e.emails=[t],e}));var a=function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=(0,N.Z)(e);return(null===(n=o.Resources)||void 0===n?void 0:n.length)>Te?(null===(i=o.Resources)||void 0===i||i.splice(-1,r),de(!0)):de(!1),o};r.Resources=o.concat(r.Resources).filter((function(e){return null!=e}));var l,s,u=(null==e||null===(n=e.Resources)||void 0===n?void 0:n.length)-(null===(i=r.Resources)||void 0===i?void 0:i.length)-Ne,c={};return u>0&&(null==e?void 0:e.itemsPerPage)>=Ie&&(null==e?void 0:e.totalResults)>=Ie?(Ue(Ie+u),Le((null==e||null===(l=e.Resources)||void 0===l?void 0:l.length)-(null===(s=r.Resources)||void 0===s?void 0:s.length)),c=a(r,Ie-u,1)):c=a(r,Ie,1),c}}(Tn)}),[Tn]),Qn=function(e,t){var n=t.activePage;_e>n?(Re((n-1)*Te),Ue(Te+1)):Re((n-1)*Te+Ne),Oe(n),Le(0)},Vn=function(e,t){Le(0),ye(t.value)},Zn=[{key:1,text:"Accepted",value:"Accepted"},{key:2,text:"Pending",value:"Pending"},{key:3,text:"Expired",value:"Expired"}],Gn=function(){we(!ke),fe(""),Ee("")},zn=function(e){if(Bt!==ie.INTERNAL_ADMINS){if(fe(e),Fe===S.XC.ACCEPTED){if("userName sw "===e)return void fe(null);fe(e)}}else Ee(null==e?void 0:e.trim())},Bn=function(e,t){Qe(t.value),Ge(!0)},Hn=function(){var e=K.users.disabledFeatures;st(null==e?void 0:e.includes(G.k.FEATURE_DICTIONARY.get("ADVANCED_USER_MGT")))},$n=function(){var e=[],t=[];Xt(!0),(0,L.Z)(Kt)||(an({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),un({Resources:[],itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:0}),(0,f.xQ)(Kt).then((function(n){var i;(null==n||null===(i=n.data)||void 0===i?void 0:i.users).forEach((function(n){var i=n.display.split("/");i.length>1&&(i[0]===C.XS?e.push(n):t.push(n))})),an({Resources:e,itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:e.length}),At&&un({Resources:t,itemsPerPage:l.r.DEFAULT_RESOURCE_LIST_ITEM_LIMIT,startIndex:0,totalResults:t.length}),Xt(!0)})).catch((function(e){var t,n,i,r,o,a,l;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?Z((0,U.V_)({description:null!==(n=null!==(i=null==e||null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.description)&&void 0!==i?i:null==e||null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.detail)&&void 0!==n?n:V("users:notifications.fetchUsers.error.description"),level:I.QU.ERROR,message:null!==(a=null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.message)&&void 0!==a?a:V("users:notifications.fetchUsers.error.message")})):Z((0,U.V_)({description:V("users:notifications.fetchUsers.genericError.description"),level:I.QU.ERROR,message:V("users:notifications.fetchUsers.genericError.message")}))})).finally((function(){Xt(!1)})))},Wn=P.createElement(P.Fragment,null,P.createElement(b.KM,{"data-componentid":"".concat(F,"-add-admin-button"),onClick:function(){fn.publish("admins-click-add-new-button")},className:"tablet or lower hidden"},P.createElement(k.Z,{name:"add"}),V("extensions:manage.users.buttons.addCollaboratorBtn"),P.createElement(k.Z,{name:"dropdown",className:"ml-3 mr-0"})),P.createElement(w.Z,{"data-componentid":"".concat(F,"-add-admin-button"),icon:"add",onClick:function(){fn.publish("admins-click-add-new-button")},className:"mobile only tablet only",primary:!0})),Yn=[{"data-componentid":"admins-add-external-admin",key:1,text:"Invite admins to Asgardeo",value:R.lu.EXTERNAL},{"data-componentid":"admins-add-internal-admin",key:2,text:"Assign admins from users",value:R.lu.INTERNAL}];se&&Yn.push();var qn,Kn=function(e,t){Qe(S.XC.ACCEPTED),Ht(t.activeIndex),Gn()},Jn=function(){var e;return P.createElement(b.PS,{className:"mt-5",advancedSearch:P.createElement(a.n,{onFilter:zn,filterAttributeOptions:Fe===S.XC.ACCEPTED?[{key:0,text:V("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:V("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"},{key:2,text:"First Name",value:"name.givenName"},{key:3,text:"Last Name",value:"name.familyName"}]:[{key:0,text:V("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"email"}],filterAttributePlaceholder:V("users:advancedSearch.form.inputs.filterAttribute. placeholder"),filterConditionsPlaceholder:V("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:V("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:V("users:advancedSearch.placeholder"),defaultSearchAttribute:Fe===S.XC.ACCEPTED?"userName":"email",defaultSearchOperator:"co",triggerClearQuery:ke}),currentListSize:Fe===S.XC.ACCEPTED?null==Fn||null===(e=Fn.Resources)||void 0===e?void 0:e.length:null==We?void 0:We.length,listItemLimit:Te,onItemsPerPageDropdownChange:Vn,"data-componentid":"".concat(F,"-list-layout"),onPageChange:Qn,showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!_t,totalPages:Fe===S.XC.ACCEPTED?Math.ceil((null==Fn?void 0:Fn.totalResults)/Te):Math.ceil((null==Be?void 0:Be.length)/Te),totalListSize:Fe===S.XC.ACCEPTED?null==Fn?void 0:Fn.totalResults:null==Be?void 0:Be.length,isLoading:Fe===S.XC.ACCEPTED&&yn||d.$.enableAdminInvite&&Nn,onSearchQueryClear:Gn,resetPagination:Ze,paginationOptions:{disableNextButton:Fe===S.XC.ACCEPTED?!ce:!rt},disableRightActionPanel:!0,leftActionPanel:d.$.enableAdminInvite&&P.createElement(M.Z,{"data-componentid":"".concat(F,"-list-userstore-dropdown"),selection:!0,options:Zn&&Zn,onChange:Bn,text:"Filter by: ".concat(Fe),disabled:Fe===S.XC.ACCEPTED&&yn||d.$.enableAdminInvite&&Nn})},Fe===S.XC.ACCEPTED&&P.createElement(H,{advancedSearch:P.createElement(a.n,{onFilter:zn,filterAttributeOptions:[{key:0,text:V("users:advancedSearch.form.dropdown.filterAttributeOptions.username"),value:"userName"},{key:1,text:V("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],filterAttributePlaceholder:V("users:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:V("users:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:V("users:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:V("users:advancedSearch.placeholder"),defaultSearchAttribute:"userName",defaultSearchOperator:"co",triggerClearQuery:ke}),onboardedGuestUsersList:Fn,userMetaListContent:null,realmConfigs:null==kn?void 0:kn.realmConfig,onEmptyListPlaceholderActionClick:function(){return Xe(!0)},onSearchQueryClear:Gn,searchQuery:ve,"data-componentid":"".concat(F,"-list"),readOnlyUserStores:null,featureConfig:K,onUserDelete:function(){In()},adminType:R.lu.EXTERNAL,adminRoleId:Kt}),Fe===S.XC.PENDING&&P.createElement(X.F,{invitationStatusOption:Fe,onEmptyListPlaceholderActionClick:function(){return Xe(!0)},onboardedGuestUserList:Fn,onSearchQueryClear:Gn,guestUsersList:We,getGuestUsersList:function(){return Pn()},searchQuery:ve}),Fe===S.XC.EXPIRED&&P.createElement(X.F,{invitationStatusOption:Fe,onEmptyListPlaceholderActionClick:function(){return Xe(!0)},onboardedGuestUserList:Fn,onSearchQueryClear:Gn,guestUsersList:null==We?void 0:We.filter((function(e){return e.status===S.XC.EXPIRED.toUpperCase()})),getGuestUsersList:function(){return Pn()},searchQuery:ve}))},ei=function(){var e;return P.createElement(b.PS,{className:"mt-5",advancedSearch:P.createElement(a.n,{disableSearchFilterDropdown:!0,onFilter:zn,filterAttributeOptions:[{key:0,text:V("users:advancedSearch.form.dropdown.filterAttributeOptions.email"),value:"emails"}],placeholder:V("users:advancedSearch.placeholder"),defaultSearchAttribute:"",defaultSearchOperator:"",triggerClearQuery:ke}),currentListSize:null==dn||null===(e=dn.Resources)||void 0===e?void 0:e.length,listItemLimit:Te,onItemsPerPageDropdownChange:Vn,"data-componentid":"".concat(F,"-list-layout"),onPageChange:Qn,showPagination:!0,showTopActionPanel:!0,showPaginationPageLimit:!_t,totalPages:Math.ceil((null==dn?void 0:dn.totalResults)/Te),totalListSize:null==dn?void 0:dn.totalResults,isLoading:xt,onSearchQueryClear:Gn,resetPagination:kt,paginationOptions:{disableNextButton:!Ft},leftActionPanel:Nt?null:P.createElement(M.Z,{"data-componentid":"".concat(F,"-userstore-dropdown"),selection:!0,options:Wt,onChange:jn,text:vt,loading:It,disabled:Zt})},P.createElement(H,{onboardedGuestUsersList:dn,userMetaListContent:null,realmConfigs:null==kn?void 0:kn.realmConfig,onEmptyListPlaceholderActionClick:function(){return Xe(!0)},onSearchQueryClear:Gn,searchQuery:ge,"data-componentid":"".concat(F,"-list"),readOnlyUserStores:null,featureConfig:K,onUserDelete:function(){$n()},adminType:R.lu.INTERNAL,adminRoleId:Kt,associationType:tn}))},ti=function(){return d.$.enableAdminInvite&&Nn||B===r.iK.ENABLED&&(An||hn)};return P.createElement(b.Xg,{pageTitle:"Administrators",action:B===r.iK.ENABLED&&hn?P.createElement("div",null):P.createElement(r.di,{when:null==K||null===(n=K.users)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.create},B===r.iK.ENABLED&&!lt&&P.createElement(w.Z,{"data-componentid":"".concat(F,"-admin-settings-button"),icon:i.UG,onClick:function(){s.m.push(G.k.getPaths().get("COLLABORATOR_SETTINGS_EDIT_PATH"))}}),Tt&&!lt?P.createElement(M.Z,{loading:ti(),disabled:ti(),"data-componentid":"".concat(F,"-add-admin-dropdown"),direction:"left",floating:!0,icon:null,trigger:Wn},P.createElement(M.Z.Menu,null,Yn.map((function(e){return P.createElement(M.Z.Item,q({key:e.value,onClick:function(){return t=e.value,void(lt||t!==R.lu.INTERNAL?t===R.lu.EXTERNAL&&(fn.publish("admins-click-create-new",{type:"external admin"}),dt(R.lu.EXTERNAL),Xe(!0)):(fn.publish("admins-click-create-new",{type:"internal admin"}),dt(R.lu.INTERNAL),Xe(!0)));var t}},e,{disabled:!Tt}))})))):P.createElement(P.Fragment,null,P.createElement(b.KM,{loading:ti(),disabled:ti(),"data-componentid":"".concat(F,"-add-admin-button"),onClick:function(){fn.publish("admins-click-add-new-button"),dt(R.lu.EXTERNAL),Xe(!0)},className:"tablet or lower hidden"},P.createElement(k.Z,{name:"add"}),V("extensions:manage.users.buttons.addCollaboratorBtn")),P.createElement(w.Z,{loading:ti(),disabled:ti(),"data-componentid":"".concat(F,"-add-admin-button"),icon:"add",onClick:function(){fn.publish("admins-click-add-new-button"),dt(R.lu.EXTERNAL),Xe(!0)},className:"mobile only tablet only",primary:!0}))),title:V("extensions:manage.users.collaboratorsTitle"),description:P.createElement(P.Fragment,null,V("extensions:manage.users.collaboratorsSubTitle"),P.createElement(b.eb,{link:z("manage.users.collaboratorAccounts.learnMore")},V("common:learnMore"))),contentTopMargin:!1,"data-componentid":"".concat(F,"-page-layout"),actionColumnWidth:8,headingColumnWidth:8},P.createElement(b.pJ,{className:"mt-0 mb-5"},P.createElement(D.Z,{verticalAlign:"middle"},P.createElement(D.Z.Column,{floated:"left",width:9},P.createElement(b.xv,{className:"message-info-text"},P.createElement("p",null," ",V("extensions:manage.users.collaboratorAccounts.consoleInfo")," "))),P.createElement(D.Z.Column,{floated:"right",width:6},P.createElement(b.OR,{value:ee,"data-componentid":"".concat(F,"-tenanted-console-link")})))),Tt&&!lt?P.createElement(b.M$,{activeIndex:Bt,"data-testid":"".concat(F,"-administrator-tabs"),defaultActiveIndex:0,onTabChange:Kn,panes:(qn=[],qn.push({componentId:"external-admins",menuItem:{content:"Asgardeo"},render:Jn}),qn.push({componentId:"internal-admins",menuItem:{content:re+" organization"},render:ei}),qn)}):Jn(),xe?d.$.enableAdminInvite?P.createElement(W.S,{"data-componentid":"".concat(F,"-add-admin-wizard-modal"),closeWizard:function(){Xe(!1)},updateList:function(){return Pn()},rolesList:[],emailVerificationEnabled:!0,onInvitationSendSuccessful:function(){Pn(),fn.publish("manage-users-finish-creating-collaborator-user"),ct===R.lu.EXTERNAL&&(Qe(S.XC.PENDING),Ht(ie.EXTERNAL_ADMINS)),ct===R.lu.INTERNAL&&(Qe(S.XC.ACCEPTED),Ht(ie.INTERNAL_ADMINS)),Ge(!0)},adminTypeSelection:ct,onUserUpdate:function(){ct===R.lu.EXTERNAL&&(Ht(ie.EXTERNAL_ADMINS),In()),ct===R.lu.INTERNAL&&(Qe(S.XC.ACCEPTED),Ht(ie.INTERNAL_ADMINS),$n())}}):P.createElement(A.G,{"data-componentid":"".concat(F,"-add-admin-wizard-modal"),closeWizard:function(){Xe(!1)},listOffset:Ae,listItemLimit:Te,updateList:function(){return Pn()},rolesList:[],emailVerificationEnabled:!1,isAdminUser:!0,defaultUserTypeSelection:R.sk.ADMINISTRATOR,onSuccessfulUserAddition:function(){return null}}):null)};re.defaultProps={"data-componentid":"asgardeo-administrators"};const oe=re},8955:(e,t,n)=>{n.d(t,{$X:()=>u,RA:()=>d,ef:()=>m,uv:()=>c});var i=n(11526),r=n(76271),o=n(38463),a=n(6833),l="Resource not found.",s=i.AsgardeoSPAClient.getInstance().httpRequest.bind(i.AsgardeoSPAClient.getInstance()),u=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.GET,url:"".concat(r.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e)};return s(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},c=function(e,t,n){var i=n===o.uD.RemoteUserStoreManager?"".concat(r.h.getState().config.endpoints.remoteUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t):"".concat(r.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t),u={headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.DELETE,url:i};return s(u).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},d=function(e,t){var n=t===o.uD.RemoteUserStoreManager?"".concat(r.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(e):r.h.getState().config.endpoints.onPremUserStoreAgentToken,i={data:t===o.uD.RemoteUserStoreManager?{}:{userStoreId:e},headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.POST,url:n};return s(i).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},m=function(e,t,n){var i=n===o.uD.RemoteUserStoreManager?"".concat(r.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(t,"/regenerate"):"".concat(r.h.getState().config.endpoints.onPremUserStoreAgentToken,"/regenerate"),u={data:n===o.uD.RemoteUserStoreManager?{existingTokenId:e}:{existingTokenId:e,userStoreId:t},headers:{Accept:"application/json","Access-Control-Allow-Origin":r.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.POST,url:i};return s(u).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==l)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))}},78965:(e,t,n)=>{n.d(t,{q:()=>i});var i=function(e,t){var n="";if((null==e?void 0:e.length)>0){var i=e.find((function(e){return e.domain===t}));i&&(n=i.associationType)}return n}}}]);