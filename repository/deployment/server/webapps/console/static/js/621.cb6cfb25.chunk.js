"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[621],{621:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var n=a(60486),i=a(40838),l=a(51021),r=a(11626),o=a(6833),c=a(82406),d=a(43516),u=a(44194),s=a(10479),m=a(47245),p=a(93682),f=a(6894),b=a(53103),g=a(70104);function v(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||E(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,i,l,r,o=[],c=!0,d=!1;try{if(l=(a=a.call(t)).next,0===e){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(t){d=!0,i=t}finally{try{if(!c&&null!=a.return&&(r=a.return(),Object(r)!==r))return}finally{if(d)throw i}}return o}}(t,e)||E(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){if(t){if("string"==typeof t)return A(t,e);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?A(t,e):void 0}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=Array(e);a<e;a++)n[a]=t[a];return n}var I=function(t){var e,a=t.match,E=t["data-testid"],A=a.params.id,I=(0,m.v9)((function(t){var e;return null==t||null===(e=t.config)||void 0===e||null===(e=e.ui)||void 0===e?void 0:e.hiddenUserStores})),h=(0,m.v9)((function(t){var e;return null==t||null===(e=t.config)||void 0===e||null===(e=e.ui)||void 0===e?void 0:e.primaryUserStoreDomainName})),S=y((0,u.useState)(null),2),T=S[0],L=S[1],w=y((0,u.useState)(!1),2),P=w[0],R=w[1],M=y((0,u.useState)([]),2),O=M[0],k=M[1],N=g.T.GENERAL,$=(0,m.I0)(),C=(0,s.$)().t,U=function(){R(!0),(0,f.IG)(A).then((function(t){L(t)})).catch((function(t){$((0,c.V_)({description:(null==t?void 0:t.description)||C("claims:local.notifications.getAClaim.genericError.description"),level:o.QU.ERROR,message:(null==t?void 0:t.message)||C("claims:local.notifications.getAClaim.genericError.message")}))})).finally((function(){R(!1)}))};(0,u.useEffect)((function(){U()}),[]),(0,u.useEffect)((function(){var t=[];(null===l.wO||void 0===l.wO?void 0:l.wO.primaryUserstoreName)===h&&t.push({id:h,name:h}),(0,r.ow)().then((function(e){var a=(null==e?void 0:e.data)||[],n=(null==I?void 0:I.length)>0?a.filter((function(t){return!(null!=I&&I.includes(null==t?void 0:t.name))})):a;t.push.apply(t,v(n)),k(t)})).catch((function(){k(t)}))}),[]);var _,G,j,x,B=[{componentId:"general","data-tabid":g.T.GENERAL,menuItem:C("claims:local.pageLayout.edit.tabs.general"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(b.A4,{claim:T,update:U,"data-testid":"local-claims-basic-details-edit"}))}},{componentId:"attribute-mappings","data-tabid":g.T.ATTRIBUTE_MAPPINGS,menuItem:C("claims:local.pageLayout.edit.tabs.mappedAttributes"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(b.AI,{claim:T,update:U,userStores:O,"data-componentid":"".concat(E,"-edit-local-claims-mapped-attributes")}))}},{componentId:"additional-properties","data-tabid":g.T.ADDITIONAL_PROPERTIES,menuItem:C("claims:local.pageLayout.edit.tabs.additionalProperties"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(b.ZW,{claim:T,update:U,"data-testid":"".concat(E,"-edit-local-claims-additional-properties")}))}}],D=[{componentId:"general","data-tabid":g.T.GENERAL,menuItem:C("claims:local.pageLayout.edit.tabs.general"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(b.A4,{claim:T,update:U,"data-testid":"local-claims-basic-details-edit"}))}},{componentId:"attribute-mappings","data-tabid":g.T.ATTRIBUTE_MAPPINGS,menuItem:C("claims:local.pageLayout.edit.tabs.mappedAttributes"),render:function(){return u.createElement(d.M$.Pane,{controlledSegmentation:!0},u.createElement(b.AI,{claim:T,update:U,userStores:O,"data-componentid":"".concat(E,"-edit-local-claims-mapped-attributes")}))}}];return u.createElement(d.O9,{isLoading:P,image:u.createElement(p.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"tiny"},u.createElement(d.Xo,null),u.createElement("span",{className:"claims-letter"},T&&(_=null==T?void 0:T.claimURI,x=null==_||null===(G=_.replace("http://",""))||void 0===G?void 0:G.split("/"),null===(j=x[(null==x?void 0:x.length)-1][0])||void 0===j?void 0:j.toLocaleUpperCase()))),title:null==T?void 0:T.displayName,pageTitle:"Edit Attributes",description:C("claims:local.pageLayout.edit.description"),backButton:{onClick:function(){i.m.push(n.$.getPaths().get("LOCAL_CLAIMS"))},text:C("claims:local.pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,"data-testid":"".concat(E,"-page-layout")},null!==l.rk&&void 0!==l.rk&&null!==(e=l.rk.attributes)&&void 0!==e&&e.showEditTabs?u.createElement(d.M$,{isLoading:P,panes:B,controlTabRedirectionInternally:!0,defaultActiveIndex:N,"data-testid":"".concat(E,"-tabs")}):(null==O?void 0:O.length)>=1?u.createElement(d.M$,{isLoading:P,panes:D,controlTabRedirectionInternally:!0,defaultActiveIndex:N,"data-testid":"".concat(E,"-tabs")}):u.createElement(b.A4,{claim:T,update:U,"data-testid":"local-claims-basic-details-edit"}))};I.defaultProps={"data-testid":"edit-local-claims"};const h=I}}]);