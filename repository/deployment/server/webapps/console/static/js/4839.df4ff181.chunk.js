"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4839],{45560:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(15031),o=n(96124),i=n(76271),a=n(41158),s=n(21257),u=n(60826),l=n(6833),c=n(66425),E=n(54008);const d=function(e,t,n){var d,T,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.b.DEFAULT_FALLBACK_LANGUAGE,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.gy.ORG,v=(0,s.z)().organizationType,O=v===a.$B.SUBORGANIZATION?"".concat(i.h.getState().config.endpoints.brandingTextPreferenceSubOrg,"/resolve"):"".concat(i.h.getState().config.endpoints.brandingTextPreference,"/resolve"),g=v===a.$B.SUBORGANIZATION?null===(d=i.h.getState())||void 0===d||null===(d=d.organization)||void 0===d||null===(d=d.organization)||void 0===d?void 0:d.id:t,_={headers:{Accept:"application/json","Content-Type":"application/json"},method:l.f2.GET,params:{locale:f,name:g,screen:n,type:p},url:O},S=(0,o.Z)(e?_:null,{shouldRetryOnError:!1}),R=S.data,C=S.error,m=S.isValidating,A=S.mutate,N=function(){(0,c.k)((function(e){return"string"==typeof e&&e.includes(O)}),void 0,{revalidate:!1})};return(null==C||null===(T=C.response)||void 0===T||null===(T=T.data)||void 0===T?void 0:T.code)===E.j.CUSTOM_TEXT_PREFERENCE_NOT_CONFIGURED_ERROR_CODE?{data:null,error:C,isLoading:!C&&!R,isValidating:m,mutate:A,mutateMultiple:N}:{data:R,error:C,isLoading:!C&&!R,isValidating:m,mutate:A,mutateMultiple:N}}},54008:(e,t,n)=>{n.d(t,{j:()=>c});var r,o=n(60507);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var c=s((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));r=c,u(c,"DEFAULT_LOCALE","en-US"),u(c,"CUSTOM_TEXT_PREFERENCE_NOT_CONFIGURED_ERROR_CODE","BPM-60006"),u(c,"CUSTOM_TEXT_PREFERENCE_FETCH_INVALID_STATUS_CODE_ERROR_CODE","ASG-CON-BTPM-60001"),u(c,"CUSTOM_TEXT_PREFERENCE_FETCH_ERROR_CODE","ASG-CON-BTPM-60002"),u(c,"CUSTOM_TEXT_PREFERENCE_UPDATE_INVALID_STATUS_CODE_ERROR_CODE","ASG-CON-BTPM-60005"),u(c,"CUSTOM_TEXT_PREFERENCE_UPDATE_ERROR_CODE","ASG-CON-BTPM-60006"),u(c,"CUSTOM_TEXT_PREFERENCE_DELETE_ERROR_CODE","ASG-CON-BTPM-60008"),u(c,"CUSTOM_TEXT_PREFERENCE_DELETE_INVALID_STATUS_CODE_ERROR_CODE","ASG-CON-BTPM-60007"),u(c,"ErrorMessages",{CUSTOM_TEXT_PREFERENCE_DELETE_ERROR:new o.O(r.CUSTOM_TEXT_PREFERENCE_DELETE_ERROR_CODE,"An error occurred while deleting the Text Customizations for the requested resource.","Error while deleting Text Customizations",null),CUSTOM_TEXT_PREFERENCE_DELETE_INVALID_STATUS_CODE_ERROR:new o.O(r.CUSTOM_TEXT_PREFERENCE_DELETE_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while deleting the Text Customizations for the requested resource.","Invalid Error Code while deleting Text Customizations",null),CUSTOM_TEXT_PREFERENCE_FETCH_ERROR:new o.O(r.CUSTOM_TEXT_PREFERENCE_FETCH_ERROR_CODE,"An error occurred while fetching the Text Customizations for the requested resource.","Error while fetching Text Customizations",null),CUSTOM_TEXT_PREFERENCE_FETCH_INVALID_STATUS_CODE_ERROR:new o.O(r.CUSTOM_TEXT_PREFERENCE_FETCH_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while fetching the Text Customizations for the requested resource.","Invalid Error Code while fetching Text Customizations",null),CUSTOM_TEXT_PREFERENCE_UPDATE_ERROR:new o.O(r.CUSTOM_TEXT_PREFERENCE_UPDATE_ERROR_CODE,"An error occurred while updating the Text Customizations for the requested resource.","Error while updating Text Customizations",null),CUSTOM_TEXT_PREFERENCE_UPDATE_INVALID_STATUS_CODE_ERROR:new o.O(r.CUSTOM_TEXT_PREFERENCE_UPDATE_INVALID_STATUS_CODE_ERROR_CODE,"Received an invalid status code while updating the Text Customizations for the requested resource.","Invalid Error Code while updating Text Customizations",null)}),u(c,"FORM_FIELD_CONSTRAINTS",{MAX_LENGTH:1024,MIN_LENGTH:0}),u(c,"FORM_ID","branding-preference-custom-text-form"),u(c,"TEXT_BUNDLE_KEYS",{COPYRIGHT:"copyright",EMAIL_LINK_EXPIRY:{MESSAGE:"email.link.expiry.message"},EMAIL_OTP:{HEADING:"email.otp.heading"},LOGIN:{BUTTON:"login.button",HEADING:"login.heading",IDENTIFIER:{INPUT:{LABEL:"login.identifier.input.label"}}},PASSWORD_RECOVERY:{BODY:"password.recovery.body",BUTTON:{EMAIL_LINK:"password.recovery.button.email.link",MULTI:"password.recovery.button.multi",SMS_OTP:"password.recovery.button.smsotp"},HEADING:"password.recovery.heading",IDENTIFIER:{INPUT:{LABEL:"Username",PLACEHOLDER:"password.recovery.identifier.input.placeholder"}},RADIO_BUTTON:{EMAIL_LINK:"send.email.link",SMS_OTP:"send.code.via.sms"}},PASSWORD_RESET:{BUTTON:"password.reset.button",HEADING:"password.reset.heading"},PASSWORD_RESET_SUCCESS:{ACTION:"password.reset.success.action",BODY:"password.reset.success.body",HEADING:"password.reset.success.heading"},PRIVACY_POLICY:"privacy.policy",PUSH_AUTH:{BODY:"push.notification.sent.msg",HEADING:"push.auth.heading"},REGISTER_TEXT:{MESSAGE:"dont.have.an.account",REGISTER:"register"},SIGN_UP:{BUTTON:"sign.up.button",HEADING:"sign.up.heading"},SMS_OTP:{HEADING:"sms.otp.heading"},TERMS_OF_SERVICE:"terms.of.service",TOTP:{HEADING:"totp.heading"},USERNAME_RECOVERY_CHANNEL_SELECTION:{BODY:"username.recovery.channel.selection.body",BUTTON:{CANCEL:"username.recovery.channel.selection.cancel.button",NEXT:"username.recovery.channel.selection.next.button"},HEADING:"username.recovery.channel.selection.heading",RADIO_BUTTON:{EMAIL:"send.username.via.email",SMS:"send.username.via.sms"}},USERNAME_RECOVERY_CLAIM:{BODY:"username.recovery.body",BUTTON:{CANCEL:"username.recovery.cancel.button",NEXT:"username.recovery.next.button"},HEADING:"username.recovery.heading",IDENTIFIER:{INPUT:{LABEL:"contact",PLACEHOLDER:"contact"}}},USERNAME_RECOVERY_SUCCESS_EMAIL:{BODY:"username.recovery.email.success.body",BUTTON:"username.recovery.success.action",HEADING:"username.recovery.email.success.heading"},USERNAME_RECOVERY_SUCCESS_SMS:{BODY:"username.recovery.sms.success.body",BUTTON:"username.recovery.success.action",HEADING:"username.recovery.sms.success.heading"}})},74185:(e,t,n)=>{n.d(t,{Z:()=>o});var r=(0,n(44194).createContext)(null);r.displayName="BrandingPreferenceContext";const o=r},80677:(e,t,n)=>{n.d(t,{n:()=>s,u:()=>u});var r,o=n(8718);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return e.JSON="JSON",e.TEXT_FIELDS="TEXT_FIELDS",e}({}),u=(a(a(a(a(a(a(a(a(a(a(r={},o.N$.COMMON,o.Oj.BASE),o.N$.EMAIL_OTP,o.Oj.BASE),o.N$.EMAIL_TEMPLATE,o.Oj.BASE),o.N$.LOGIN,o.Oj.BASE),o.N$.MY_ACCOUNT,o.Oj.BASE),o.N$.PASSWORD_RECOVERY,o.Oj.EMAIL_LINK),o.N$.PASSWORD_RESET,o.Oj.BASE),o.N$.PASSWORD_RESET_SUCCESS,o.Oj.BASE),o.N$.PUSH_AUTH,o.Oj.BASE),o.N$.SIGN_UP,o.Oj.BASE),a(a(a(a(a(a(r,o.N$.SMS_OTP,o.Oj.BASE),o.N$.TOTP,o.Oj.BASE),o.N$.EMAIL_LINK_EXPIRY,o.Oj.BASE),o.N$.USERNAME_RECOVERY_CLAIM,o.Oj.BASE),o.N$.USERNAME_RECOVERY_CHANNEL_SELECTION,o.Oj.BASE),o.N$.USERNAME_RECOVERY_SUCCESS,o.Oj.EMAIL))},34839:(e,t,n)=>{n.d(t,{Z:()=>W});var r=n(54715),o=n(21257),i=n(11520),a=n(60826),s=n(43939),u=n(6833),l=n(82406),c=n(47513),E=n(64704),d=n(28676),T=n(95223),f=n(83230),p=n(44194),v=n(10479),O=n(47245),g=n(11526),_=n(15031),S=n(76271),R=n(41158),C=n(54008),m=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance());const A=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.b.DEFAULT_FALLBACK_LANGUAGE,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.gy.ORG,i=S.h.getState().organization.organizationType===R.$B.SUBORGANIZATION?null===(n=S.h.getState())||void 0===n||null===(n=n.organization)||void 0===n||null===(n=n.organization)||void 0===n?void 0:n.id:e,l={headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.DELETE,params:{locale:r,name:i,screen:t,type:o},url:S.h.getState().config.endpoints.brandingTextPreference};return m(l).then((function(e){if(204!==e.status)throw new s.u(C.j.ErrorMessages.CUSTOM_TEXT_PREFERENCE_DELETE_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new s.u(C.j.ErrorMessages.CUSTOM_TEXT_PREFERENCE_DELETE_ERROR.getErrorMessage(),e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var N=g.AsgardeoSPAClient.getInstance().httpRequest.bind(g.AsgardeoSPAClient.getInstance()).bind(g.AsgardeoSPAClient.getInstance());const y=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_.b.DEFAULT_FALLBACK_LANGUAGE,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.gy.ORG,c={data:{locale:i,name:S.h.getState().organization.organizationType===R.$B.SUBORGANIZATION?null===(o=S.h.getState())||void 0===o||null===(o=o.organization)||void 0===o||null===(o=o.organization)||void 0===o?void 0:o.id:n,preference:t,screen:r,type:l},headers:{Accept:"application/json","Content-Type":"application/json"},method:e?u.f2.PUT:u.f2.POST,url:S.h.getState().config.endpoints.brandingTextPreference};return N(c).then((function(e){if(200!==e.status&&201!==e.status)throw new s.u(C.j.ErrorMessages.CUSTOM_TEXT_PREFERENCE_UPDATE_INVALID_STATUS_CODE_ERROR.getErrorMessage(),null,e.status,e.request,e,e.config);return Promise.resolve(e.data)})).catch((function(e){var t;throw new s.u(C.j.ErrorMessages.CUSTOM_TEXT_PREFERENCE_UPDATE_ERROR.getErrorMessage(),e.stack,null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code,e.request,e.response,e.config)}))};var b=n(60486),h=n(96124);const I=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_.b.DEFAULT_FALLBACK_LANGUAGE,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:a.gy.ORG,i=b.$.getAppBasename()?"/".concat(b.$.getAppBasename()):"",s="https://".concat(window.location.host).concat(i,"/resources/branding/i18n/screens/").concat(n,"/").concat(r,".json"),l={headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.GET,url:s},c=(0,h.Z)(e?l:null,{attachToken:!1,shouldRetryOnError:!1}),E=c.data,d=c.error;return{data:{locale:r,name:t,preference:{text:E},screen:n,type:o},error:d,isLoading:!d&&!E,isValidating:c.isValidating,mutate:c.mutate}};const P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=b.$.getAppBasename()?"/".concat(b.$.getAppBasename()):"",n="https://".concat(window.location.host).concat(t,"/resources/branding/i18n/meta.json"),r={headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.GET,url:n},o=(0,h.Z)(e?r:null,{attachToken:!1,shouldRetryOnError:!1}),i=o.data,a=o.error;return{data:i,error:a,isLoading:!a&&!i,isValidating:o.isValidating,mutate:o.mutate}};var D=n(45560);const U=function(e,t){var n=b.$.getAppBasename()?"/".concat(b.$.getAppBasename()):"",r="https://".concat(window.location.host).concat(n,"/resources/branding/i18n/screens/").concat(t,"/meta.json"),o={headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.GET,url:r},i=(0,h.Z)(e?o:null,{attachToken:!1,shouldRetryOnError:!1}),a=i.data,s=i.error;return{data:a,error:s,isLoading:!s&&!a,isValidating:i.isValidating,mutate:i.mutate}};var L=n(28077),M=n(74185),w=n(80677);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G(r.key),r)}}function B(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function G(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}var F,V,X,Z=B((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));F=Z,X=function(e,t){var n,r,o,i,a,s=(0,c.Z)(e);null!=s&&null!==(n=s.preference)&&void 0!==n&&n.text&&(null!=t&&null!==(r=t.preference)&&void 0!==r&&null!==(r=r.organizationDetails)&&void 0!==r&&r.copyrightText&&null!=s&&null!==(i=s.preference)&&void 0!==i&&i.text.copyright&&(s.preference.text.copyright=t.preference.organizationDetails.copyrightText),null!=t&&null!==(o=t.preference)&&void 0!==o&&null!==(o=o.organizationDetails)&&void 0!==o&&o.siteTitle&&null!=s&&null!==(a=s.preference)&&void 0!==a&&a.text["site.title"]&&(s.preference.text["site.title"]=t.preference.organizationDetails.siteTitle));return s},(V=G(V="migrateCustomTextPreference"))in F?Object.defineProperty(F,V,{value:X,enumerable:!0,configurable:!0,writable:!0}):F[V]=X;const $=Z;var z=n(64732);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const W=function(e){var t,n,g,_,S=e.children,R=(0,O.I0)(),m=(0,v.$)().t,N=(0,o.z)().organizationType,b=(0,O.v9)((function(e){return e.auth.tenantDomain})),h=(0,O.v9)((function(e){var t;return null==e||null===(t=e.global)||void 0===t?void 0:t.supportedI18nLanguages})),j=(0,O.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organization})),x=(0,O.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),B=K((0,p.useState)(a.N$.COMMON),2),G=B[0],F=B[1],V=K((0,p.useState)(a.Oj.BASE),2),X=V[0],Z=V[1],H=K((0,p.useState)(C.j.DEFAULT_LOCALE),2),Y=H[0],Q=H[1],W=K((0,p.useState)(null),2),J=W[0],ee=W[1],te=K((0,p.useState)(null),2),ne=te[0],re=te[1],oe=K((0,p.useState)(w.n.TEXT_FIELDS),2),ie=oe[0],ae=oe[1],se=K((0,p.useState)(!0),2),ue=se[0],le=se[1],ce=K((0,p.useState)(null),2),Ee=ce[0],de=ce[1],Te=K((0,p.useState)(L.g.ORGANIZATION),2),fe=Te[0],pe=Te[1],ve=fe===L.g.APPLICATION&&Ee?Ee:b,Oe=fe===L.g.APPLICATION&&Ee?a.gy.APP:a.gy.ORG,ge=K((0,p.useState)(null),2),_e=ge[0],Se=ge[1],Re=(0,i.Z)(ve,Oe),Ce=Re.data,me=Re.error,Ae=(0,D.Z)(!!Y,b,"common",Y).data,Ne=(0,D.Z)(!!G&&!!Y,b,G,Y),ye=Ne.data,be=Ne.error,he=Ne.isLoading,Ie=Ne.mutate,Pe=I(!!Y,b,a.N$.COMMON,Y).data,De=I(!!G&&!!Y,b,G,Y).data,Ue=P().data,Le=U(!!G,G).data,Me=(0,p.useMemo)((function(){return(0,T.Z)((0,c.Z)($.migrateCustomTextPreference(De,_e)),(0,c.Z)(ye))}),[De,ye]),we=(0,p.useMemo)((function(){return x===r.$.SUBORGANIZATION?null==j?void 0:j.name:b}),[b,j]);(0,p.useEffect)((function(){var e;be&&(null===(e=be.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code)!==C.j.CUSTOM_TEXT_PREFERENCE_NOT_CONFIGURED_ERROR_CODE&&R((0,l.V_)({description:m("branding:brandingCustomText.notifications.getPreferenceError.description",{locale:Y,screen:G}),level:u.QU.ERROR,message:m("branding:brandingCustomText.notifications.getPreferenceError.message")}))}),[be]),(0,p.useEffect)((function(){var e;me&&((null===(e=me.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code)!==L.H.BRANDING_NOT_CONFIGURED_ERROR_CODE?R((0,l.V_)({description:m("extensions:develop.branding.notifications.fetch.genericError.description",{tenant:we}),level:u.QU.ERROR,message:m("extensions:develop.branding.notifications.fetch.genericError.message")})):Se(null))}),[me]),(0,p.useEffect)((function(){var e;Ce&&(null==me||null===(e=me.response)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.code)!==L.H.BRANDING_NOT_CONFIGURED_ERROR_CODE&&(Ce instanceof s.u?R((0,l.V_)({description:m("extensions:develop.branding.notifications.fetch.invalidStatus.description",{tenant:we}),level:u.QU.ERROR,message:m("extensions:develop.branding.notifications.fetch.invalidStatus.message")})):Se(Ce))}),[Ce]),(0,p.useEffect)((function(){ye&&(N===r.$.SUBORGANIZATION&&(null==ye?void 0:ye.name)!==(null==j?void 0:j.id)?le(!1):le(!0))}),[ye]);var je=function(e,t){return y(t,e,b,G,Y).then((function(){R((0,l.V_)({description:m("branding:brandingCustomText.notifications.updateSuccess.description",{locale:Y,screen:G}),level:u.QU.SUCCESS,message:m("branding:brandingCustomText.notifications.updateSuccess.message")})),Ie()})).catch((function(t){t.code!==L.H.CUSTOM_TEXT_PREFERENCE_NOT_CONFIGURED_ERROR_CODE?(0,l.V_)({description:m("branding:brandingCustomText.notifications.updateError.description",{locale:Y,screen:G}),level:u.QU.ERROR,message:m("branding:brandingCustomText.notifications.updateError.message")}):je(e,!1)}))};return p.createElement(M.Z.Provider,{value:{activeCustomTextConfigurationMode:ie,activeTab:ne,brandingMode:fe,customText:null!==(t=null==J?void 0:J.values)&&void 0!==t?t:null==Me||null===(n=Me.preference)||void 0===n?void 0:n.text,customTextDefaults:null==De||null===(g=De.preference)||void 0===g?void 0:g.text,customTextFormSubscription:null!=J?J:{values:null==Me||null===(_=Me.preference)||void 0===_?void 0:_.text},customTextScreenMeta:Le,getLocales:function(e){return e===a.E7.CUSTOM_TEXT?(0,f.Z)(h,null==Ue?void 0:Ue.locales):null},getScreenVariations:function(e){if(null==Ue||!Ue.screens)return[];var t=null==Ue?void 0:Ue.screens[e];return t.indexOf(w.u[e])<0&&t.push(w.u[e]),t},getScreens:function(e){if(null==Ue||!Ue.screens)return[];var t=Object.keys(null==Ue?void 0:Ue.screens),n=[];return e===a.E7.CUSTOM_TEXT?n=t:(n=t.filter((function(e){return e!==a.N$.COMMON})),fe===L.g.ORGANIZATION&&(n.push(a.N$.MY_ACCOUNT),n.push(a.N$.EMAIL_TEMPLATE))),n},i18n:function(e,t){var n,r,o,i,a;return(0,z.Z)((0,E.Z)((0,T.Z)((0,c.Z)(null!==(n=null==Ae||null===(r=Ae.preference)||void 0===r?void 0:r.text)&&void 0!==n?n:null===(o=$.migrateCustomTextPreference(Pe,_e))||void 0===o||null===(o=o.preference)||void 0===o?void 0:o.text),(0,c.Z)(null!==(i=null==J?void 0:J.values)&&void 0!==i?i:null==Me||null===(a=Me.preference)||void 0===a?void 0:a.text)),e,t))},isCustomTextConfigured:ye&&!(0,d.Z)(ye,De),isCustomTextPreferenceFetching:he,onSelectedLocaleChange:function(e){ee(null),Q(e)},onSelectedPreviewScreenChange:function(e){ee(null),F(e)},onSelectedPreviewScreenVariationChange:function(e){Z(e)},preference:_e,resetAllCustomTextPreference:function(e,t){A(b,e,t).then((function(){var e;R((0,l.V_)({description:m("branding:brandingCustomText.notifications.resetSuccess.description",{locale:Y,screen:G}),level:u.QU.SUCCESS,message:m("branding:brandingCustomText.notifications.resetSuccess.message")})),ee(k(k({},J),{},{values:(0,c.Z)(null==De||null===(e=De.preference)||void 0===e?void 0:e.text)})),Ie()})).catch((function(){R((0,l.V_)({description:m("branding:brandingCustomText.notifications.updateError.description",{locale:Y,screen:G}),level:u.QU.SUCCESS,message:m("branding:brandingCustomText.notifications.updateError.message")}))}))},resetCustomTextField:function(e){var t,n=(0,c.Z)(null==Me?void 0:Me.preference);n=k(k({},n),{},{text:k(k({},n.text),{},q({},e,null==De||null===(t=De.preference)||void 0===t?void 0:t.text[e]))}),je(n,ue).then((function(){var t;ee(k(k({},J),{},{values:k(k({},null==J?void 0:J.values),{},q({},e,null==De||null===(t=De.preference)||void 0===t?void 0:t.text[e]))}))}))},resetSelectedPreviewScreenVariations:function(){Z(a.Oj.BASE)},selectedApplication:Ee,selectedLocale:Y,selectedScreen:G,selectedScreenVariation:X,setBrandingMode:pe,setSelectedApplication:de,updateActiveCustomTextConfigurationMode:ae,updateActiveTab:function(e){e===L.H.TABS.TEXT_TAB_ID&&F(a.N$.COMMON),re(e)},updateCustomTextFormSubscription:function(e){var t=(0,c.Z)(e);if(t)for(var n in null==Me||null===(r=Me.preference)||void 0===r?void 0:r.text){var r;n in(null==t?void 0:t.values)||(t.values[n]="")}ee(t)},updateCustomTextPreference:function(){je(k(k({},null==Me?void 0:Me.preference),{},{text:null==J?void 0:J.values}),ue)}}},S)}},64732:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){var t=(new Date).getFullYear();return(e=e.replace(/\\n/g,"\n")).replace("{{currentYear}}",t.toString())}},11520:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(76271),o=n(15031),i=n(96124),a=n(41158),s=n(21257),u=n(6833),l=n(60826);const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.gy.ORG,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.b.DEFAULT_FALLBACK_LANGUAGE,c=(0,s.z)().organizationType,E={headers:{Accept:"application/json","Content-Type":"application/json"},method:u.f2.GET,params:{locale:n,name:e,type:t},url:c===a.$B.SUBORGANIZATION?"".concat(r.h.getState().config.endpoints.brandingPreferenceSubOrg,"/resolve"):"".concat(r.h.getState().config.endpoints.brandingPreference,"/resolve")},d=(0,i.Z)(E),T=d.data,f=d.error;return{data:T,error:f,isLoading:!f&&!T,isValidating:d.isValidating,mutate:d.mutate}}}}]);