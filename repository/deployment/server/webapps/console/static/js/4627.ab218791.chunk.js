"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4627],{23800:(e,t,n)=>{n.d(t,{Z:()=>Z});var r=n(62919),o=n(33838),a=n(44194),i=n(14517),s=n(60391),l=n(87883);function c(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function u(e){return parseFloat(e)}var d=n(24731),m=n(49706),p=n(62808),g=n(99769),f=n(90757);function v(e){return(0,f.ZP)("MuiSkeleton",e)}(0,g.Z)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var h=n(31549);const E=["animation","className","component","height","style","variant","width"];let y,S,b,U,A=e=>e;const w=(0,s.F4)(y||(y=A`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),C=(0,s.F4)(S||(S=A`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),R=(0,m.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((({theme:e,ownerState:t})=>{const n=c(e.shape.borderRadius)||"px",r=u(e.shape.borderRadius);return(0,o.Z)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:(0,d.Fq)(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(({ownerState:e})=>"pulse"===e.animation&&(0,s.iv)(b||(b=A`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),w)),(({ownerState:e,theme:t})=>"wave"===e.animation&&(0,s.iv)(U||(U=A`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),C,(t.vars||t).palette.action.hover))),Z=a.forwardRef((function(e,t){const n=(0,p.Z)({props:e,name:"MuiSkeleton"}),{animation:a="pulse",className:s,component:c="span",height:u,style:d,variant:m="text",width:g}=n,f=(0,r.Z)(n,E),y=(0,o.Z)({},n,{animation:a,component:c,variant:m,hasChildren:Boolean(f.children)}),S=(e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:a,height:i}=e,s={root:["root",n,r,o&&"withChildren",o&&!a&&"fitContent",o&&!i&&"heightAuto"]};return(0,l.Z)(s,v,t)})(y);return(0,h.jsx)(R,(0,o.Z)({as:c,ref:t,className:(0,i.Z)(S.root,s),ownerState:y},f,{style:(0,o.Z)({width:g,height:u},d)}))}))},56646:(e,t,n)=>{n.d(t,{v:()=>l});var r=n(22557),o=n.n(r),a=n(44194),i=n(62508),s=n(10909),l=function(e){var t=e.alwaysOpen,n=e.className,r=e.stepTitle,l=e.stepContent,c=e.hasPrevious,u=e.hasNext,d=e.isFinalStep,m=e.handleCompleteStep,p=e.handlePreviousStep,g=e.step,f=e.isComplete,v=e.isInitial,h=e.isActiveStep,E=e.isCurrentStep,y=e.isNextEnabled,S=e.isSidePanelOpen,b=o()("quick-start-step",{complete:!t&&!h&&f,initial:!(t||v||E||f||h)},n);return a.createElement("div",{className:b},a.createElement("div",{className:"step-content-container ".concat(S?"side-panel-visible":"")},a.createElement("h3",null,r),a.createElement("div",{className:"step-content"},l,!t&&a.createElement(a.Fragment,null,a.createElement(i.Z,{hidden:!0}),a.createElement("div",null,c&&a.createElement(s.Z,{onClick:function(){p(g)},size:"tiny",className:"step-previous",color:"orange",basic:!0},"Previous"),u&&a.createElement(s.Z,{disabled:y,onClick:function(){m(g)},size:"tiny",primary:!0},"Next"),d&&a.createElement(s.Z,{onClick:function(){m(g)},size:"tiny",primary:!0},"Finish"))),a.createElement(i.Z,{hidden:!0}))))};l.defaultProps={alwaysOpen:!1}},5840:(e,t,n)=>{n.d(t,{t:()=>c});var r=n(44194),o=n(56646);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=e.handleFinishAction,n=e.alwaysOpen,s=e.stepContent,l=e.isNextEnabled,c=e.isSidePanelOpen,u=e["data-testid"],d=i((0,r.useState)([]),2),m=d[0],p=d[1],g=i((0,r.useState)(),2),f=g[0],v=g[1],h=function(){v(m.pop())};return r.createElement("div",{className:"quick-start-step-container","data-testid":u},s&&s.map((function(e,i){return r.createElement(o.v,{key:i,alwaysOpen:n,step:i,isInitial:0===i,hasNext:s[i+1],hasPrevious:s[i-1],isFinalStep:i==s.length-1,stepTitle:e.stepTitle,stepContent:e.stepContent,handleCompleteStep:function(){i!=s.length-1?(e.stepAction&&e.stepAction(),e.preventGoToNextStep||(!function(e){p([].concat(a(m),[e]))}(i),v(m.pop()))):t()},handlePreviousStep:h,isComplete:m.includes(i),isActiveStep:f===i,isNextEnabled:!l,isSidePanelOpen:c,isCurrentStep:!m.includes(i)&&m[m.length-1]+1===i})})))};c.defaultProps={alwaysOpen:!1}},8955:(e,t,n)=>{n.d(t,{$X:()=>c,RA:()=>d,ef:()=>m,uv:()=>u});var r=n(11526),o=n(76271),a=n(38463),i=n(6833),s="Resource not found.",l=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()),c=function(e){var t={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.GET,url:"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e)};return l(t).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},u=function(e,t,n){var r=n===a.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e,"/agent/").concat(t),c={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.DELETE,url:r};return l(c).then((function(e){return 204!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},d=function(e,t){var n=t===a.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(e):o.h.getState().config.endpoints.onPremUserStoreAgentToken,r={data:t===a.uD.RemoteUserStoreManager?{}:{userStoreId:e},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:n};return l(r).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))},m=function(e,t,n){var r=n===a.uD.RemoteUserStoreManager?"".concat(o.h.getState().config.endpoints.remoteUserStoreAgentToken,"/").concat(t,"/regenerate"):"".concat(o.h.getState().config.endpoints.onPremUserStoreAgentToken,"/regenerate"),c={data:n===a.uD.RemoteUserStoreManager?{existingTokenId:e}:{existingTokenId:e,userStoreId:t},headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.POST,url:r};return l(c).then((function(e){return 200!==e.status?Promise.reject("An error occurred. The server returned ".concat(e.status)):Promise.resolve(e.data)})).catch((function(e){var t,n;if((null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.message)!==s)return Promise.reject(null==e||null===(n=e.response)||void 0===n?void 0:n.data)}))}},93331:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{Ax:()=>m,eh:()=>u,sf:()=>d});var s,l,c,u=a((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}));s=u,c="type",(l=i(l="REMOTE_USER_STORE_TYPE_QUERY_PARAM"))in s?Object.defineProperty(s,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):s[l]=c;var d=function(e){return e.OPTIMIZED="optimized",e.CLASSIC="classic",e}({}),m=function(e){return e.GENERAL="general",e.CONFIGURATIONS="configurations",e.GUIDE="guide",e}({})},44627:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ze});var r=n(55007),o=n(60486),a=n(40838),i=n(72025),s=n(31687),l=n(10319),c=n(6833),u=n(82406),d=n(43516),m=n(50699),p=n(44194),g=n(10479),f=n(47245),v=n(26154),h=n(46461),E=n(99050),y=n(39428),S=n(96124),b=n(76271);const U=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,params:e,url:b.h.getState().config.endpoints.localClaims},r=(0,S.Z)(t?n:null);return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};var A=n(70104),w=n(79408),C=n(20342),R=n(30382),Z=n(24876),O=n(49748),k=n(19980),x=n(12638);const I=function(e){var t=e.attributesList,n=e.resolveMappedAttribute,r=e.isReadOnly,o=void 0!==r&&r,a=e["data-componentid"],i=void 0===a?"custom-attribute-mappings":a,s=(0,g.$)().t,l=function(e){if(!e)return s("remoteUserStores:form.fields.attributes.validation.required")};return p.createElement("div",null,p.createElement(d.X6,{as:"h5"},s("remoteUserStores:pages.edit.configurations.attributes.custom.heading")),p.createElement(k.Z,{className:"attribute-mapping-section",padded:"very"},0===(null==t?void 0:t.length)&&p.createElement(d.$J,{title:s("remoteUserStores:pages.edit.configurations.attributes.custom.emptyPlaceholder.heading"),subtitle:[s("remoteUserStores:pages.edit.configurations.attributes.custom.emptyPlaceholder.description")],"data-componentid":"".concat(i,"-empty-placeholder")}),(null==t?void 0:t.length)>0&&p.createElement(y.Z,{spacing:2,"data-componentid":"".concat(i,"-grid")},null==t?void 0:t.map((function(e,t){var r=encodeURIComponent(e.claimURI);return p.createElement(O.Z,{key:t,container:!0},p.createElement(O.Z,{xs:12,lg:6,xl:5},p.createElement(x.Z.Content,null,null==e?void 0:e.displayName,p.createElement(d.xv,{display:"inline",styles:{color:"red"}},"*"),p.createElement(x.Z.Subheader,null,p.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),p.createElement(O.Z,{xs:6,lg:6,xl:5},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-").concat(e.claimURI,"-input"),name:r,component:R.xh,initialValue:n(e),disabled:o,validate:l})))})))))};var M=n(66184),T=n(12754),P=n(29051);const N=function(e){var t=e.initialValues,n=void 0===t?{}:t,r=e.userStoreManager,o=e.isReadOnly,a=void 0!==o&&o,i=e["data-componentid"],s=void 0===i?"group-attributes-section":i,c=(0,g.$)().t,u=(0,f.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),v=(0,P.D)(u,r),h=function(e,t){if(!v&&(0,m.Z)(e))return c("remoteUserStores:form.fields.groupnameMapping.validation.required");var n=t["userstore-properties"];return null!=n&&n.ReadGroups&&(0,m.Z)(e)?c("remoteUserStores:form.fields.groupnameMapping.validation.readGroupsEnabled"):void 0},E=function(e,t){if(!v&&(0,m.Z)(e))return c("remoteUserStores:form.fields.groupIdMapping.validation.required");var n=t["userstore-properties"];return null!=n&&n.ReadGroups&&(0,m.Z)(e)?c("remoteUserStores:form.fields.groupIdMapping.validation.readGroupsEnabled"):void 0};return v||r===l.uD.RemoteUserStoreManager?p.createElement("div",null,p.createElement(d.X6,{as:"h3"},c("remoteUserStores:form.sections.groupAttributes")),p.createElement(R.lP,{subscription:{values:!0}},(function(e){var t,o=e.values["userstore-properties"],i=null!==(t=null==o?void 0:o.ReadGroups)&&void 0!==t?t:"true"===n[T.x$.PROPERTY_NAME_READ_GROUPS];return p.createElement(O.Z,{container:!0,spacing:2,className:"form-grid-container"},v&&p.createElement(O.Z,{xs:12},p.createElement(R.SE,{label:c("remoteUserStores:form.fields.readGroups.label"),name:"userstore-properties.".concat(T.x$.PROPERTY_NAME_READ_GROUPS),FormControlProps:{fullWidth:!0,margin:"dense"},"data-componentid":"".concat(s,"-field-readGroups"),component:R.ur,disabled:a,hint:p.createElement(d.kW,{className:"hint",compact:!0},c("remoteUserStores:form.fields.readGroups.helperText")),initialValue:"true"===n[T.x$.PROPERTY_NAME_READ_GROUPS]})),r===l.uD.RemoteUserStoreManager&&p.createElement(p.Fragment,null,p.createElement(O.Z,{xs:12,lg:5,xl:4},p.createElement(M.Z,{required:i&&r===l.uD.RemoteUserStoreManager,disabled:a||!i},c("remoteUserStores:form.fields.groupnameMapping.label"))),p.createElement(O.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(s,"-field-groupnameMapping"),name:"userstore-properties.".concat(T.x$.PROPERTY_NAME_GROUPNAME),type:"text",placeholder:c("remoteUserStores:form.fields.groupnameMapping.placeholder"),component:R.xh,disabled:a||!i,helperText:p.createElement(d.kW,{className:"hint",compact:!0},c("remoteUserStores:form.fields.groupnameMapping.helperText")),initialValue:n[T.x$.PROPERTY_NAME_GROUPNAME],validate:h})),p.createElement(O.Z,null),p.createElement(O.Z,{xs:12,lg:5,xl:4},p.createElement(M.Z,{required:i&&r===l.uD.RemoteUserStoreManager,disabled:a||!i},c("remoteUserStores:form.fields.groupIdMapping.label"))),p.createElement(O.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},ariaLabel:"groupIdMapping","data-componentid":"".concat(s,"-field-groupIdMapping"),name:"userstore-properties.".concat(T.x$.PROPERTY_NAME_GROUPID),type:"text",placeholder:c("remoteUserStores:form.fields.groupIdMapping.placeholder"),component:R.xh,disabled:a||!i,helperText:p.createElement(d.kW,{className:"hint",compact:!0},c("remoteUserStores:form.fields.groupIdMapping.helperText")),initialValue:n[T.x$.PROPERTY_NAME_GROUPID],validate:E})),p.createElement(O.Z,null)))}))):null};const j=function(e){var t=e.attributesList,n=e.resolveMappedAttribute,r=e.isReadOnly,o=void 0!==r&&r,a=e["data-componentid"],i=void 0===a?"local-attribute-mappings":a,s=(0,g.$)().t,l=function(e){if(!e)return s("remoteUserStores:form.fields.attributes.validation.required")};return p.createElement("div",null,p.createElement(d.X6,{as:"h5"},s("remoteUserStores:pages.edit.configurations.attributes.local.heading")),p.createElement(k.Z,{className:"attribute-mapping-section",padded:"very"},p.createElement(y.Z,{spacing:2},null==t?void 0:t.map((function(e,t){var r=encodeURIComponent(e.claimURI);return p.createElement(O.Z,{key:t,container:!0},p.createElement(O.Z,{xs:12,lg:6,xl:5},p.createElement(x.Z.Content,null,null==e?void 0:e.displayName,p.createElement(d.xv,{display:"inline",styles:{color:"red"}},"*"),p.createElement(x.Z.Subheader,null,p.createElement("code",{className:"inline-code compact transparent"},null==e?void 0:e.claimURI)))),p.createElement(O.Z,{xs:6,lg:6,xl:5},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-").concat(e.claimURI,"-input"),name:r,component:R.xh,initialValue:n(e),disabled:o,validate:l})))})))))};var _=n(4203),L=n(12252);const D=function(e){var t=e.localAttributes,n=e.resolveMappedAttribute,r=e.isReadOnly,o=void 0!==r&&r,a=e["data-componentid"],i=void 0===a?"user-attributes-section":a,s=(0,g.$)().t,l=L.Q.USER_NAME_CLAIM_URI,c=L.Q.USER_ID_CLAIM_URI,u=t.find((function(e){return e.claimURI===l})),m=t.find((function(e){return e.claimURI===c}));return p.createElement("div",null,p.createElement(d.X6,{as:"h3"},s("remoteUserStores:form.sections.userAttributes")),p.createElement(O.Z,{container:!0,spacing:2,className:"form-grid-container"},p.createElement(O.Z,{xs:12,lg:5,xl:4},p.createElement(M.Z,{required:!0},s("remoteUserStores:form.fields.usernameMapping.label")),p.createElement("br",null),p.createElement(_.Z,{variant:"caption"},l)),p.createElement(O.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-field-usernameMapping"),name:encodeURIComponent(l),type:"text",placeholder:s("remoteUserStores:form.fields.usernameMapping.placeholder"),component:R.xh,disabled:o,helperText:p.createElement(d.kW,{className:"hint",compact:!0},s("remoteUserStores:form.fields.usernameMapping.helperText")),initialValue:n(u)})),p.createElement(O.Z,null),p.createElement(O.Z,{xs:12,lg:5,xl:4},p.createElement(M.Z,{required:!0},s("remoteUserStores:form.fields.userIdMapping.label")),p.createElement("br",null),p.createElement(_.Z,{variant:"caption"},c)),p.createElement(O.Z,{xs:12,lg:6,xl:4},p.createElement(R.SE,{FormControlProps:{margin:"dense"},"data-componentid":"".concat(i,"-field-userIdMapping"),name:encodeURIComponent(c),type:"text",placeholder:s("remoteUserStores:form.fields.userIdMapping.placeholder"),component:R.xh,disabled:o,helperText:p.createElement(d.kW,{className:"hint",compact:!0},s("remoteUserStores:form.fields.userIdMapping.helperText")),initialValue:n(m)}))))};var V=n(51835),$=n.n(V),G=n(27975),F=n.n(G),Q=n(55900),H=n.n(Q),q=n(21555),Y=n.n(q),B=n(3621),W=n.n(B),X=n(5062),z=n.n(X),K=n(88103),J={};J.styleTagTransform=z(),J.setAttributes=Y(),J.insert=H().bind(null,"head"),J.domAPI=F(),J.insertStyleElement=W();$()(K.Z,J);K.Z&&K.Z.locals&&K.Z.locals;function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=oe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ie(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return se(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var le=function(e){var t=e.userStore,n=e.userStoreId,r=e.userStoreManager,o=e.isLoading,a=e.isReadOnly,i=void 0!==a&&a,s=e.onUpdate,m=e.isUserStoreDisabled,v=e["data-componentid"],S=void 0===v?"configuration-settings":v,b=(0,g.$)().t,O=(0,f.I0)(),k=(0,d.fQ)().getLink,x=(0,f.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.enableIdentityClaims})),M=ae((0,p.useState)(!1),2),P=M[0],_=M[1],L=U({"exclude-identity-claims":!x,filter:null,limit:null,offset:null,sort:null}),V=L.data,$=L.isLoading,G=L.error,F=L.mutate;(0,p.useEffect)((function(){G&&O((0,u.V_)({description:b("claims:local.notifications.getClaims.genericError.description"),level:c.QU.ERROR,message:b("claims:local.notifications.getClaims.genericError.message")}))}),[G]);var Q=(0,p.useMemo)((function(){return $||!V?null:(0,w.f)(V,T.x$.DISPLAY_NAME_VALUE,!0)}),[$,V]),H=(0,p.useMemo)((function(){return Q?Q.filter((function(e){return e.properties.some((function(e){return"USER_CUSTOM_ATTRIBUTE"===e.key&&"TRUE"===e.value}))})):null}),[Q]),q=(0,p.useMemo)((function(){return Q&&H?(0,Z.Z)(Q,H):null}),[Q,H]),Y=function(e){var n="";return e.attributeMapping.forEach((function(e){(e.userstore===(null==t?void 0:t.name.toUpperCase())||""===n&&e.userstore===T.x$.PRIMARY_USER_STORE_NAME)&&(n=e.mappedAttribute)})),n},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=t?"".concat(t,".").concat(r):r;"object"!==oe(e[r])||Array.isArray(e[r])||null===e[r]?n[o]=String(e[r]):B(e[r],o,n)}return n},W=function(e,t){var r,o=[],a=re(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;o.push({operation:"REPLACE",path:"/properties/".concat(i.name),value:i.value})}}catch(l){a.e(l)}finally{a.f()}(0,C.Xv)(n,o).then((function(){!function(e){(0,C.TU)(n,e).then((function(){O((0,u.V_)({description:b("userstores:notifications.updateUserstore.success.description"),level:c.QU.SUCCESS,message:b("userstores:notifications.updateUserstore.success.message")})),O((0,u.V_)({description:b("userstores:notifications.updateDelay.description"),level:c.QU.WARNING,message:b("userstores:notifications.updateDelay.message")})),F(),s()})).catch((function(e){O((0,u.V_)({description:(null==e?void 0:e.description)||b("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:(null==e?void 0:e.message)||b("userstores:notifications.updateUserstore.genericError.message")}))})).finally((function(){_(!1)}))}(t)})).catch((function(){_(!1),O((0,u.V_)({description:b("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:b("userstores:notifications.updateUserstore.genericError.message")}))}))},X=(0,p.useMemo)((function(){var e={};if(!t)return e;var n,r=re(null==t?void 0:t.properties);try{for(r.s();!(n=r.n()).done;){var o=n.value;e[o.name]=o.value}}catch(a){r.e(a)}finally{r.f()}return e}),[t]);return o||$||!q||!H?p.createElement(d.pJ,{padded:"very",className:"userstore-configuration-settings","data-componentid":"".concat(S,"-loading-skeleton")},p.createElement(E.Z,{component:"h1",width:"40%"}),p.createElement(E.Z,null),p.createElement(E.Z,null),p.createElement("br",null),p.createElement(E.Z,null),p.createElement(E.Z,null),p.createElement("br",null),p.createElement(E.Z,{component:"h1",width:"40%"}),p.createElement(E.Z,null),p.createElement(E.Z,null)):p.createElement(d.pJ,{padded:"very",className:"userstore-configuration-settings"},p.createElement(R.vy,{onSubmit:function(e){!function(e){var n,o=te({},e),a=te({},o["userstore-properties"]),i=[],s=re(t.properties);try{for(s.s();!(n=s.n()).done;){var c=n.value;Object.prototype.hasOwnProperty.call(a,c.name)&&(c.value=a[c.name].toString(),i.push(te({},c)))}}catch(E){s.e(E)}finally{s.f()}delete o["userstore-properties"];for(var u=B(o),d=[],m=0,p=Object.entries(u);m<p.length;m++){var g=ae(p[m],2),f=g[0],v=g[1],h=decodeURIComponent(f);d.push({claimURI:h,mappedAttribute:v}),r===l.uD.RemoteUserStoreManager&&(h===A.Q.USER_NAME_CLAIM_URI?i.push({name:T.x$.PROPERTY_NAME_USERNAME,value:v}):h===A.Q.USER_ID_CLAIM_URI&&i.push({name:T.x$.PROPERTY_NAME_USERID,value:v}))}_(!0),W(i,d)}(e)},render:function(e){var t=e.handleSubmit;return p.createElement("form",{onSubmit:t},p.createElement(y.Z,{spacing:3},p.createElement(D,{localAttributes:q,resolveMappedAttribute:Y,isReadOnly:i,"data-componentid":"".concat(S,"-user-attributes")}),p.createElement(N,{userStoreManager:r,initialValues:X,isReadOnly:i,"data-componentid":"".concat(S,"-group-attributes")}),p.createElement(d.X6,{as:"h3"},b("remoteUserStores:pages.edit.configurations.attributes.heading"),p.createElement(d.X6,{subHeading:!0,as:"h6"},b("extensions:manage.features.userStores.edit.attributeMappings.description"),p.createElement(d.eb,{link:k("manage.userStores.attributeMappings.learnMore")},b("common:learnMore")))),p.createElement(I,{attributesList:H,resolveMappedAttribute:Y,isReadOnly:i,"data-componentid":"".concat(S,"-custom-attribute-mappings")}),p.createElement(j,{attributesList:q,resolveMappedAttribute:Y,isReadOnly:i,"data-componentid":"".concat(S,"-local-attribute-mappings")}),p.createElement(h.Z,{variant:"contained",className:"update-button",onClick:t,loading:P,disabled:P||i||m,"data-componentid":"".concat(S,"-update-button")},b("common:update"))))}}))},ce=n(96334),ue=n(89141),de=n(62508),me=n(73432),pe=n(10909),ge=n(8955),fe=n(38463);const ve=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t===fe.uD.RemoteUserStoreManager?"".concat(b.h.getState().config.endpoints.remoteUserStoreAgentConnection,"/").concat(e):"".concat(b.h.getState().config.endpoints.onPremUserStoreAgentConnection,"/").concat(e),o={headers:{Accept:"application/json","Content-Type":"application/json"},method:c.f2.GET,url:r},a=(0,S.Z)(n?o:null);return{data:a.data,error:a.error,isLoading:a.isLoading,isValidating:a.isValidating,mutate:a.mutate}};var he=n(56758);function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(e){var t,n,r,i=e.isDisabled,s=e.userStore,h=e.userStoreId,y=e.userStoreManager,S=e.handleUserStoreDisabled,b=e.isReadOnly,U=void 0!==b&&b,A=e["data-componentid"],w=(0,g.$)().t,R=(0,f.I0)(),Z=(0,d.fQ)().getLink,O=(0,d.kH)().isMobileViewport,x=Ee((0,p.useState)(null),2),I=x[0],M=x[1],P=Ee((0,p.useState)(""),2),N=P[0],j=P[1],_=Ee((0,p.useState)(""),2),L=_[0],D=_[1],V=Ee((0,p.useState)(""),2),$=V[0],G=V[1],F=Ee((0,p.useState)(!1),2),Q=F[0],H=F[1],q=Ee((0,p.useState)(!1),2),Y=q[0],B=q[1],W=Ee((0,p.useState)(!1),2),X=W[0],z=W[1],K=Ee((0,p.useState)(null),2),J=K[0],ee=K[1],te=Ee((0,p.useState)(null),2),ne=te[0],re=te[1],oe=Ee((0,p.useState)(!1),2),ae=oe[0],ie=oe[1],se=Ee((0,p.useState)(!1),2),le=se[0],fe=se[1],ye=Ee((0,p.useState)(!1),2),Se=ye[0],be=ye[1],Ue=Ee((0,p.useState)(!1),2),Ae=Ue[0],we=Ue[1],Ce=Ee((0,p.useState)(!1),2),Re=Ce[0],Ze=Ce[1],Oe=Ee((0,d.ZK)(),3),ke=Oe[0],xe=Oe[1],Ie=Oe[2],Me=(0,f.v9)((function(e){return e.auth.isPrivilegedUser})),Te=ve(h,y),Pe=Te.data,Ne=Te.isLoading,je=Te.error,_e=Te.mutate,Le=(0,p.useMemo)((function(){return null==Pe?void 0:Pe.filter((function(e){var t;return(null==e?void 0:e.agent)&&!(0,m.Z)(null==e||null===(t=e.agent)||void 0===t?void 0:t.displayName)}))}),[Pe]);(0,p.useEffect)((function(){je&&R((0,u.V_)({description:w("remoteUserStores:notifications.connectionStatusCheckError.description"),level:c.QU.ERROR,message:w("remoteUserStores:notifications.connectionStatusCheckError.message")}))}),[null==je||null===(t=je.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.code]),(0,p.useEffect)((function(){(Q||Y)&&_e()}),[ne]),(0,p.useEffect)((function(){$&&z(!0)}),[$]),(0,p.useEffect)((function(){N&&H(!0)}),[N]),(0,p.useEffect)((function(){L&&B(!0)}),[L]);return p.createElement(p.Fragment,null,p.createElement(d.pJ,{padded:"very"},p.createElement(ue.Z,null,p.createElement(ue.Z.Row,null,p.createElement(ue.Z.Column,{width:6},p.createElement(ce.Es,{onSubmit:function(e){!function(e){var t={operation:"REPLACE",path:"/description",value:e.get("description").toString()};(0,C.Xv)(h,[t]).then((function(){R((0,u.V_)({description:w("userstores:notifications.updateUserstore.success.description"),level:c.QU.SUCCESS,message:w("userstores:notifications.updateUserstore.success.message")})),R((0,u.V_)({description:w("userstores:notifications.updateDelay.description"),level:c.QU.WARNING,message:w("userstores:notifications.updateDelay.message")}))})).catch((function(e){R((0,u.V_)({description:(null==e?void 0:e.description)||w("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:(null==e?void 0:e.message)||w("userstores:notifications.updateUserstore.genericError.message")}))}))}(e)}},p.createElement(ce.gN,{type:"text",name:"description",label:w("remoteUserStores:form.fields.description.label"),required:!1,placeholder:w("remoteUserStores:form.fields.description.placeholder"),maxLength:300,minLength:3,width:14,"data-testid":"".concat(A,"-user-store-description-textarea"),value:null!=s&&s.description?null==s?void 0:s.description:"",validation:function(e,t){var n,r=!0,o=(0,he.u)(e,T.o3.EscapeRegEx);if("true"===o.get("isMatch").toString()){r=!1;var a=o.get("invalidStringValue").toString();n=w("console:manage.features.userstores.forms.general.description.validationErrorMessages.invalidInputErrorMessage",{invalidString:a})}else r=!0;r||(t.isValid=!1,t.errorMessages.push(n))},readOnly:U}),p.createElement(d.GI,{trigger:p.createElement("div",{className:O?"mb-1x mt-1x inline-button button-width":"inline-button"},p.createElement(d.KM,{type:"submit",disabled:!("false"===(null==s||null===(n=s.properties)||void 0===n||null===(n=n.find((function(e){return e.name===l.rr})))||void 0===n?void 0:n.value))||U},w("common:update"))),content:w("extensions:manage.features.userStores.edit.general.disable.buttonDisableHint"),size:"mini",wide:!0,disabled:!("false"!==(null==s||null===(r=s.properties)||void 0===r||null===(r=r.find((function(e){return e.name===l.rr})))||void 0===r?void 0:r.value))}))))),p.createElement(de.Z,{hidden:!0}),p.createElement(de.Z,null),p.createElement(de.Z,{hidden:!0}),p.createElement(d.X6,{as:"h4"},"User Store Agent Connection(s)"),p.createElement(k.Z,{className:"agent-connections-section",padded:"very"},Ne&&p.createElement("div",{"data-componentid":"".concat(A,"-loading-skeleton")},p.createElement(E.Z,{component:"h1",width:"40%"}),p.createElement(E.Z,null),p.createElement("br",null),p.createElement(E.Z,{component:"h1",width:"40%"}),p.createElement(E.Z,null)),!Ne&&(!Le||0===Le.length)&&p.createElement(d.$J,{"data-componentid":"".concat(A,"-empty-placeholder"),title:w("remoteUserStores:pages.edit.generalSettings.connections.emptyPlaceholder.heading"),subtitle:[w("remoteUserStores:pages.edit.generalSettings.connections.emptyPlaceholder.description1"),w("remoteUserStores:pages.edit.generalSettings.connections.emptyPlaceholder.description2")]}),!Ne&&(null==Le?void 0:Le.length)>0&&p.createElement(me.Z,{divided:!0,verticalAlign:"middle",relaxed:"very",width:10},Le.map((function(e,t){var n;return p.createElement(me.Z.Item,{key:t,columns:2,verticalAlign:"middle"},p.createElement(me.Z.Content,{floated:"right"},null!=e&&e.connected?p.createElement(pe.Z,{basic:!0,color:"red",onClick:function(){ee(e),ie(!0)},disabled:U},w("remoteUserStores:pages.edit.generalSettings.connections.actions.disconnect")):null,p.createElement(pe.Z,{className:"ml-4",color:e.connected?"red":"orange",onClick:function(){M(t),re(e),fe(!0)},disabled:U||i},w("remoteUserStores:pages.edit.generalSettings.connections.actions.regenerate"))),p.createElement(me.Z.Content,null,p.createElement(me.Z.Header,null,(null==e?void 0:e.connected)?p.createElement(v.Z,{name:"check circle",color:"green",className:"mr-1"}):p.createElement(v.Z,{name:"times circle",color:"red",className:"mr-1"}),p.createElement("strong",null,null==e||null===(n=e.agent)||void 0===n?void 0:n.displayName)),p.createElement(me.Z.Description,{className:"mt-2 ml-1"},"Users with an account in this user store connected via this agent, can sign in to the My Account and other business applications registered in the organization.")))})),1===Le.length&&p.createElement(me.Z.Item,{columns:2,verticalAlign:"middle"},p.createElement(me.Z.Content,{floated:"right"},p.createElement(pe.Z,{color:"orange",onClick:function(){(0,ge.RA)(h,y).then((function(e){G(e.token),be(!0)})).catch((function(){R((0,u.V_)({description:w("remoteUserStores:notifications.tokenGenerateError.description"),level:c.QU.ERROR,message:w("userstores:notifications.tokenGenerateError.message")}))}))},disabled:U||i},w("remoteUserStores:pages.edit.generalSettings.connections.actions.generate"))),p.createElement(me.Z.Content,null,p.createElement(me.Z.Header,null,p.createElement(v.Z,{name:"times circle",color:"red",className:"mr-1"}),p.createElement("strong",null,"On-Prem-Agent-2")),p.createElement(me.Z.Description,{className:"mt-2 ml-1"},w("extensions:manage.features.userStores.edit.general.connectionsSections.agents.agentTwo.description"),p.createElement(d.eb,{link:Z("manage.userStores.highAvailability.learnMore")},w("common:learnMore")))))))),p.createElement(de.Z,{hidden:!0}),p.createElement(de.Z,{hidden:!0}),J&&p.createElement(d.cV,{"data-testid":"".concat(A,"-confirmation-modal"),onClose:function(){return ie(!1)},type:"warning",open:ae,assertionHint:w("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:w("common:confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){ie(!1),xe(null)},onPrimaryActionClick:function(){return function(e){(0,ge.uv)(h,e.agent.Id,y).then((function(){ie(!1),_e()})).catch((function(){R((0,u.V_)({description:w("remoteUserStores:notifications.disconnectError.description"),level:c.QU.ERROR,message:w("remoteUserStores:notifications.disconnectError.message")}))}))}(J)},closeOnDimmerClick:!1},p.createElement(d.cV.Header,{"data-testid":"".concat(A,"-confirmation-modal-header")},w("user:deleteUser.confirmationModal.header")),p.createElement(d.cV.Message,{"data-testid":"".concat(A,"-confirmation-modal-message"),attached:!0,warning:!0},"This action is irreversible and will disconnect the user store agent connection."),p.createElement(d.cV.Content,null,p.createElement("div",{className:"modal-alert-wrapper"}," ",ke&&Ie),"If you disconnect the user store agent connection users onboarded from the remote user store will not be able to log in to My Account or any other applications onboarded in Asgardeo.")),ne&&p.createElement(d.cV,{"data-testid":"".concat(A,"-confirmation-modal"),onClose:function(){return fe(!1)},type:"warning",open:le,assertionHint:w("user:deleteUser.confirmationModal.assertionHint"),assertionType:"checkbox",primaryAction:w("common:confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){fe(!1),xe(null)},onPrimaryActionClick:function(){return function(e){(0,ge.ef)(e.tokenId,h,y).then((function(e){0===I?j(e.token):D(e.token),fe(!1),Ze(!0),re(null)})).catch((function(){R((0,u.V_)({description:w("remoteUserStores:notifications.tokenGenerateError.description"),level:c.QU.ERROR,message:w("userstores:notifications.tokenGenerateError.message")}))}))}(ne)},closeOnDimmerClick:!1},p.createElement(d.cV.Header,{"data-testid":"".concat(A,"-confirmation-modal-header")},w("user:deleteUser.confirmationModal.header")),p.createElement(d.cV.Message,{"data-testid":"".concat(A,"-confirmation-modal-message"),attached:!0,warning:!0},"This action is irreversible and will revoke the previously used installation token."),p.createElement(d.cV.Content,null,p.createElement("div",{className:"modal-alert-wrapper"}," ",ke&&Ie),"If you regenerate the token the users with the previous token will no longer be authorised to run the user store agent with that token. You will also need to restart the user store agent as revoking the previous token will disconnect the agent..")),!Me&&!U&&p.createElement(d.v9,{sectionHeader:w("common:dangerZone"),"data-testid":"".concat(A,"-danger-zone-group")},p.createElement(d.cN,{actionTitle:w("userstores:dangerZone.disable.actionTitle"),header:"Disable User Store",subheader:w("userstores:dangerZone.disable.subheader"),onActionClick:void 0,"data-testid":"".concat(A,"-delete-danger-zone"),toggle:{checked:i,onChange:function(e,t){var n={operation:"REPLACE",path:"/properties/".concat(T.x$.PROPERTY_NAME_DISABLED),value:Boolean(t.checked).toString()};(0,C.Xv)(h,[n]).then((function(){S(Boolean(t.checked).toString()),R((0,u.V_)({description:w("userstores:notifications.updateUserstore.success.description"),level:c.QU.SUCCESS,message:w("userstores:notifications.updateUserstore.success.message")})),R((0,u.V_)({description:w("userstores:notifications.updateDelay.description"),level:c.QU.WARNING,message:w("userstores:notifications.updateDelay.message")}))})).catch((function(e){R((0,u.V_)({description:(null==e?void 0:e.description)||w("userstores:notifications.updateUserstore.genericError.description"),level:c.QU.ERROR,message:(null==e?void 0:e.message)||w("userstores:notifications.updateUserstore.genericError.message")}))}))}}}),p.createElement(d.cN,{actionTitle:w("userstores:dangerZone.delete.actionTitle"),header:w("userstores:dangerZone.delete.header"),subheader:w("userstores:dangerZone.delete.subheader"),onActionClick:function(){return we(!0)},"data-testid":"".concat(A,"-delete-danger-zone")})),Ae&&p.createElement(d.cV,{onClose:function(){return we(!1)},type:"negative",open:Ae,assertion:null==s?void 0:s.name,assertionHint:w("extensions:manage.features.userStores.delete.assertionHint"),assertionType:"checkbox",primaryAction:w("userstores:confirmation.confirm"),secondaryAction:w("common:cancel"),onSecondaryActionClick:function(){return we(!1)},onPrimaryActionClick:function(){(0,C.oA)(h).then((function(){R((0,u.V_)({description:w("userstores:notifications.deleteUserstore.success.description"),level:c.QU.SUCCESS,message:w("userstores:notifications.deleteUserstore.success.message")})),R((0,u.V_)({description:w("userstores:notifications.delay.description"),level:c.QU.WARNING,message:w("userstores:notifications.delay.message")})),a.m.push(o.$.getPaths().get("USERSTORES"))})).catch((function(e){var t,n;R((0,u.V_)({description:null!==(t=null==e?void 0:e.description)&&void 0!==t?t:w("userstores:notifications.deleteUserstore.genericError.description"),level:c.QU.ERROR,message:null!==(n=null==e?void 0:e.message)&&void 0!==n?n:w("userstores:notifications.deleteUserstore.genericError.message")}))})).finally((function(){we(!1)}))},"data-testid":"".concat(A,"-delete-confirmation-modal"),closeOnDimmerClick:!1},p.createElement(d.cV.Header,{"data-testid":"".concat(A,"-delete-confirmation-modal-header")},w("userstores:confirmation.header")),p.createElement(d.cV.Message,{attached:!0,negative:!0,"data-testid":"".concat(A,"-delete-confirmation-modal-message")},w("userstores:confirmation.message")),p.createElement(d.cV.Content,{"data-testid":"".concat(A,"-delete-confirmation-modal-content")},w("userstores:confirmation.content"))),(Q||Y)&&p.createElement(d.cV,{onClose:function(){return Ze(!1)},type:"warning",open:Re,secondaryAction:w("common:close"),onSecondaryActionClick:function(){Ze(!1),H(null),B(null)}},p.createElement(d.cV.Header,{"data-testid":"".concat(A,"-delete-confirmation-modal-header")},"New Installation Token"),p.createElement(d.cV.Content,{"data-testid":"".concat(A,"-delete-confirmation-modal-content")},Q&&p.createElement(ue.Z,{className:"mt-2 mb-2"},p.createElement(ue.Z.Row,null,p.createElement(ue.Z.Column,{width:16},p.createElement(d.v0,{content:"Make sure to note down the installation token as it will be required when running the user store agent. You won\u2019t be able to see it again!",type:"warning"}),p.createElement("label",null,"Installation token"),p.createElement(d.OR,{value:N||"","data-testid":"".concat(A,"-client-secret-readonly-input")})))),Y&&p.createElement(ue.Z,{className:"mt-2 mb-2"},p.createElement(ue.Z.Row,null,p.createElement(ue.Z.Column,{width:16},p.createElement(d.v0,{content:"Make sure to note down the installation token as it will be required when running the user store agent. You won't be able to see it again!",type:"info"}),p.createElement("label",null,"Installation token"),p.createElement(d.OR,{value:L||"","data-testid":"".concat(A,"-client-secret-readonly-input")})))))),X&&p.createElement(d.cV,{onClose:function(){return be(!1)},type:"warning",open:Se,secondaryAction:w("common:close"),onSecondaryActionClick:function(){be(!1),z(null)}},p.createElement(d.cV.Header,{"data-testid":"".concat(A,"-delete-confirmation-modal-header")},"New Installation Token"),p.createElement(d.cV.Content,{"data-testid":"".concat(A,"-delete-confirmation-modal-content")},X&&p.createElement(ue.Z,{className:"mt-2 mb-2"},p.createElement(ue.Z.Row,null,p.createElement(ue.Z.Column,{width:16},p.createElement(d.v0,{content:"Make sure to note down the installation token as it will be required when running the user store agent. You won't be able to see it again!",type:"warning"}),p.createElement("label",null,"Installation token"),p.createElement(d.OR,{value:$||"","data-testid":"".concat(A,"-client-secret-readonly-input")})))))))},be=n(5840),Ue=n(89801),Ae=n(89497),we=n(59673),Ce=n(93331);const Re=function(e){var t=e["data-componentid"],n=void 0===t?"attribute-mappings-step":t;return p.createElement(Ae.Z,{component:"p","data-componentid":"".concat(n,"-description")},p.createElement(we.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.attributeMapping.description"},"Update the ",p.createElement(Ue.Z,{href:"#tab=".concat(Ce.Ax.CONFIGURATIONS)},"attribute mappings"),"according to remote user store that you connected. Make sure to review the mapped attributes otherwise it may cause errors in the user listings."))};const Ze=function(e){var t=e.docLinkKey,n=e["data-componentid"],r=void 0===n?"configure-step":n,o=(0,g.$)().t,a=(0,d.fQ)().getLink;return p.createElement("div",{"data-componentid":r},p.createElement(Ae.Z,{component:"p",marginBottom:2},o("remoteUserStores:pages.edit.guide.steps.configure.description")),p.createElement(Ae.Z,{component:"p"},p.createElement(we.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.configure.docsDescription"},"See the",p.createElement(d.eb,{link:a(t)},"Asgardeo documentation")," for more details on configuring the user store agent.")))};function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const xe=function(e){var t=e.userStoreManager,n=e.userStoreID,r=e.isUserStoreDisabled,o=e["data-componentid"],a=void 0===o?"generate-token-step":o,i=(0,g.$)().t,s=(0,f.I0)(),l=Oe((0,p.useState)(),2),m=l[0],v=l[1],E=Oe((0,p.useState)(!1),2),y=E[0],S=E[1];return m?p.createElement(p.Fragment,null,p.createElement(d.v0,{content:i("remoteUserStores:pages.edit.guide.steps.token.generatedToken.message"),type:"warning"}),p.createElement("label",null,i("remoteUserStores:pages.edit.guide.steps.token.generatedToken.label")),p.createElement(d.OR,{value:m,"data-componentid":"".concat(a,"-token-readonly-input")})):p.createElement(p.Fragment,null,p.createElement(Ae.Z,{component:"p",gutterBottom:!0},i("remoteUserStores:pages.edit.guide.steps.token.description")),p.createElement(h.Z,{variant:"outlined",onClick:function(){S(!0),(0,ge.RA)(n,t).then((function(e){v(e.token)})).catch((function(){s((0,u.V_)({description:i("remoteUserStores:notifications.tokenGenerateError.description"),level:c.QU.ERROR,message:i("userstores:notifications.tokenGenerateError.message")}))})).finally((function(){S(!1)}))},loading:y,disabled:r,"data-componentid":"".concat(a,"-generate-token")},i("remoteUserStores:pages.edit.guide.steps.token.action")))};var Ie=n(37612);const Me=function(e){var t=e.downloadURL,n=e["data-componentid"],r=void 0===n?"download-agent-step":n,o=(0,g.$)().t;return p.createElement(p.Fragment,null,p.createElement(Ae.Z,{component:"p",marginBottom:2},o("remoteUserStores:pages.edit.guide.steps.download.onPrem.description")),p.createElement(h.Z,{variant:"outlined",startIcon:p.createElement(Ie._8,null),onClick:function(){window.open(t,"_blank","noopener, noreferrer")},"data-componentid":"".concat(r,"-button")},o("remoteUserStores:pages.edit.guide.steps.download.onPrem.action")))};function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Ne=function(e){var t=e.userStoreId,n=e.userStoreManager,r=e["data-componentid"],o=void 0===r?"run-agent-step":r,a=(0,g.$)().t,i=(0,f.I0)(),s=(0,f.v9)((function(e){return e.config.ui.productName})),l=Te((0,p.useState)(!1),2),m=l[0],v=l[1],E=ve(t,n,m),y=E.data,S=E.isLoading,b=E.error,U=E.mutate;(0,p.useEffect)((function(){b&&i((0,u.V_)({description:a("remoteUserStores:notifications.connectionStatusCheckError.description"),level:c.QU.ERROR,message:a("remoteUserStores:notifications.connectionStatusCheckError.message")}))}),[b]);return p.createElement("div",{className:"run-agent-step"},p.createElement(Ae.Z,{component:"p",marginBottom:2},a("remoteUserStores:pages.edit.guide.steps.run.description.onPrem")),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.unix")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"sh wso2agent.sh"}),p.createElement("br",null),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.windows")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"wso2agent.bat  -- run"}),p.createElement(Ae.Z,{component:"p",marginTop:2,marginBottom:1},p.createElement(we.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.run.successMessage.onPrem",tOptions:{productName:s}},"Once the user store agent is connected successfully the message"," ",p.createElement("strong",null,"Agent successfully connected to ".concat(s))," will be displayed in the terminal.")),y||b?(null==y?void 0:y.some((function(e){return e.connected&&e.agent})))?p.createElement(h.Z,{variant:"outlined",startIcon:p.createElement(Ie.nQ,null),color:"success","data-componentid":"".concat(o,"-connection-success-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.successAction")):p.createElement(d.v0,{type:"error",content:p.createElement(p.Fragment,null,a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorMessage"),p.createElement(h.Z,{variant:"outlined",className:"btn-try-again",loading:S,onClick:function(){return U()},"data-componentid":"".concat(o,"-try-again-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorAction"))),"data-componentid":"".concat(o,"-connection-error-message")}):p.createElement(h.Z,{variant:"outlined",loading:S,onClick:function(){return v(!0)},"data-componentid":"".concat(o,"-check-connection-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.action")))};var je=n(63068),_e=n(93139);const Le=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"text/plain","Content-Type":"text/plain"},method:c.f2.GET,responseType:"text",url:e},r=(0,S.Z)(t&&!(0,m.Z)(e)?n:null,{attachToken:!1});return{data:r.data,error:r.error,isLoading:r.isLoading,isValidating:r.isValidating,mutate:r.mutate}};function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var $e=function(e){return e.Linux="Linux",e.LinuxArm="Linux (ARM)",e.Mac="Mac OS",e.Windows="Windows",e}($e||{});const Ge=function(e){var t,n,r,o,a,i,s,l,v,S,b,U,A,w,C,R,Z,O=e.downloadURLs,k=e["data-componentid"],x=void 0===k?"download-agent-step":k,I=(0,g.$)().t,M=(0,f.I0)(),T=De((0,p.useState)(),2),P=T[0],N=T[1],j=[{checkSum:null!==(t=null==O||null===(n=O.linux)||void 0===n?void 0:n.checkSum)&&void 0!==t?t:"",file:null!==(r=null==O||null===(o=O.linux)||void 0===o?void 0:o.file)&&void 0!==r?r:"",os:$e.Linux},{checkSum:null!==(a=null==O||null===(i=O.linuxArm)||void 0===i?void 0:i.checkSum)&&void 0!==a?a:"",file:null!==(s=null==O||null===(l=O.linuxArm)||void 0===l?void 0:l.file)&&void 0!==s?s:"",os:$e.LinuxArm},{checkSum:null!==(v=null==O||null===(S=O.mac)||void 0===S?void 0:S.checkSum)&&void 0!==v?v:"",file:null!==(b=null==O||null===(U=O.mac)||void 0===U?void 0:U.file)&&void 0!==b?b:"",os:$e.Mac},{checkSum:null!==(A=null==O||null===(w=O.windows)||void 0===w?void 0:w.checkSum)&&void 0!==A?A:"",file:null!==(C=null==O||null===(R=O.windows)||void 0===R?void 0:R.file)&&void 0!==C?C:"",os:$e.Windows}],L=(0,p.useMemo)((function(){var e;return null===(e=j.find((function(e){return e.os===P})))||void 0===e?void 0:e.checkSum}),[P]),D=Le(L,!!P),V=D.data,$=D.error,G=D.isLoading,F=D.isValidating,Q=null!==(Z=null==V?void 0:V.split(" ")[0])&&void 0!==Z?Z:"";(0,p.useEffect)((function(){$&&M((0,u.V_)({description:I("remoteUserStores:notifications.checkSumError.description"),level:c.QU.SUCCESS,message:I("remoteUserStores:notifications.checkSumError.message")}))}),[$]);return p.createElement("div",{className:"download-agent-step"},p.createElement(Ae.Z,{component:"p",marginBottom:2},I("remoteUserStores:pages.edit.guide.steps.download.remote.description")),p.createElement(y.Z,{direction:"row",spacing:1},j.map((function(e){return p.createElement(h.Z,{key:e.os,"data-componentid":"".concat(x,"-").concat(e.os,"-button"),size:"small",variant:"outlined",startIcon:p.createElement(Ie._8,null),onClick:function(){return t=e.os,n=e.file,window.open(n,"_blank","noopener, noreferrer"),void N(t);var t,n}},e.os)}))),(G||F)&&p.createElement("div",{"data-componentid":"".concat(x,"-validation-loading-placeholder")},p.createElement(E.Z,{width:"50%"}),p.createElement(E.Z,null),p.createElement(E.Z,null)),!(G||F)&&!(0,m.Z)(Q)&&p.createElement(p.Fragment,null,p.createElement(d.X6,{as:"h4"},I("remoteUserStores:pages.edit.guide.steps.download.remote.verification.heading")),p.createElement(Ae.Z,{component:"p",marginBottom:1},I("remoteUserStores:pages.edit.guide.steps.download.remote.verification.description")),p.createElement(je.Z,{className:"verification-steps-list"},p.createElement(_e.Z,null,p.createElement(Ae.Z,{component:"p",marginBottom:1},p.createElement(we.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.download.remote.verification.step1"},"Execute the following command in the command line. Replace the ",p.createElement(_.Z,null,"FILE_PATH")," with the path of the downloaded agent zip file.")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"shell",sourceCode:function(){switch(P){case $e.Linux:case $e.LinuxArm:return"sha256sum <FILE_PATH>";case $e.Mac:return"shasum -a 256 <FILE_PATH>";case $e.Windows:return"certutil -hashFile <FILE_PATH> SHA256";default:return""}}()})),p.createElement(_e.Z,null,p.createElement(Ae.Z,{component:"p",marginBottom:1},I("remoteUserStores:pages.edit.guide.steps.download.remote.verification.step2")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"shell",sourceCode:Q})))))};function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const He=function(e){var t=e.userStoreId,n=e.userStoreManager,r=e["data-componentid"],o=void 0===r?"run-agent-step":r,a=(0,g.$)().t,i=(0,f.I0)(),s=Fe((0,p.useState)(!1),2),l=s[0],m=s[1],v=ve(t,n,l),E=v.data,y=v.isLoading,S=v.error,b=v.mutate;(0,p.useEffect)((function(){S&&i((0,u.V_)({description:a("remoteUserStores:notifications.connectionStatusCheckError.description"),level:c.QU.ERROR,message:a("remoteUserStores:notifications.connectionStatusCheckError.message")}))}),[S]);return p.createElement(p.Fragment,null,p.createElement(Ae.Z,{component:"p",marginBottom:2},a("remoteUserStores:pages.edit.guide.steps.run.description.remote")),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.unix")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"./remoteagent"}),p.createElement("br",null),p.createElement("strong",null,a("remoteUserStores:pages.edit.guide.steps.run.commands.windows")),p.createElement(d.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:"remoteagent"}),p.createElement(Ae.Z,{component:"p",marginTop:2,marginBottom:1},p.createElement(we.c,{i18nKey:"remoteUserStores:pages.edit.guide.steps.run.successMessage.remote"},"Once the user store agent is connected successfully the message"," ",p.createElement("strong",null,"Successfully connected with the server")," will be displayed in the terminal.")),E||S?(null==E?void 0:E.some((function(e){return e.connected&&e.agent})))?p.createElement(h.Z,{variant:"outlined",startIcon:p.createElement(Ie.nQ,null),color:"success","data-componentid":"".concat(o,"-connection-success-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.successAction")):p.createElement(d.v0,{type:"error",content:p.createElement(p.Fragment,null,a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorMessage"),p.createElement(h.Z,{variant:"outlined",className:"btn-try-again",loading:y,onClick:function(){return b()},"data-componentid":"".concat(o,"-try-again-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.errorAction"))),"data-componentid":"".concat(o,"-connection-error-message")}):p.createElement(h.Z,{variant:"outlined",loading:y,onClick:function(){return m(!0)},"data-componentid":"".concat(o,"-check-connection-button")},a("remoteUserStores:pages.edit.guide.steps.run.checkConnection.action")))};var qe=n(24996),Ye={};Ye.styleTagTransform=z(),Ye.setAttributes=Y(),Ye.insert=H().bind(null,"head"),Ye.domAPI=F(),Ye.insertStyleElement=W();$()(qe.Z,Ye);qe.Z&&qe.Z.locals&&qe.Z.locals;var Be=function(e){var t,n=e.isUserStoreLoading,r=e.userStoreId,o=e.userStoreManager,a=e.isUserStoreDisabled,i=e["data-componentid"],s=void 0===i?"user-store-setup-guide":i,c=(0,g.$)().t,u=(0,f.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.extensions)||void 0===t?void 0:t.userStoreAgentUrls})),m=(0,f.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.extensions)||void 0===t?void 0:t.userStoreAgentUrl})),v=[{stepContent:o===l.uD.RemoteUserStoreManager?p.createElement(Ge,{downloadURLs:null==u?void 0:u.remote}):p.createElement(Me,{downloadURL:null!==(t=null==u?void 0:u.onPrem)&&void 0!==t?t:m}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.download.heading")},{stepContent:p.createElement(Ze,{docLinkKey:"manage.userStores.userStoreProperties.learnMore"}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.configure.heading")},{stepContent:p.createElement(xe,{userStoreManager:o,userStoreID:r,isUserStoreDisabled:a}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.token.heading")},{stepContent:o===l.uD.RemoteUserStoreManager?p.createElement(He,{userStoreId:r,userStoreManager:o}):p.createElement(Ne,{userStoreId:r,userStoreManager:o}),stepTitle:c("remoteUserStores:pages.edit.guide.steps.run.heading")},{stepContent:p.createElement(Re,null),stepTitle:c("remoteUserStores:pages.edit.guide.steps.attributeMapping.heading")}];return n?p.createElement(d.pJ,{padded:"very"},p.createElement(E.Z,{component:"h1",width:"50%"}),p.createElement(E.Z,null),p.createElement(E.Z,null),p.createElement(E.Z,null)):p.createElement(d.pJ,{padded:"very",className:"userstore-setup-guide"},p.createElement(d.X6,{as:"h3"},c("remoteUserStores:pages.edit.guide.heading"),p.createElement(d.X6,{subHeading:!0,as:"h6"},c("remoteUserStores:pages.edit.guide.subHeading"))),p.createElement(de.Z,{hidden:!0}),p.createElement(ue.Z,null,p.createElement(ue.Z.Row,null,p.createElement(ue.Z.Column,{width:16},p.createElement(ue.Z,null,p.createElement(ue.Z.Row,null,p.createElement(ue.Z.Column,{width:10},p.createElement(be.t,{alwaysOpen:!0,isSidePanelOpen:!1,stepContent:v,isNextEnabled:!0,"data-testid":"".concat(s,"-vertical-stepper")}))))))))};function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const ze=function(e){var t,n,h=e.match,E=e["data-componentid"],y=void 0===E?"remote-user-store-edit-page":E,S=(0,f.I0)(),b=(0,g.$)().t,U=null===(t=h.params.id)||void 0===t?void 0:t.split("#")[0],A=(0,f.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.userStores})),w=(0,r.EV)(null==A||null===(n=A.scopes)||void 0===n?void 0:n.update),C=We((0,p.useState)(""),2),R=C[0],Z=C[1],O=(0,i.Z)(U,!(0,m.Z)(U)),k=O.data,x=O.isLoading,I=O.error,M=O.remainingRetryCount,T=O.mutate,P=null==k?void 0:k.typeName;(0,p.useEffect)((function(){if(I){var e;if(404===(null===(e=I.response)||void 0===e?void 0:e.status)&&M>0)return;S((0,u.V_)({description:b("userstores:notifications.fetchUserstores.genericError.description"),level:c.QU.ERROR,message:b("userstores:notifications.fetchUserstores.genericError.message")}))}}),[I]),(0,p.useEffect)((function(){var e;k&&Z(null==k||null===(e=k.properties)||void 0===e||null===(e=e.find((function(e){return e.name===l.rr})))||void 0===e?void 0:e.value)}),[k]);var N,j="true"===R,_=function(){setTimeout((function(){T()}),3e3)},L=[{"data-tabid":Ce.Ax.GUIDE,menuItem:b("remoteUserStores:pages.edit.tabs.guide"),render:function(){return p.createElement(d.M$.Pane,{controlledSegmentation:!0,attached:!1},p.createElement(Be,{isUserStoreLoading:x,userStoreId:U,userStoreManager:P,isUserStoreDisabled:j}))}},{"data-tabid":Ce.Ax.GENERAL,menuItem:b("remoteUserStores:pages.edit.tabs.general"),render:function(){return p.createElement(d.M$.Pane,{controlledSegmentation:!0,attached:!1},p.createElement(Se,{isDisabled:j,userStore:k,userStoreId:U,userStoreManager:P,handleUserStoreDisabled:function(e){return Z(e)},isReadOnly:!w}))}},{"data-tabid":Ce.Ax.CONFIGURATIONS,menuItem:b("remoteUserStores:pages.edit.tabs.configurations"),render:function(){return p.createElement(d.M$.Pane,{controlledSegmentation:!0,attached:!1},p.createElement(le,{userStore:k,userStoreId:U,userStoreManager:P,isLoading:x,isReadOnly:!w,onUpdate:_,isUserStoreDisabled:j}))}}];return p.createElement(d.O9,{image:p.createElement(d.dn,{bordered:!0,defaultIcon:!0,size:"x60",relaxed:"very",shape:"rounded",hoverable:!1,icon:(0,s.jw)()}),title:p.createElement(p.Fragment,null,(N="true"===R,p.createElement(d.GI,{trigger:p.createElement(v.Z,{className:"mr-2 ml-0 vertical-aligned-baseline",size:"small",name:"circle",color:N?"red":"green"}),content:b(N?"common:disabled":"common:enabled"),inverted:!0})),null==k?void 0:k.name),backButton:{onClick:function(){a.m.push(o.$.getPaths().get("USERSTORES"))},text:b("userstores:pageLayout.edit.back")},titleTextAlign:"left",bottomMargin:!1,isLoading:x||!k,"data-componentid":"".concat(y,"-layout"),className:"remote-user-store-edit-page"},p.createElement(d.M$,{className:"remote-user-store-edit-section",panes:L,"data-componentid":"".concat(y,"-tabs"),defaultActiveTab:Ce.Ax.GENERAL,isLoading:x||!k,controlTabRedirectionInternally:!0}))}},29051:(e,t,n)=>{n.d(t,{D:()=>i});var r=n(38463),o=n(86105),a=n(12754),i=function(e,t){var n=(0,o.cr)(e,a.x$.FEATURE_DICTIONARY.get(a.FC.ClassicUserStoreReadGroups)),i=(0,o.cr)(e,a.x$.FEATURE_DICTIONARY.get(a.FC.OptimizedUserStoreReadGroups));return t===r.uD.WSOutboundUserStoreManager&&n||t===r.uD.RemoteUserStoreManager&&i}},56758:(e,t,n)=>{n.d(t,{u:()=>r});var r=function(e,t){var n=new RegExp(t),r=!1,o="";n.test(e)&&(r=!0,null!=n.exec(e)&&(o=n.exec(e).toString()));var a=new Map;return a.set("isMatch",r),a.set("invalidStringValue",o),a}},72025:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(96124),o=n(76271),a=n(6833),i=n(44194);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:a.f2.GET,url:"".concat(o.h.getState().config.endpoints.userStores,"/").concat(e)},l=s((0,i.useState)(10),2),c=l[0],u=l[1],d=(0,r.Z)(t?n:null,{onErrorRetry:function(e,t,n,r,o){var a,i=o.retryCount;404===(null==e||null===(a=e.response)||void 0===a?void 0:a.status)&&(u(10-i),i>=10||setTimeout((function(){return r({retryCount:i})}),2e3))},shouldRetryOnError:!0});return{data:d.data,error:d.error,isLoading:d.isLoading,isValidating:d.isValidating,mutate:d.mutate,remainingRetryCount:c}}},4203:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(92336),o=n(31549),a=n(14517),i=n(44194),s=n(14581);const l=(0,i.forwardRef)(((e,t)=>{var{className:n,children:i,filled:l=!0,outlined:c=!1}=e,u=(0,r.__rest)(e,["className","children","filled","outlined"]);const d=(0,a.Z)("oxygen-code",{filled:l,outlined:c},n);return(0,o.jsx)(s.Z,Object.assign({ref:t,component:"code",className:d},u,{children:i}))}));var c,u,d;c='/**\n * Copyright (c) 2023, WSO2 LLC. (https://www.wso2.com).\n *\n * WSO2 LLC. licenses this file to you under the Apache License,\n * Version 2.0 (the "License"); you may not use this file except\n * in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied. See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.oxygen-code {\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;\n  font-size: inherit;\n  padding: 1px 3px;\n  border-radius: 5px; }\n  .oxygen-code.filled {\n    background-color: var(--oxygen-palette-customComponents-Code-background); }\n  .oxygen-code.outlined {\n    border: 1px solid var(--oxygen-palette-divider); }\n',u=document.getElementsByTagName("head")[0],(d=document.createElement("style")).setAttribute("type","text/css"),d.appendChild(document.createTextNode(c)),u.appendChild(d)},66184:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(92336),o=n(31549),a=n(5590),i=n(14517);const s=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,s=(0,r.__rest)(e,["className"]);const l=(0,i.Z)("oxygen-form-label",n);return(0,o.jsx)(a.Z,Object.assign({ref:t,className:l},s))}))},99050:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(92336),o=n(31549),a=n(23800),i=n(14517);const s=(0,n(44194).forwardRef)(((e,t)=>{var{className:n}=e,s=(0,r.__rest)(e,["className"]);const l=(0,i.Z)("oxygen-skeleton",n);return(0,o.jsx)(a.Z,Object.assign({ref:t,className:l},s))}))},88103:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(51139),o=n.n(r),a=n(32234),i=n.n(a)()(o());i.push([e.id,".userstore-configuration-settings .update-button{align-self:flex-start}",""]);const s=i},24996:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(51139),o=n.n(r),a=n(32234),i=n.n(a)()(o());i.push([e.id,".userstore-setup-guide .run-agent-step .btn-try-again{float:right;margin-top:4px}.userstore-setup-guide .download-agent-step .verification-steps-list{list-style:decimal;margin-left:20px}.userstore-setup-guide .download-agent-step .verification-steps-list li{display:list-item}",""]);const s=i}}]);