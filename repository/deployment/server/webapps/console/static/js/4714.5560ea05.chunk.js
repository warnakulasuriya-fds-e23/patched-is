"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4714],{14714:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var a=n(25134),o=n(1989),i=n(40838),r=n(43939),s=n(6833),c=n(82406),l=n(43516),u=n(44194),d=n(10479),p=n(47245),f=n(43151),g=n(3424),v=n(95241);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,i,r,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var E=function(e){var t=e["data-componentid"],n=i.m.location.pathname.split("/"),m=n[n.length-1],E=(0,d.$)().t,A=(0,p.I0)(),R=(0,p.v9)((function(e){return e.config.ui.features})),y=h((0,u.useState)(1),2),S=y[0],P=y[1],b=h((0,u.useState)(!1),2),I=b[0],T=b[1],N=h((0,u.useState)(!1),2),O=N[0],x=N[1],k=h((0,u.useState)(""),2),C=k[0],G=k[1],M=h((0,u.useState)([]),2),w=M[0],L=M[1],_=h((0,u.useState)(void 0),2),$=_[0],K=_[1],Q=h((0,u.useState)(void 0),2),U=Q[0],j=Q[1],B=h((0,u.useState)(void 0),2),F=B[0],V=B[1],q=h((0,u.useState)(void 0),2),z=q[0],W=q[1],D=h((0,u.useState)(m===v.$d.MANAGEMENT?"type eq ".concat(v.sM.TENANT):"type eq ".concat(v.sM.ORGANIZATION)),2),X=D[0],Z=D[1],J=(0,f.cQ)($,U,X),H=J.data,Y=J.isLoading,ee=J.error,te=J.mutate;(0,u.useEffect)((function(){if(H instanceof r.u)A((0,c.V_)({description:E("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:s.QU.ERROR,message:E("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}));else if(H){var e,t=H.apiResources.map((function(e){return e}));if(V(void 0),W(void 0),H.links&&0!==H.links.length)null===(e=H.links)||void 0===e||e.forEach((function(e){switch(e.rel){case v.KG.NEXT_REL:V(e.href.split("".concat(v.KG.AFTER,"="))[1]);break;case v.KG.PREVIOUS_REL:W(e.href.split("".concat(v.KG.BEFORE,"="))[1])}}));L(t)}}),[H]),(0,u.useEffect)((function(){ee&&A((0,c.V_)({description:E("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:s.QU.ERROR,message:E("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}))}),[ee]),(0,u.useEffect)((function(){I&&(te(),T(!1))}),[I]),(0,u.useEffect)((function(){var e=m===v.$d.MANAGEMENT?"type eq ".concat(v.sM.TENANT):"type eq ".concat(v.sM.ORGANIZATION),t=C?"".concat(C," and ").concat(e):e;j(void 0),K(void 0),Z(t)}),[C]);var ne=function(e,t){K(e),j(t),T(!0)};return u.createElement(l.Xg,{pageTitle:m===v.$d.MANAGEMENT?E("extensions:develop.apiResource.managementAPI.header"):E("extensions:develop.apiResource.organizationAPI.header"),title:m===v.$d.MANAGEMENT?E("extensions:develop.apiResource.managementAPI.header"):E("extensions:develop.apiResource.organizationAPI.header"),"data-componentid":"".concat(t,"-page-layout"),"data-testid":"".concat(t,"-page-layout"),headingColumnWidth:"11",actionColumnWidth:"5",loadingStateOptions:{count:5,imageType:"circular"},backButton:{"data-testid":"".concat(t,"-back-button"),onClick:function(){i.m.push(v.KG.getPaths().get("API_RESOURCES"))},text:E("pages:rolesEdit.backButton",{type:"APIs"})}},u.createElement(l.PS,{advancedSearch:u.createElement(a.n,{onFilter:function(e){G(e)},filterAttributeOptions:[{key:0,text:E("common:name"),value:"name"}],filterAttributePlaceholder:E("applications:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:E("applications:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:E("applications:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:"Search APIs by name",style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:O,"data-componentid":"".concat(t,"-list-advanced-search")}),showTopActionPanel:!0,"data-componentid":"".concat(t,"-api-resources-list-layout"),"data-testid":"".concat(t,"-api-resources-list-layout"),onPageChange:function(e,t){var n=parseInt(null==t?void 0:t.activePage);n>S?ne(F,void 0):n<S&&ne(void 0,z),P(n)},showPagination:!0,totalPages:v.KG.DEFAULT_TOTAL_PAGES,totalListSize:null==w?void 0:w.length,showPaginationPageLimit:!1,isLoading:Y,activePage:S,paginationOptions:{disableNextButton:!F,disablePreviousButton:!z}},ee?u.createElement(l.$J,{subtitle:[E("extensions:develop.apiResource.apiResourceError.subtitles.0"),E("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:E("extensions:develop.apiResource.apiResourceError.title"),image:(0,o.jF)().genericError,imageSize:"tiny"}):u.createElement(g.v,{apiResourcesList:w,isAPIResourcesListLoading:Y,featureConfig:R,onAPIResourceDelete:null,onSearchQueryClear:function(){G(""),x(!O)},searchQuery:C,categoryId:m})))};E.defaultProps={"data-componentid":"api-resources-internal-list"};const A=E}}]);