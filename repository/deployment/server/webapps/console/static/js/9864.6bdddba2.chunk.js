"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[9864,6512],{76096:(e,t,n)=>{n.d(t,{z:()=>T});var r=n(37746),i=n(43974),o=n(90955),a=n(6833),l=n(82406),c=n(43516),s=n(91009),u=n(29893),p=n(50699),d=n(44194),f=n(10479),h=n(47245),m=n(47018),g=n(19980),v=n(719),E=n(62508),y=n(99664);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}var b=["applicationId","clientId","onApplicationSharingCompleted","onClose","data-componentid"];function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(null,arguments)}function w(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(){O=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),l=new N(r||[]);return i(a,"_invoke",{value:R(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",m="completed",g={};function v(){}function E(){}function y(){}var b={};s(b,a,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(x([])));w&&w!==n&&r.call(w,a)&&(b=w);var I=y.prototype=v.prototype=Object.create(b);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,o,a,l){var c=p(e[i],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==A(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function R(t,n,r){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=C(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var s=p(t,n,r);if("normal"===s.type){if(i=r.done?m:f,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=m,r.method="throw",r.arg=s.arg)}}}function C(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function x(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(A(t)+" is not iterable")}return E.prototype=y,i(I,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:E,configurable:!0}),E.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(I),e},t.awrap=function(e){return{__await:e}},L(_.prototype),s(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(I),s(I,c,"Generator"),s(I,a,(function(){return this})),s(I,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=x,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function I(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){I(o,r,i,a,l,"next",e)}function l(e){I(o,r,i,a,l,"throw",e)}a(void 0)}))}}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){return e[e.SHARE_ALL=0]="SHARE_ALL",e[e.SHARE_SELECTED=1]="SHARE_SELECTED",e[e.UNSHARE=2]="UNSHARE",e}(P||{}),T=function(e){var t=e.applicationId,n=e.clientId,A=e.onApplicationSharingCompleted,I=e.onClose,R=e["data-componentid"],C=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,b),T=(0,h.I0)(),N=(0,f.$)().t,x=(0,h.v9)((function(e){return e.organization.organization})),j=_((0,d.useState)([]),2),Z=j[0],k=j[1],D=_((0,d.useState)([]),2),U=D[0],M=D[1],z=_((0,d.useState)(P.SHARE_ALL),2),H=z[0],F=z[1],V=_((0,d.useState)([]),2),G=V[0],Q=V[1],W=_((0,d.useState)([]),2),B=W[0],X=W[1],Y=_((0,d.useState)(),2),q=Y[0],$=Y[1],K=(0,r.Z)().isOrganizationManagementEnabled,J=i.l.getInstance();(0,d.useEffect)((function(){return k(G||[])}),[G]),(0,d.useEffect)((function(){return M(B||[])}),[B]),(0,d.useEffect)((function(){open&&K&&((0,o.jX)(null,null,null,null,!0,!1).then((function(e){Q(e.organizations)})).catch((function(e){null!=e&&e.description?T((0,l.V_)({description:e.description,level:a.QU.ERROR,message:N("organizations:notifications.getOrganizationList.error.message")})):T((0,l.V_)({description:N("organizations:notifications.getOrganizationList.genericError.description"),level:a.QU.ERROR,message:N("organizations:notifications.getOrganizationList.genericError.message")}))})),(0,o.DM)(x.id,t).then((function(e){X(e.data.organizations)})).catch((function(e){e.response.data.description?T((0,l.V_)({description:e.response.data.description,level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")})):T((0,l.V_)({description:N("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.description"),level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.getSharedOrganizations.genericError.message")}))})))}),[o.jX,open]);var ee=(0,d.useCallback)(L(O().mark((function e(){var r,i,c,u;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H!==P.SHARE_ALL){e.next=4;break}r={shareWithAllChildren:!0},e.next=14;break;case 4:if(H!==P.SHARE_SELECTED){e.next=14;break}if(!H){e.next=11;break}return c=U.map((function(e){return e.id})),e.next=9,(0,o.An)(t);case 9:e.next=13;break;case 11:c=(0,s.Z)(U,B,"id").map((function(e){return e.id})),i=(0,s.Z)(B,U,"id");case 13:r={shareWithAllChildren:!1,sharedOrganizations:c};case 14:H===P.SHARE_ALL||H===P.SHARE_SELECTED?((0,o.Bn)(x.id,t,r).then((function(){I(null,null),T((0,l.V_)({description:N("applications:edit.sections.shareApplication.addSharingNotification.success.description"),level:a.QU.SUCCESS,message:N("applications:edit.sections.shareApplication.addSharingNotification.success.message")})),J.publish("application-share",{"client-id":n})})).catch((function(e){I(null,null),e.response.data.message?T((0,l.V_)({description:e.response.data.message,level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):T((0,l.V_)({description:N("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})),J.publish("application-share-error",{"client-id":n})})).finally((function(){return A()})),null===(u=i)||void 0===u||u.forEach((function(e){(0,o.NY)(x.id,t,e.id).then((function(){I(null,null),T((0,l.V_)({description:N("applications:edit.sections.shareApplication.stopSharingNotification.success.description",{organization:e.name}),level:a.QU.SUCCESS,message:N("applications:edit.sections.shareApplication.stopSharingNotification.success.message")})),J.publish("application-share",{"client-id":n})})).catch((function(t){I(null,null),t.response.data.message?T((0,l.V_)({description:t.response.data.message,level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")})):T((0,l.V_)({description:N("applications:edit.sections.shareApplication.stopSharingNotification.genericError.description",{organization:e.name}),level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.stopSharingNotification.genericError.message")})),J.publish("application-share-error",{"client-id":n})}))}))):H===P.UNSHARE&&(0,o.An)(t).then((function(){I(null,null),T((0,l.V_)({description:N("applications:edit.sections.shareApplication.addSharingNotification.success.description"),level:a.QU.SUCCESS,message:N("applications:edit.sections.shareApplication.addSharingNotification.success.message")})),J.publish("application-share",{"client-id":n})})).catch((function(e){I(null,null),e.response.data.message?T((0,l.V_)({description:e.response.data.message,level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})):T((0,l.V_)({description:N("applications:edit.sections.shareApplication.addSharingNotification.genericError.description"),level:a.QU.ERROR,message:N("applications:edit.sections.shareApplication.addSharingNotification.genericError.message")})),J.publish("application-share-error",{"client-id":n})})).finally((function(){return A()}));case 15:case"end":return e.stop()}}),e)}))),[B,U,o.NY,T,x.id,t,I,H]),te=(0,d.useCallback)((function(){U.length!==G.length?M(G):M([])}),[G,k,U]);return d.createElement(m.Z,S({isLoading:!0,closeOnDimmerClick:!0,dimmer:"blurring",size:"tiny",closeOnDocumentClick:!0,closeOnEscape:!0,"data-testid":"".concat(R,"-share-application-modal"),"data-componentid":"".concat(R,"-share-application-modal")},C),d.createElement(m.Z.Header,null,N("applications:edit.sections.shareApplication.heading")),d.createElement(m.Z.Content,null,d.createElement(c.X6,{ellipsis:!0,as:"h6"},N("organizations:shareApplicationSubTitle")),d.createElement(g.Z,{basic:!0},d.createElement(v.Z,{label:N("organizations:shareApplicationRadio"),onChange:function(){return F(P.SHARE_ALL)},checked:H===P.SHARE_ALL,"data-componentid":"".concat(R,"-share-with-all-checkbox")}),d.createElement(c.kW,{popup:!0,inline:!0},N("organizations:shareApplicationInfo")),d.createElement(E.Z,{hidden:!0,className:"mb-1 mt-0"}),d.createElement(v.Z,{label:N("organizations:shareWithSelectedOrgsRadio"),onChange:function(){return F(P.SHARE_SELECTED)},checked:H===P.SHARE_SELECTED,"data-componentid":"".concat(R,"-share-with-all-checkbox")}),d.createElement(y.Z,{visible:H===P.SHARE_SELECTED,animation:"slide down",duration:1e3},d.createElement(c.IX,{className:"pl-2",disabled:H!==P.SHARE_SELECTED,selectionComponent:!0,searchPlaceholder:N("transferList:searchPlaceholder",{type:"organizations"}),handleUnelectedListSearch:function(e,t){var n=t.value,r=[];if((0,p.Z)(n))k(G);else{$(n);var i=new RegExp((0,u.Z)(n),"i");G&&G.map((function(e){i.test(e.name)&&r.push(e)})),k(r)}},"data-componentId":"application-share-modal-organization-transfer-component"},d.createElement(c.Jv,{disabled:H!==P.SHARE_SELECTED,isListEmpty:!((null==Z?void 0:Z.length)>0),handleHeaderCheckboxChange:te,isHeaderCheckboxChecked:(null==U?void 0:U.length)===(null==G?void 0:G.length),listType:"unselected",listHeaders:[N("transferList:list.headers.1"),""],emptyPlaceholderContent:N("console:develop.placeholders.emptySearchResult.subtitles.0",{query:q})+". "+N("console:develop.placeholders.emptySearchResult.subtitles.1"),"data-testid":"application-share-modal-organization-transfer-component-all-items",emptyPlaceholderDefaultContent:N("transferList:list.emptyPlaceholders.default")},null==Z?void 0:Z.map((function(e,t){var n=null==e?void 0:e.name,r=-1!==U.findIndex((function(t){return t.id===e.id}));return d.createElement(c.qT,{disabled:H!==P.SHARE_SELECTED,handleItemChange:function(){return function(e){var t=w(U),n=t.findIndex((function(t){return t.id===e.id}));-1!==n?(t.splice(n,1),M(t)):(t.push(e),M(t))}(e)},key:t,listItem:n,listItemId:e.id,listItemIndex:t,isItemChecked:r,showSecondaryActions:!1,"data-testid":"application-share-modal-organization-transfer-component -unselected-organizations"})}))))))),d.createElement(m.Z.Actions,null,d.createElement(c.Qj,{"data-testid":"".concat(R,"-cancel-button"),onClick:function(){return A()}},N("common:cancel")),d.createElement(c.KM,{disabled:H===P.SHARE_SELECTED&&(0==(null==U?void 0:U.length)||!G),onClick:function(){ee()},"data-testid":"".concat(R,"-save-button")},N("applications:edit.sections.shareApplication.shareApplication"))))};T.defaultProps={"data-componentid":"application-share-modal"}},66169:(e,t,n)=>{n.d(t,{y:()=>Ae});var r=n(84882),i=n(9779),o=n(55007),a=n(5262),l=n(17028),c=n(4244),s=n(1989),u=n(60486),p=n(40838),d=n(37746),f=n(76271),h=n(43974),m=n(51021),g=n(29314),v=n(87029),E=n(21257),y=n(7231),A=n(86105),b=n(6833),S=n(82406),w=n(96334),O=n(43516),I=n(47513),L=n(64704),_=n(50699),R=n(95223),C=n(2446),P=n(23744),T=n(44194),N=n(10479),x=n(47245),j=n(50735),Z=n(89141),k=n(95165),D=n(62508),U=n(39114),M=n(76314),z=n(89331),H=n(18220),F=n(6567),V=n(29903),G=n(9821),Q=n(89608),W=n(45572),B=n(56514),X=n(84548),Y=n(48773),q=n(35407),$=n(76096),K=n(51835),J=n.n(K),ee=n(27975),te=n.n(ee),ne=n(55900),re=n.n(ne),ie=n(21555),oe=n.n(ie),ae=n(3621),le=n.n(ae),ce=n(5062),se=n.n(ce),ue=n(35601),pe={};pe.styleTagTransform=se(),pe.setAttributes=oe(),pe.insert=re().bind(null,"head"),pe.domAPI=te(),pe.insertStyleElement=le();J()(ue.Z,pe);ue.Z&&ue.Z.locals&&ue.Z.locals;function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function fe(){fe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),l=new P(r||[]);return i(a,"_invoke",{value:L(e,n,l)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",m="completed",g={};function v(){}function E(){}function y(){}var A={};s(A,a,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(T([])));S&&S!==n&&r.call(S,a)&&(A=S);var w=y.prototype=v.prototype=Object.create(A);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,o,a,l){var c=p(e[i],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==de(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(u).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function L(t,n,r){var i=d;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var c=_(l,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var s=p(t,n,r);if("normal"===s.type){if(i=r.done?m:f,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=m,r.method="throw",r.arg=s.arg)}}}function _(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(de(t)+" is not iterable")}return E.prototype=y,i(w,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:E,configurable:!0}),E.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(I.prototype),s(I.prototype,l,(function(){return this})),t.AsyncIterator=I,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new I(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(w),s(w,c,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function he(e,t,n,r,i,o,a){try{var l=e[o](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,i)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ae=function(e){var t=e.title,n=e.closeWizard,K=e.template,J=e.subTemplates,ee=e.subTemplatesSectionTitle,te=e.subTitle,ne=e.templateLoadingStrategy,re=(e.setIsApplicationSharingEnabled,e["data-testid"]),ie=e["data-componentid"],oe=(0,N.$)().t,ae=(0,O.fQ)().getLink,le=(0,E.z)().isSuperOrganization,ce=(0,x.I0)(),se=(0,d.Z)().isOrganizationManagementEnabled,ue=f.h.getState().config.deployment.tenant,pe=Ee((0,w.cC)(),2),de=pe[0],me=pe[1],ve=Ee((0,w.cC)(),2),ye=ve[0],Ae=ve[1],be=(0,x.v9)((function(e){var t;return null===(t=e.config)||void 0===t||null===(t=t.deployment)||void 0===t||null===(t=t.extensions)||void 0===t?void 0:t.asgardeoReservedAppRegex})),Se=(0,x.v9)((function(e){return e.config.ui.isClientSecretHashEnabled})),we=(0,x.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),Oe=(0,x.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.features})),Ie=(0,A.cr)(null==Oe?void 0:Oe.applications,G.j.FEATURE_DICTIONARY.get("FAPI_APP_CREATION")),Le=(0,x.v9)((function(e){return e.organization.isFirstLevelOrganization})),_e=Ee((0,T.useState)(null),2),Re=_e[0],Ce=_e[1],Pe=Ee((0,T.useState)(void 0),2),Te=Pe[0],Ne=Pe[1],xe=Ee((0,T.useState)(Y.AI.OAUTH2_OIDC),2),je=xe[0],Ze=xe[1],ke=Ee((0,T.useState)(!1),2),De=ke[0],Ue=ke[1],Me=Ee((0,T.useState)(void 0),2),ze=Me[0],He=Me[1],Fe=Ee((0,T.useState)(K),2),Ve=Fe[0],Ge=Fe[1],Qe=Ee((0,T.useState)([]),2),We=Qe[0],Be=Qe[1],Xe=Ee((0,T.useState)(!1),2),Ye=Xe[0],qe=Xe[1],$e=Ee((0,T.useState)(!1),2),Ke=$e[0],Je=$e[1],et=Ee((0,T.useState)(!1),2),tt=et[0],nt=et[1],rt=Ee((0,T.useState)(!1),2),it=rt[0],ot=rt[1],at=Ee((0,T.useState)(!1),2),lt=at[0],ct=at[1],st=Ee((0,T.useState)(!1),2),ut=st[0],pt=st[1],dt=Ee((0,T.useState)(void 0),2),ft=dt[0],ht=dt[1],mt=(0,T.useRef)(),gt=(0,T.useRef)(),vt=(0,T.useRef)(),Et=Ee((0,T.useState)(void 0),2),yt=Et[0],At=Et[1],bt=Ee((0,O.IK)(),3),St=bt[0],wt=bt[1],Ot=bt[2],It=h.l.getInstance();(0,T.useEffect)((function(){ft&&pt(!0)}),[ft]),(0,T.useEffect)((function(){if(Ve&&Ve.id!==Q.id&&le()){var e=[];(0,a.Z)().then((function(t){t.map((function(t){e.push(t.url)}))})),Be(e),wt(null)}}),[Ve]),(0,T.useEffect)((function(){Ve.id!==Q.id?(0,_.Z)(J)||!Array.isArray(J)||J.length<1?Tt(K.id,K):(Ge(J[0]),Tt(J[0].id,J[0])):Ce(Q)}),[J]),(0,T.useEffect)((function(){var e;if(jt("all",!1),(Ve.id!==Q.id||je!==Y.AI.WS_FEDERATION)&&(Te||ze)){if(!Te){var t;if(Ve.id===Q.id&&je===Y.AI.SAML)return;if(null!=K&&K.authenticationProtocol||(null===(t=K.subTemplates)||void 0===t?void 0:t.length)>0)return}if(ze){var n,r=(0,I.Z)(Re),i="inboundProtocolConfiguration.oidc.callbackURLs",o=(0,L.Z)(Te,i,[]);if((0,_.Z)(null==o?void 0:o.filter(Boolean))||((0,C.Z)(r,"application.".concat(i),[]),(0,C.Z)(r,"application.".concat("inboundProtocolConfiguration.oidc.allowedOrigins"),[])),null!=r&&null!==(e=r.application)&&void 0!==e&&null!==(e=e.inboundProtocolConfiguration)&&void 0!==e&&null!==(e=e.saml)&&void 0!==e&&e.templateConfiguration)null==r||null===(n=r.application)||void 0===n||null===(n=n.inboundProtocolConfiguration)||void 0===n||null===(n=n.saml)||void 0===n||delete n.templateConfiguration;var a,l=(0,I.Z)((0,R.Z)(null==r?void 0:r.application,Te));if(l.name=ze.get("name").toString(),l.templateId=Ve.id,(0,_.Z)(l.associatedRoles)&&(l.associatedRoles={allowedAudience:y.nL.DEFAULT_ROLE_AUDIENCE,roles:[]}),Ve.id===Q.id)if(je===Y.AI.OAUTH2_OIDC)l.templateId=G.j.CUSTOM_APPLICATION_OIDC,l.inboundProtocolConfiguration={oidc:{grantTypes:["client_credentials"],isFAPIApplication:(null===(a=ze.get("isFAPIApp"))||void 0===a?void 0:a.length)>=2}};else je===Y.AI.SAML&&(l.templateId=G.j.CUSTOM_APPLICATION_SAML,yt===Y.T6.MANUAL&&(l.inboundProtocolConfiguration.saml.manualConfiguration=Object.assign(l.inboundProtocolConfiguration.saml.manualConfiguration,{attributeProfile:{alwaysIncludeAttributesInResponse:!0,enabled:!0}})));Ve.id===X.u.M2M_APPLICATION&&(l.inboundProtocolConfiguration={oidc:{grantTypes:[G.j.CLIENT_CREDENTIALS_GRANT]}}),Ue(!0),Rt(l)}}}),[ze,Te]),(0,T.useEffect)((function(){if(Te){var e=(0,I.Z)(ge(ge(ge({},null==Re?void 0:Re.application),Te),{},{name:ze.get("name").toString(),templateId:G.j.CUSTOM_APPLICATION_PASSIVE_STS}));je===Y.AI.WS_FEDERATION&&Te&&Rt(e)}}),[Te]);var Lt,_t,Rt=function(e){(0,F.W3)(e).then((function(t){It.compute((function(){Ve.id===Q.id?It.publish("application-register-new-application",{type:e.templateId}):It.publish("application-register-new-application",{type:Ve.templateId})})),ce((0,S.V_)({description:oe("applications:notifications.addApplication.success.description"),level:b.QU.SUCCESS,message:oe("applications:notifications.addApplication.success.message")}));var n=t.headers.location,r=n.substring(n.lastIndexOf("/")+1);lt?ht(r):Ct(r)})).catch((function(e){var t,n;if(403!==(null==e||null===(t=e.response)||void 0===t?void 0:t.status)||(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.code)!==G.j.ERROR_CREATE_LIMIT_REACHED.getErrorCode())if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===G.j.ERROR_CODE_ISSUER_EXISTS)tt&&(yt!==Y.T6.MANUAL?(wt({description:e.response.data.description,level:b.QU.ERROR,message:oe("applications:notifications.addApplication.error.message")}),Zt()):(jt("issuer",!0),Nt("issuer")));else if(e.response&&e.response.data&&e.response.data.code&&e.response.data.code===G.j.ERROR_CODE_INVALID_METADATA_URL)tt&&(jt("metaUrl",!0),Nt("metaUrl"));else{if(e.response&&e.response.data&&e.response.data.description)return wt({description:e.response.data.description,level:b.QU.ERROR,message:oe("applications:notifications.addApplication.error.message")}),void Zt();wt({description:oe("applications:notifications.addApplication.genericError.description"),level:b.QU.ERROR,message:oe("applications:notifications.addApplication.genericError.message")}),Zt()}else ot(!0)})).finally((function(){Ue(!1),xt(!1),jt("all",!1)}))},Ct=function(e){if(!(0,_.Z)(e)){var t="?",n=0;return Ve.id!==B.id&&Ve.id!==W.id&&Se&&(t="".concat(t,"&").concat(G.j.CLIENT_SECRET_HASH_ENABLED_URL_SEARCH_PARAM_KEY,"=true")),Ve.id===Q.id&&(n=m.tZ.customApplication.defaultTabIndex),void p.m.push({hash:"#".concat(X.El.TAB_INDEX).concat(n),pathname:u.$.getPaths().get("APPLICATION_EDIT").replace(":id",e),search:t})}p.m.push(u.$.getPaths().get("APPLICATIONS"))},Pt=function(){n()},Tt=function(e,t){ne!==X.IJ.LOCAL?(0,F.FG)(e).then((function(e){Ce(e)})).catch((function(e){e.response&&e.response.data&&e.response.data.description?ce((0,S.V_)({description:e.response.data.description,level:b.QU.ERROR,message:oe("applications:notifications.fetchTemplate.error.message")})):ce((0,S.V_)({description:oe("applications:notifications.fetchTemplate.genericError.description"),level:b.QU.ERROR,message:oe("applications:notifications.fetchTemplate.genericError.message")}))})):Ce(t)},Nt=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"name":mt.current.scrollIntoView(t);break;case"issuer":gt.current.scrollIntoView(t);var n=gt.current.children[0].children[1].children[0];n.focus(),n.blur();break;case"metaUrl":vt.current.scrollIntoView(t);var r=vt.current.children[0].children[1].children[0];r.focus(),r.blur()}},xt=function(e){nt(e)},jt=function(e,t){switch(e){case"issuer":qe(t);break;case"metaUrl":Je(t);break;default:Je(t),qe(t)}},Zt=function(){var e;null===(e=document.getElementById("notification-div"))||void 0===e||e.scrollIntoView({behavior:"smooth"})},kt=function(){var e,t=(e=fe().mark((function e(t,n){var r,i,o;return fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.toString().trim(),Ut(r)){e.next=5;break}return n.isValid=!1,n.errorMessages.push(oe("applications:forms.spaProtocolSettingsWizard.fields.name.validations.invalid",{appName:t.toString(),characterLimit:G.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 5:if(!Dt(r)){e.next=9;break}return n.isValid=!1,n.errorMessages.push(oe("applications:forms.generalDetails.fields.name.validations.reserved",{appName:r,characterLimit:G.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH})),e.abrupt("return");case 9:return i=null,e.prev=10,e.next=13,(0,F.AY)(null,null,"name eq "+t.toString());case 13:i=e.sent,(null===(o=i)||void 0===o||null===(o=o.applications)||void 0===o?void 0:o.length)>0&&(n.isValid=!1,n.errorMessages.push(oe("applications:forms.generalDetails.fields.name.validations.duplicate"))),e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(10),!(e.t0.response&&e.t0.response.data&&e.t0.response.data.description)){e.next=22;break}return ce((0,S.V_)({description:e.t0.response.data.description,level:b.QU.ERROR,message:oe("applications:notifications.fetchApplications.error.message")})),e.abrupt("return");case 22:ce((0,S.V_)({description:oe("applications:notifications.fetchApplications.genericError.description"),level:b.QU.ERROR,message:oe("applications:notifications.fetchApplications.genericError.message")}));case 23:case"end":return e.stop()}}),e,null,[[10,17]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){he(o,r,i,a,l,"next",e)}function l(e){he(o,r,i,a,l,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),Dt=function(e){if(!be)return!1;var t=new RegExp(be);return e&&t.test(e)},Ut=function(e){return e&&!!e.match(G.j.FORM_FIELD_CONSTRAINTS.APP_NAME_PATTERN)},Mt=function(){var e=J&&J instanceof Array&&J.length>0,t=Ve.id===Q.id;if(!e&&!t)return null;if("mobile"===K.id||"desktop"===K.id)return null;var n=t?function(e){var t=Object.values(Y.AI);t=t.filter((function(t){return m.tZ.customApplication.allowedProtocolTypes&&m.tZ.customApplication.allowedProtocolTypes.length>0?!!m.tZ.customApplication.allowedProtocolTypes.includes(t)&&t:!(t===Y.AI.WS_TRUST||t===Y.AI.OIDC||t===Y.AI.CUSTOM||e&&t===e)&&t}));var n=[Y.AI.OAUTH2_OIDC,Y.AI.SAML,Y.AI.WS_FEDERATION];return(0,P.Z)(t,(function(e){return n.indexOf(e)}))}():J;return T.createElement(Z.Z.Row,{className:"pt-0 mt-0"},T.createElement(Z.Z.Column,{mobile:16,tablet:16,computer:14},T.createElement("div",{className:"sub-template-selection"},T.createElement("label",{className:"sub-templates-label"},ee),T.createElement(k.Z.Group,{itemsPerRow:3,className:"sub-templates"},n.map((function(e,n){var r=t?e:e.id,i=t?e:e.image,o=t?e===Y.AI.OAUTH2_OIDC?T.createElement(T.Fragment,null,T.createElement("div",null,"OAuth2.0"),T.createElement("div",null,"OpenID Connect")):q.y.resolveProtocolDisplayName(e):e.name,a=t?je===e:Ve.id===e.id,l=!t&&e.previewOnly;return T.createElement(O.B0,{key:n,image:ge(ge({},(0,V.B0)()),(0,s.r2)())[i],size:"small",className:"sub-template-selection-card",header:o,selected:a,onClick:function(){e.previewOnly||(t?Ze(e):(Ge(e),Tt(e.id,e)))},imageSize:"x30",imageOptions:{relaxed:!0,square:!1,width:"auto"},contentTopBorder:!1,showTooltips:!1,renderDisabledItemsAsGrayscale:!1,disabled:l,overlay:T.createElement(j.Z,{className:"lighter",active:!0},oe("common:featureAvailable")),overlayOpacity:.6,"data-testid":"".concat(re,"-").concat(r,"-card")})}))),T.createElement(D.Z,{hidden:!0}))))};return T.createElement(T.Fragment,null,it&&T.createElement(c.P,{actionLabel:oe("applications:notifications.tierLimitReachedError.emptyPlaceholder.action"),handleModalClose:function(){ot(!1),Pt()},header:oe("applications:notifications.tierLimitReachedError.heading"),description:oe("applications:notifications.tierLimitReachedError.emptyPlaceholder.subtitles"),message:oe("applications:notifications.tierLimitReachedError.emptyPlaceholder.title"),openModal:it}),T.createElement(l.wv,{open:!it&&!ut,className:"wizard minimal-application-create-wizard",dimmer:"blurring",onClose:Pt,closeOnDimmerClick:!1,closeOnEscape:!0,"data-testid":"".concat(re,"-modal"),"data-componentid":"".concat(ie,"-modal")},T.createElement(l.wv.MainPanel,null,T.createElement(l.wv.Header,{className:"wizard-header"},t,te&&T.createElement(O.X6,{as:"h6"},te,T.createElement(O.eb,{link:(null==Ve?void 0:Ve.templateId)===X.u.SPA?ae("develop.applications.newApplication.singlePageApplication.learnMore"):(null==Ve?void 0:Ve.templateId)===X.u.OIDC_WEB_APPLICATION?ae("develop.applications.newApplication.oidcApplication.learnMore"):(null==Ve?void 0:Ve.templateId)===X.u.SAML_WEB_APPLICATION?ae("develop.applications.newApplication.samlApplication.learnMore"):(null==Ve?void 0:Ve.templateId)===X.u.MOBILE_APPLICATION?ae("develop.applications.newApplication.mobileApplication.learnMore"):(null==Ve?void 0:Ve.templateId)===X.u.M2M_APPLICATION?ae("develop.applications.newApplication.m2mApplication.learnMore"):(null==Ve?void 0:Ve.templateId)===X.u.CUSTOM_APPLICATION?ae("develop.applications.newApplication.customApplication.learnMore"):void 0},oe("common:learnMore")))),T.createElement(l.wv.Content,null,T.createElement(w.Es,{onSubmit:function(e){He(e),Ae()},onSubmitError:function(e,t){for(var n=e.entries(),r=n.next();!r.done;){if(!r.value[1]||!t.get(r.value[0]).isValid){Nt(r.value[0]);break}r=n.next()}},submitState:de,id:"name-input"},T.createElement(Z.Z,null,St&&T.createElement(Z.Z.Row,{columns:1,id:"notification-div"},T.createElement(Z.Z.Column,{mobile:16,tablet:16,computer:14},Ot)),T.createElement(Z.Z.Row,{columns:1},T.createElement(Z.Z.Column,{mobile:16,tablet:16,computer:14},T.createElement(w.gN,{name:"name",ref:mt,label:oe("applications:forms.generalDetails.fields.name.label"),required:!0,requiredErrorMessage:oe("applications:forms.generalDetails.fields.name.validations.empty"),placeholder:oe("applications:forms.generalDetails.fields.name.placeholder"),type:"text","data-testid":"".concat(re,"-application-name-input"),validation:kt,displayErrorOn:"blur",maxLength:G.j.FORM_FIELD_CONSTRAINTS.APP_NAME_MAX_LENGTH}))),Mt(),T.createElement(Z.Z.Row,{className:"pt-0 mt-0"},T.createElement(Z.Z.Column,{mobile:16,tablet:16,computer:14},(_t=Ve.authenticationProtocol,Ve.id===Q.id?_t=je:Ve.id===X.u.M2M_APPLICATION&&(_t=Y.AI.OAUTH2_OIDC),_t===Y.AI.OIDC?T.createElement(M.A,{isProtocolConfig:!1,tenantDomain:ue,allowedOrigins:We,fields:["callbackURLs"],hideFieldHints:!0,triggerSubmit:ye,templateValues:null==Re?void 0:Re.application,onSubmit:function(e){return Ne(e)},showCallbackURL:!0,addOriginByDefault:Ve.id===B.id,isAllowEnabled:!(Ve.id===B.id),"data-testid":"".concat(re,"-oauth-protocol-settings-form"),selectedTemplate:Ve}):_t===Y.AI.SAML?T.createElement(H._,{issuerRef:gt,issuerError:Ye,metaUrlRef:vt,metaUrlError:Ke,handleProtocolValueChange:xt,fields:["issuer","assertionConsumerURLs"],hideFieldHints:!0,triggerSubmit:ye,templateValues:null==Re?void 0:Re.application,onSubmit:function(e){return Ne(e)},setSAMLConfigureMode:At,"data-testid":"".concat(re,"-saml-protocol-settings-form")}):_t===Y.AI.WS_FEDERATION?T.createElement(z.u,{triggerSubmit:ye,initialValues:null,templateValues:Re,onSubmit:function(e){return Ne(e)},"data-testid":"".concat(re,"-passive-sts-protocol-settings-form")}):void 0))),je===Y.AI.OAUTH2_OIDC&&(null==Ve?void 0:Ve.name)===X.So.STANDARD_BASED_APPLICATION&&Ie&&T.createElement("div",{className:"pt-0 mt-0"},T.createElement(r.Z,{display:"flex",alignItems:"center"},T.createElement(w.gN,{"data-componentid":"".concat(re,"-fapi-app-checkbox"),name:"isFAPIApp",required:!1,type:"checkbox",value:["isFAPIApp"],children:[{label:oe("applications:forms.generalDetails.fields.isFapiApp.label"),value:"fapiApp"}]}),m.tZ.advancedConfigurations.showFapiFeatureStatusChip&&T.createElement("div",{className:"oxygen-chip-div"},T.createElement(i.Z,{label:oe(g.j.BETA),className:"oxygen-menu-item-chip oxygen-chip-beta"}))),T.createElement(O.kW,{compact:!0},oe("applications:forms.generalDetails.fields.isFapiApp.hint"))),se&&m.tZ.editApplication.showApplicationShare&&(Le||window.AppUtils.getConfig().organizationName)&&we!==v.$B.SUBORGANIZATION&&(null==K?void 0:K.id)!==X.u.M2M_APPLICATION&&!Se&&T.createElement(o.di,{when:null==Oe||null===(Lt=Oe.applications)||void 0===Lt||null===(Lt=Lt.scopes)||void 0===Lt?void 0:Lt.update},T.createElement(Z.Z.Row,{columns:1},T.createElement(Z.Z.Column,{mobile:16,tablet:16,computer:14},T.createElement("div",{className:"pt-0 mt-0"},T.createElement(U.Z,{onChange:function(e,t){ct(t.checked)},label:oe("applications:forms.generalDetails.fields.isSharingEnabled.label")}),T.createElement(O.kW,{inline:!0,popup:!0},oe("applications:forms.generalDetails.fields.isSharingEnabled.hint"))))))))),T.createElement(l.wv.Actions,null,T.createElement(Z.Z,null,T.createElement(Z.Z.Row,{column:1},T.createElement(Z.Z.Column,{mobile:8,tablet:8,computer:8},T.createElement(O.Qj,{floated:"left",onClick:Pt},oe("common:cancel"))),T.createElement(Z.Z.Column,{mobile:8,tablet:8,computer:8},T.createElement(O.KM,{floated:"right",onClick:function(){qe(!1),me()},"data-testid":"".concat(re,"-next-button"),loading:De,disabled:De},oe("common:create"))))))),function(){var e,t,n;if(null==Ve||null===(e=Ve.content)||void 0===e||!e.wizardHelp)return null;var r,i,o=Ve.content.wizardHelp;Ve.authenticationProtocol===Y.AI.SAML&&yt===Y.T6.META_FILE&&null!==(t=Ve.content)&&void 0!==t&&t.wizardHelp2&&(o=null===(r=Ve.content)||void 0===r?void 0:r.wizardHelp2);Ve.authenticationProtocol===Y.AI.SAML&&yt===Y.T6.META_URL&&null!==(n=Ve.content)&&void 0!==n&&n.wizardHelp3&&(o=null===(i=Ve.content)||void 0===i?void 0:i.wizardHelp3);return T.createElement(l.wv.SidePanel,null,T.createElement(l.wv.Header,{className:"wizard-header help-panel-header muted"},T.createElement("div",{className:"help-panel-header-text"},oe("applications:wizards.minimalAppCreationWizard.help.heading"))),T.createElement(l.wv.Content,null,T.createElement(T.Suspense,{fallback:T.createElement(O.pO,null)},T.createElement(o,null))))}()),ut&&T.createElement($.z,{open:ut,applicationId:ft,onClose:function(){return pt(!1)},onApplicationSharingCompleted:function(){pt(!1),Ct(ft)}}))};Ae.defaultProps={"data-componentid":"minimal-application-create-wizard","data-testid":"minimal-application-create-wizard",showHelpPanel:!0}},5262:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(11526),i=n(6833),o=n(76271),a=r.AsgardeoSPAClient.getInstance().httpRequest.bind(r.AsgardeoSPAClient.getInstance()).bind(r.AsgardeoSPAClient.getInstance()),l=function(){var e={headers:{Accept:"application/json","Access-Control-Allow-Origin":o.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:i.f2.GET,url:o.h.getState().config.endpoints.CORSOrigins};return a(e).then((function(e){return 200!==e.status?Promise.reject(new Error("Failed to fetch the CORS origins")):Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))}},35601:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(51139),i=n.n(r),o=n(32234),a=n.n(o)()(i());a.push([e.id,".oxygen-chip-div{margin:0 0 1em .5em}",""]);const l=a},91009:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(25257),i=n(29419),o=n(89521),a=n(78880),l=n(75456),c=n(43);const s=(0,a.Z)((function(e,t){var n=(0,c.Z)(t);return(0,l.Z)(n)&&(n=void 0),(0,l.Z)(e)?(0,r.Z)(e,(0,i.Z)(t,1,l.Z,!0),(0,o.Z)(n,2)):[]}))},1651:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(22084),i=n(38419),o=n(78880),a=n(99424);const l=(0,o.Z)((function(e){var t=(0,r.Z)(e,a.Z);return t.length&&t[0]===e[0]?(0,i.Z)(t):[]}))}}]);