"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[5178],{95178:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var l=n(55007),a=n(6894),i=n(1989),c=n(60486),r=n(40838),o=n(51021),m=n(21257),d=n(6833),s=n(82406),u=n(43516),E=n(44194),g=n(10479),p=n(47245),h=n(41193),A=n(62508),f=n(12638),Z=n(73432),I=n(89141),v=n(26154),b=n(93682),C=n(53103),T=n(12252);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,a,i,c,r=[],o=!0,m=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;o=!1}else for(;!(o=(l=i.call(n)).done)&&(r.push(l.value),r.length!==t);o=!0);}catch(e){m=!0,a=e}finally{try{if(!o&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(m)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}var w=function(e){var t,n,S,w,D,M=e["data-testid"],_=(0,g.$)().t,R=(0,u.fQ)().getLink,U=(0,p.v9)((function(e){return e.config.ui.features})),k=(0,l.EV)(null==U||null===(t=U.attributeDialects)||void 0===t||null===(t=t.scopes)||void 0===t?void 0:t.read),P=(0,l.EV)(null==U||null===(n=U.attributeDialects)||void 0===n||null===(n=n.scopes)||void 0===n?void 0:n.update),L=(0,l.EV)(null==U||null===(S=U.attributeVerification)||void 0===S||null===(S=S.scopes)||void 0===S?void 0:S.read),N=(0,m.z)().isSubOrganization,Q=y((0,E.useState)(!1),2),O=Q[0],G=Q[1],B=y((0,E.useState)(!0),2),x=B[0],H=B[1],z=y((0,E.useState)([]),2),$=z[0],J=z[1],j=y((0,E.useState)([]),2),V=j[0],X=j[1],F=y((0,E.useState)([]),2),K=F[0],q=F[1],W=y((0,E.useState)([]),2),Y=W[0],ee=W[1],te=y((0,E.useState)([]),2),ne=te[0],le=te[1],ae=(0,p.I0)(),ie=(0,p.v9)((function(e){return e.config.ui.listAllAttributeDialects})),ce=(0,p.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t?void 0:t.userSchemaURI})),re=function(e,t,n,l){H(!0),(0,a.jp)({filter:l,limit:e,offset:t,sort:n}).then((function(e){var t=e.filter((function(e){return ie?"local"!==e.id&&e.id!==T.Q.ATTRIBUTE_DIALECT_IDS.get("XML_SOAP")&&e.id!=T.Q.ATTRIBUTE_DIALECT_IDS.get("OPENID_NET"):e.id!=T.Q.ATTRIBUTE_DIALECT_IDS.get("LOCAL")&&e.id!=T.Q.ATTRIBUTE_DIALECT_IDS.get("AXSCHEMA")&&e.id!=T.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_LEGAL")&&e.id!=T.Q.ATTRIBUTE_DIALECT_IDS.get("EIDAS_NATURAL")&&e.id!=T.Q.ATTRIBUTE_DIALECT_IDS.get("OPENID_NET")&&e.id!=T.Q.ATTRIBUTE_DIALECT_IDS.get("XML_SOAP")})),n=[],l=[],a=[],i=[],c=[];t.forEach((function(e){T.Q.OIDC_MAPPING.includes(e.dialectURI)?n.push(e):Object.values(T.Q.SCIM_TABS).map((function(e){return e.uri})).includes(e.dialectURI)?l.push(e):T.Q.AXSCHEMA_MAPPING===e.dialectURI?a.push(e):Object.values(T.Q.EIDAS_TABS).map((function(e){return e.uri})).includes(e.dialectURI)?i.push(e):o.rk.showCustomDialectInSCIM?e.dialectURI!==ce&&c.push(e):c.push(e)})),J(n),X(l),q(a),ee(null),le(c)})).catch((function(e){var t,n;ae((0,s.V_)({description:(null==e||null===(t=e.response)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.description)||_("claims:dialects.notifications.fetchDialects.genericError.description"),level:d.QU.ERROR,message:(null==e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message)||_("claims:dialects.notifications.fetchDialects.genericError.message")}))})).finally((function(){H(!1)}))};(0,E.useEffect)((function(){re()}),[]);var oe=function(){return E.createElement(h.Z,null,E.createElement(h.Z.Header,null,E.createElement(h.Z.Line,null)))},me=function(){return E.createElement(u.pJ,null,E.createElement(h.Z,{fluid:!0},E.createElement(h.Z.Header,{image:!0},E.createElement(h.Z.Line,{length:"very short"}),E.createElement(h.Z.Line,null))))};return E.createElement(E.Fragment,null,o.rk.addAttributeMapping&&O&&E.createElement(C.$E,{open:O,onClose:function(){G(!1)},update:re,"data-testid":"".concat(M,"-add-dialect-wizard")}),E.createElement(u.Xg,{pageTitle:"Attributes",title:_("claims:dialects.pageLayout.list.title"),description:E.createElement(E.Fragment,null,_("claims:dialects.pageLayout.list.description"),E.createElement(u.eb,{link:R("manage.userStores.attributeMappings.learnMore")},_("common:learnMore"))),"data-testid":"".concat(M,"-page-layout")},E.createElement(u.Me,{showTopActionPanel:!1},k&&(x?E.createElement(E.Fragment,null,oe(),E.createElement(A.Z,{hidden:!0}),me()):E.createElement(E.Fragment,null,E.createElement(f.Z,{as:"h4"},_("claims:dialects.sections.manageAttributes.heading")),E.createElement(A.Z,{hidden:!0}),E.createElement(u.pJ,{onClick:function(){r.m.push(c.$.getPaths().get("LOCAL_CLAIMS"))},className:"clickable","data-testid":"".concat(M,"-local-dialect-container")},E.createElement(Z.Z,null,E.createElement(Z.Z.Item,null,E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12},E.createElement(u.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:(0,i.Uz)().claims,spaced:"right",size:"mini",floated:"left"}),E.createElement(Z.Z.Header,null,_("claims:dialects.sections.manageAttributes.attributes.heading")),E.createElement(Z.Z.Description,{"data-testid":"".concat(M,"-local-dialect")},_("claims:dialects.sections.manageAttributes.attributes.description"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right","data-testid":"".concat(M,"-local-dialect-")+"attributes-edit-icon"},E.createElement(u.GI,{content:_(P?"common:edit":"common:view"),trigger:P?E.createElement(v.Z,{color:"grey",name:"pencil"}):E.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),!N()&&(null==U||null===(w=U.attributeVerification)||void 0===w?void 0:w.enabled)&&L&&E.createElement(u.pJ,{onClick:function(){r.m.push(c.$.getPaths().get("CLAIM_VERIFICATION_SETTINGS"))},className:"clickable","data-testid":"".concat(M,"-attribute-verification-settings-container")},E.createElement(Z.Z,null,E.createElement(Z.Z.Item,null,E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12},E.createElement(u.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:(0,i.Uz)().gears,spaced:"right",size:"mini",floated:"left"}),E.createElement(Z.Z.Header,null,_("governanceConnectors:connectorCategories.otherSettings.connectors.userClaimUpdate.friendlyName")),E.createElement(Z.Z.Description,{"data-testid":"".concat(M,"-attribute-verification")+"-settings"},_("governanceConnectors:connectorCategories.otherSettings.connectors.userClaimUpdate.subTitle"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right","data-testid":"".concat(M,"-attribute-verification-")+"settings-edit-icon"},E.createElement(u.GI,{content:_(P?"common:configure":"common:view"),trigger:P?E.createElement(v.Z,{color:"grey",name:"pencil"}):E.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))))),E.createElement(A.Z,{hidden:!0}),E.createElement(A.Z,{hidden:!0}),!N()&&E.createElement(E.Fragment,null,E.createElement(A.Z,null),E.createElement(A.Z,{hidden:!0}),E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12,verticalAlign:"middle"},x?oe():E.createElement(f.Z,{as:"h4"},_("claims:dialects.sections.manageAttributeMappings.heading"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},o.rk.addAttributeMapping&&E.createElement(l.di,{when:null==U||null===(D=U.attributeDialects)||void 0===D||null===(D=D.scopes)||void 0===D?void 0:D.create},E.createElement(u.KM,{disabled:x,loading:x,onClick:function(){G(!0)},"data-testid":"".concat(M,"-list-layout-add-button")},E.createElement(v.Z,{name:"add"}),_("claims:dialects.pageLayout.list.primaryAction")))))),E.createElement(A.Z,{hidden:!0}),x?me():(null==$?void 0:$.length)>0&&E.createElement(u.pJ,{className:"clickable","data-testid":"".concat(M,"-oidc-dialect-container")},E.createElement(Z.Z,null,E.createElement(Z.Z.Item,{onClick:function(){r.m.push(c.$.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",T.Q.OIDC).replace(":customAttributeMappingID",""))}},E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12},E.createElement(u.dn,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,i.r2)().oidc,spaced:"right",size:"mini",floated:"left"}),E.createElement(Z.Z.Header,null,_("claims:dialects.sections.manageAttributeMappings.oidc.heading")),E.createElement(Z.Z.Description,{"data-testid":"".concat(M,"-local-dialect")},_("claims:attributeMappings.oidc.description"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},E.createElement(u.GI,{content:_(P?"common:edit":"common:view"),trigger:P?E.createElement(v.Z,{color:"grey",name:"pencil"}):E.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),x?me():(null==V?void 0:V.length)>0&&E.createElement(u.pJ,{onClick:function(){r.m.push(c.$.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",T.Q.SCIM).replace(":customAttributeMappingID",""))},className:"clickable","data-testid":"".concat(M,"-scim-dialect-container")},E.createElement(Z.Z,null,E.createElement(Z.Z.Item,null,E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12},E.createElement(u.dn,{verticalAlign:"middle",rounded:!0,icon:(0,i.r2)().scim,spaced:"right",size:"mini",floated:"left"}),E.createElement(Z.Z.Header,null,_("claims:dialects.sections.manageAttributeMappings.scim.heading")),E.createElement(Z.Z.Description,{"data-testid":"".concat(M,"-local-dialect")},_("claims:attributeMappings.scim.description"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},E.createElement(u.GI,{content:P&&o.rk.isSCIMEditable?_("common:edit"):_("common:view"),trigger:P&&o.rk.isSCIMEditable?E.createElement(v.Z,{color:"grey",name:"pencil"}):E.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),x?me():(null==K?void 0:K.length)>0&&E.createElement(u.pJ,{className:"clickable","data-testid":"".concat(M,"-axschema-dialect-container")},E.createElement(Z.Z,null,E.createElement(Z.Z.Item,{onClick:function(){r.m.push(c.$.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",T.Q.AXSCHEMA).replace(":customAttributeMappingID",""))}},E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12},E.createElement(u.dn,{verticalAlign:"middle",rounded:!0,icon:(0,i.r2)().axschema,spaced:"right",size:"mini",floated:"left"}),E.createElement(Z.Z.Header,null,_("claims:attributeMappings.axschema.heading")),E.createElement(Z.Z.Description,{"data-testid":"".concat(M,"-local-dialect")},_("claims:attributeMappings.axschema.description"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},E.createElement(u.GI,{content:_(P?"common:edit":"common:view"),trigger:P?E.createElement(v.Z,{color:"grey",name:"pencil"}):E.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),x?me():(null==Y?void 0:Y.length)>0&&E.createElement(u.pJ,{className:"clickable","data-testid":"".concat(M,"-eidas-dialect-container")},E.createElement(Z.Z,null,E.createElement(Z.Z.Item,{onClick:function(){r.m.push(c.$.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",T.Q.EIDAS).replace(":customAttributeMappingID",""))}},E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12},E.createElement(u.dn,{transparent:!0,verticalAlign:"middle",rounded:!0,icon:(0,i.r2)().eidas,spaced:"right",size:"mini",floated:"left"}),E.createElement(Z.Z.Header,null,_("claims:attributeMappings.eidas.heading")),E.createElement(Z.Z.Description,{"data-testid":"".concat(M,"-local-dialect")},_("claims:attributeMappings.eidas.description"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},E.createElement(u.GI,{content:_(P?"common:edit":"common:view"),trigger:P?E.createElement(v.Z,{color:"grey",name:"pencil"}):E.createElement(v.Z,{color:"grey",name:"eye"}),inverted:!0}))))))),o.rk.showCustomAttributeMapping&&(x?me():(null==ne?void 0:ne.length)>0&&ne.map((function(e){return E.createElement(u.pJ,{key:e.dialectURI,onClick:function(){r.m.push(c.$.getPaths().get("ATTRIBUTE_MAPPINGS").replace(":type",T.Q.OTHERS).replace(":customAttributeMappingID",e.id))},className:"clickable","data-testid":"".concat(M,"-other-dialect-container")},E.createElement(Z.Z,null,E.createElement(Z.Z.Item,null,E.createElement(I.Z,null,E.createElement(I.Z.Row,{columns:2},E.createElement(I.Z.Column,{width:12},E.createElement(b.Z,{floated:"left",verticalAlign:"middle",rounded:!0,centered:!0,size:"mini"},E.createElement(u.Xo,null),E.createElement("span",{className:"claims-letter"},e.dialectURI.charAt(0).toUpperCase())),E.createElement(Z.Z.Header,null,e.dialectURI),E.createElement(Z.Z.Description,{"data-testid":"".concat(M,"-local-dialect")},_("claims:attributeMappings.custom.description"))),E.createElement(I.Z.Column,{width:4,verticalAlign:"middle",textAlign:"right"},E.createElement(u.GI,{content:_(P?"common:edit":"common:view"),trigger:E.createElement(v.Z,{color:"grey",name:P?"pencil":"eye"}),inverted:!0})))))))})))))))};w.defaultProps={"data-testid":"attribute-dialects"};const D=w}}]);