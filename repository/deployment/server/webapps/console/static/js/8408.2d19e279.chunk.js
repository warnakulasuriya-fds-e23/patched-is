"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8408],{98408:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var a=n(49748),r=n(37612),i=n(25134),o=n(1989),c=n(40838),l=n(87029),s=n(21257),u=n(43939),d=n(6833),p=n(82406),m=n(43516),f=n(44194),g=n(10479),E=n(47245),v=n(26154),h=n(73432),R=n(62508),A=n(43151),S=n(3424),y=n(62953),I=n(95241),P=n(40578);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,c=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=i.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){s=!0,r=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var C=function(e){var t=e["data-componentid"],n=(0,g.$)().t,x=(0,E.I0)(),C=(0,m.fQ)().getLink,O=b((0,f.useState)(1),2),Z=O[0],k=O[1],G=b((0,f.useState)(!1),2),w=G[0],N=G[1],T=b((0,f.useState)(!1),2),_=T[0],L=T[1],z=b((0,f.useState)(!1),2),K=z[0],U=z[1],B=b((0,f.useState)(""),2),M=B[0],F=B[1],H=b((0,f.useState)([]),2),Q=H[0],$=H[1],j=b((0,f.useState)(void 0),2),D=j[0],V=j[1],W=b((0,f.useState)(void 0),2),X=W[0],q=W[1],J=b((0,f.useState)(void 0),2),Y=J[0],ee=J[1],te=b((0,f.useState)(void 0),2),ne=te[0],ae=te[1],re=b((0,f.useState)("type eq ".concat(I.KG.BUSINESS)),2),ie=re[0],oe=re[1],ce=b((0,f.useState)(I.KG.PROPERTIES),1)[0],le=(0,E.v9)((function(e){return e.config.ui.features})),se=(0,E.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),ue=(0,s.z)().organizationType,de=(0,A.cQ)(D,X,ie,!0,ce),pe=de.data,me=de.isLoading,fe=de.error,ge=de.mutate;(0,f.useEffect)((function(){if(pe instanceof u.u)x((0,p.V_)({description:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:d.QU.ERROR,message:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}));else if(pe){var e,t=pe.apiResources.map((function(e){return e}));if(ee(void 0),ae(void 0),pe.links&&0!==pe.links.length)null===(e=pe.links)||void 0===e||e.forEach((function(e){switch(e.rel){case I.KG.NEXT_REL:ee(e.href.split("".concat(I.KG.AFTER,"="))[1]);break;case I.KG.PREVIOUS_REL:ae(e.href.split("".concat(I.KG.BEFORE,"="))[1])}}));$(t)}}),[pe]),(0,f.useEffect)((function(){fe&&x((0,p.V_)({description:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.description"),level:d.QU.ERROR,message:n("extensions:develop.apiResource.notifications.getAPIResources.genericError.message")}))}),[fe]),(0,f.useEffect)((function(){_&&(ge(),L(!1))}),[_]),(0,f.useEffect)((function(){var e="type eq ".concat(I.KG.BUSINESS);oe(M?"".concat(M," and ").concat(e):e)}),[M]);var Ee=function(e,t){V(e),q(t),L(!0)};return f.createElement(m.Xg,{action:P.H.isAPIResourceCreateAllowed(le,se)&&(null==Q?void 0:Q.length)>0&&f.createElement(m.KM,{"data-testid":"".concat(t,"-add-api-resources-button"),onClick:function(){return N(!0)}},f.createElement(v.Z,{name:"add"}),n("extensions:develop.apiResource.addApiResourceButton")),pageTitle:n("extensions:develop.apiResource.pageHeader.title"),title:n("extensions:develop.apiResource.pageHeader.title"),description:ue!==l.$B.SUBORGANIZATION?f.createElement(f.Fragment,null,n("extensions:develop.apiResource.pageHeader.description"),f.createElement(m.eb,{link:C("develop.apiResources.learnMore")},n("common:learnMore"))):f.createElement(f.Fragment,null,n("extensions:develop.apiResource.pageHeader.subOrgDescription"),f.createElement(m.eb,{link:C("develop.apiResources.learnMore")},n("extensions:common.learnMore"))),"data-componentid":"".concat(t,"-page-layout"),"data-testid":"".concat(t,"-page-layout"),headingColumnWidth:"11",actionColumnWidth:"5"},ue!==l.$B.SUBORGANIZATION&&f.createElement(m.pJ,{onClick:function(){c.m.push(I.KG.getPaths().get("API_RESOURCES_CATEGORY").replace(":categoryId",I.$d.MANAGEMENT))},className:"clickable","data-componentid":"".concat(t,"-management-api-container")},f.createElement(h.Z,null,f.createElement(h.Z.Item,null,f.createElement(a.Z,{container:!0,direction:"row",xs:12,alignItems:"center"},f.createElement(a.Z,{xs:10,alignContent:"center"},f.createElement(m.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:f.createElement(r.At,{size:"medium"}),spaced:"right",floated:"left",className:"mt-1"}),f.createElement(h.Z.Header,null,n("extensions:develop.apiResource.managementAPI.header")),f.createElement(h.Z.Description,null,n("extensions:develop.apiResource.managementAPI.description"))),f.createElement(a.Z,{xs:2},f.createElement(m.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:f.createElement(r.XC,null),spaced:"right",floated:"right"})))))),f.createElement(m.pJ,{onClick:function(){c.m.push(I.KG.getPaths().get("API_RESOURCES_CATEGORY").replace(":categoryId",I.$d.ORGANIZATION))},className:"clickable","data-componentid":"".concat(t,"-organization-api-container")},f.createElement(h.Z,null,f.createElement(h.Z.Item,null,f.createElement(a.Z,{container:!0,direction:"row",xs:12,alignItems:"center"},f.createElement(a.Z,{xs:10,alignContent:"center"},f.createElement(m.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:f.createElement(r.qW,{size:"medium"}),spaced:"right",floated:"left",className:"mt-1"}),f.createElement(h.Z.Header,null,n("extensions:develop.apiResource.organizationAPI.header")),f.createElement(h.Z.Description,null,n("extensions:develop.apiResource.organizationAPI.description"))),f.createElement(a.Z,{xs:2},f.createElement(m.dn,{verticalAlign:"middle",fill:"primary",transparent:!0,icon:f.createElement(r.XC,null),spaced:"right",floated:"right"})))))),f.createElement(R.Z,{hidden:!0}),f.createElement(m.PS,{advancedSearch:f.createElement(i.n,{onFilter:function(e){F(e)},filterAttributeOptions:[{key:0,text:n("common:name"),value:"name"}],filterAttributePlaceholder:n("applications:advancedSearch.form.inputs.filterAttribute.placeholder"),filterConditionsPlaceholder:n("applications:advancedSearch.form.inputs.filterCondition.placeholder"),filterValuePlaceholder:n("applications:advancedSearch.form.inputs.filterValue.placeholder"),placeholder:"Search APIs by name",style:{minWidth:"425px"},defaultSearchAttribute:"name",defaultSearchOperator:"co",triggerClearQuery:K,"data-componentid":"".concat(t,"-list-advanced-search")}),showTopActionPanel:!!M||(null==Q?void 0:Q.length)>0,"data-componentid":"".concat(t,"-api-resources-list-layout"),"data-testid":"".concat(t,"-api-resources-list-layout"),onPageChange:function(e,t){var n=parseInt(null==t?void 0:t.activePage);n>Z?Ee(Y,void 0):n<Z&&Ee(void 0,ne),k(n)},showPagination:!0,totalPages:I.KG.DEFAULT_TOTAL_PAGES,totalListSize:null==Q?void 0:Q.length,showPaginationPageLimit:!1,isLoading:me,activePage:Z,paginationOptions:{disableNextButton:!Y,disablePreviousButton:!ne}},fe?f.createElement(m.$J,{subtitle:[n("extensions:develop.apiResource.apiResourceError.subtitles.0"),n("extensions:develop.apiResource.apiResourceError.subtitles.1")],title:n("extensions:develop.apiResource.apiResourceError.title"),image:(0,o.jF)().genericError,imageSize:"tiny"}):f.createElement(S.v,{apiResourcesList:Q,isAPIResourcesListLoading:me,featureConfig:le,onAPIResourceDelete:function(){Ee()},onSearchQueryClear:function(){F(""),U(!K)},searchQuery:M,categoryId:"custom",onEmptyListPlaceholderActionClicked:function(){return N(!0)}})),w&&f.createElement(y.d,{"data-testid":"".concat(t,"-add-api-resource-wizard-modal"),closeWizard:function(){return N(!1)}}))};C.defaultProps={"data-componentid":"api-resources"};const O=C}}]);