"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[8161],{88161:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(1989),o=n(40838),a=n(6833),i=n(82406),s=n(43516),u=n(44194),l=n(10479),c=n(47245),p=n(43151),d=n(3424),f=n(95241),g=n(40578);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=function(e){var t=e["data-componentid"],n=(0,l.$)().t,v=(0,c.I0)(),A=(0,c.v9)((function(e){var t;return null==e||null===(t=e.auth)||void 0===t?void 0:t.allowedScopes})),b=m((0,u.useState)(!1),2),y=b[0],E=b[1],R=m((0,u.useState)(null),2),h=R[0],I=R[1],S=(0,c.v9)((function(e){return e.config.ui.features})),O=o.m.location.pathname.split("/"),P=O[O.length-2],k=(0,p.Eb)(h),x=k.data,w=k.isLoading,T=k.error,C=k.mutate;(0,u.useEffect)((function(){M()}),[]),(0,u.useEffect)((function(){if(x){var e=!g.H.isAPIResourceUpdateAllowed(S,A),t=g.H.isSystemAPI(null==x?void 0:x.type);(e||t)&&E(!0)}}),[x]),(0,u.useEffect)((function(){T&&v((0,i.V_)({description:n("extensions:develop.apiResource.notifications.getAPIResource.genericError.description"),level:a.QU.ERROR,message:n("extensions:develop.apiResource.notifications.getAPIResource.genericError.message")}))}),[T]);var M=function(){var e=o.m.location.pathname.split("/"),t=e[e.length-1];I(t)};return!w&&!x||T?u.createElement(s.$J,{subtitle:[n("extensions:develop.apiResource.tabs.apiResourceError.subtitles.0"),n("extensions:develop.apiResource.tabs.apiResourceError.subtitles.1")],title:n("extensions:develop.apiResource.tabs.apiResourceError.title"),image:(0,r.jF)().emptySearch,imageSize:"tiny"}):u.createElement(s.O9,{isLoading:w,title:null==x?void 0:x.name,pageTitle:n("extensions:develop.apiResource.tabs.title"),loadingStateOptions:{count:5,imageType:"circular"},backButton:{"data-testid":"".concat(t,"-back-button"),onClick:function(){P===f.$d.MANAGEMENT||P===f.$d.ORGANIZATION?o.m.push(f.KG.getPaths().get("API_RESOURCES_CATEGORY").replace(":categoryId",P)):o.m.push(f.KG.getPaths().get("API_RESOURCES"))},text:P===f.$d.MANAGEMENT?n("pages:rolesEdit.backButton",{type:"Management APIs"}):P===f.$d.ORGANIZATION?n("pages:rolesEdit.backButton",{type:"Organization APIs"}):n("pages:rolesEdit.backButton",{type:"APIs"})},titleTextAlign:"left",bottomMargin:!1,pageHeaderMaxWidth:!0},u.createElement(d.Z,{apiResourceData:x,isAPIResourceDataLoading:w,featureConfig:S,isReadOnly:y,mutateAPIResource:C}))};A.defaultProps={"data-componentid":"api-resource-edit"};const b=A}}]);