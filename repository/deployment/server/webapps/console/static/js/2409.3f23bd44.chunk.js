"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[2409,6512],{39203:(e,t,r)=>{r.d(t,{Ug:()=>u,VL:()=>c,fF:()=>d,hI:()=>l,sS:()=>p,tN:()=>m,yq:()=>f});var n=r(11526),a=r(76271),i=r(96124),s=r(6833),o=n.AsgardeoSPAClient.getInstance().httpRequest.bind(n.AsgardeoSPAClient.getInstance()),l=function(e,t){var r={headers:{"Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.GET,params:{domain:e,excludedAttributes:t},url:a.h.getState().config.endpoints.groups};return o(r).then((function(e){if(200==e.status)return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},u=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={headers:{"Content-Type":"application/json"},method:s.f2.GET,params:r?{domain:e,excludedAttributes:t,filter:r}:{domain:e,excludedAttributes:t},url:a.h.getState().config.endpoints.groups},l=(0,i.Z)(n?o:null),u=l.data,c=l.error;return{data:u,error:c,isLoading:!c&&!u,isValidating:l.isValidating,mutate:l.mutate,response:l.response}},c=function(e,t){var r={headers:{"Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.GET,params:{excludedAttributes:t},url:a.h.getState().config.endpoints.groups+"/"+e};return o(r).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},d=function(e,t){var r={data:t,headers:{"Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.PATCH,url:a.h.getState().config.endpoints.groups+"/"+e};return o(r).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},m=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.POST,url:a.h.getState().config.endpoints.groups+"/.search"};return o(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},f=function(e){var t={headers:{"Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.DELETE,url:a.h.getState().config.endpoints.groups+"/"+e};return o(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},p=function(e){var t={data:e,headers:{"Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:s.f2.POST,url:a.h.getState().config.endpoints.groups};return o(t).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}},32409:(e,t,r)=>{r.d(t,{G:()=>Ge});var n=r(46666),a=r(41355),i=r(48704),s=r(39203),o=r(21257),l=r(58613),u=r(33839),c=r(6833),d=r(82406),m=r(96334),f=r(43516),p=r(47513),v=r(1651),h=r(95223),g=r(44194),y=r(10479),E=r(47245),b=r(47018),S=r(89141),w=r(26154),U=r(60486),x=r(40838),C=r(917),N=r(43974),P=r(54274),A=r(74411),L=r(47149),R=r(20342),I=r(38463),O=r(34194),T=r(50699),Z=r(59673),_=r(71551),k=r(72857),M=r(77757),V=r(47625),j=r(719),z=r(86329),F=r(92283),B=r(6643);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function G(){G=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,s=Object.create(i.prototype),o=new R(n||[]);return a(s,"_invoke",{value:N(e,r,o)}),s}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var m="suspendedStart",f="suspendedYield",p="executing",v="completed",h={};function g(){}function y(){}function E(){}var b={};u(b,s,(function(){return this}));var S=Object.getPrototypeOf,w=S&&S(S(I([])));w&&w!==r&&n.call(w,s)&&(b=w);var U=E.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,i,s,o){var l=d(e[a],e,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==D(c)&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,s,o)}),(function(e){r("throw",e,s,o)})):t.resolve(c).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,o)}))}o(l.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function N(t,r,n){var a=m;return function(i,s){if(a===p)throw Error("Generator is already running");if(a===v){if("throw"===i)throw s;return{value:e,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var l=P(o,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=p;var u=d(t,r,n);if("normal"===u.type){if(a=n.done?v:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=v,n.method="throw",n.arg=u.arg)}}}function P(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,P(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,h;var s=i.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,h):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(D(t)+" is not iterable")}return y.prototype=E,a(U,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:y,configurable:!0}),y.displayName=u(E,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,l,"GeneratorFunction")),e.prototype=Object.create(U),e},t.awrap=function(e){return{__await:e}},x(C.prototype),u(C.prototype,o,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,i){void 0===i&&(i=Promise);var s=new C(c(e,r,n,a),i);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(U),u(U,l,"Generator"),u(U,s,(function(){return this})),u(U,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return o.type="throw",o.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],o=s.completion;if("root"===s.tryLoc)return a("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),u=n.call(s,"finallyLoc");if(l&&u){if(this.prev<s.catchLoc)return a(s.catchLoc,!0);if(this.prev<s.finallyLoc)return a(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return a(s.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return a(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;L(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:I(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}function q(e,t,r,n,a,i,s){try{var o=e[i](s),l=o.value}catch(e){return void r(e)}o.done?t(l):Promise.resolve(l).then(n,a)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){q(i,n,a,s,o,"next",e)}function o(e){q(i,n,a,s,o,"throw",e)}s(void 0)}))}}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Q=function(e){var t,r=e.initialValues,n=e.triggerSubmit,a=e.emailVerificationEnabled,i=e.onSubmit,s=e.hiddenFields,o=e.isUserstoreRequired,l=e.isFirstNameRequired,u=e.isLastNameRequired,c=e.isEmailRequired,d=e.setUserSummaryEnabled,p=e.setAskPasswordFromUser,v=e.selectedUserStore,h=e.setSelectedUserStore,E=e.setOfflineUser,b=e.isBasicDetailsLoading,w=e.setBasicDetailsLoading,D=e.validationConfig,q=e.readWriteUserStoresList,$=e.selectedUserStoreId,Q=H((0,g.useState)(A.x.defaultPasswordOption),2),Y=Q[0],K=Q[1],X=H((0,g.useState)(A.x.defautlAskPasswordOption),2),J=X[0],ee=X[1],te=H((0,g.useState)(null!==(t=null==r?void 0:r.newPassword)&&void 0!==t?t:""),2),re=te[0],ne=te[1],ae=H((0,g.useState)(void 0),2),ie=ae[0],se=ae[1],oe=H((0,g.useState)(void 0),2),le=oe[0],ue=oe[1],ce=H((0,g.useState)(!0),2),de=ce[0],me=ce[1],fe=H((0,g.useState)(void 0),2),pe=fe[0],ve=fe[1],he=H((0,g.useState)($),2),ge=he[0],ye=he[1],Ee=H((0,g.useState)(!1),2),be=Ee[0],Se=Ee[1],we=H((0,g.useState)(!1),2),Ue=we[0],xe=we[1],Ce=(0,g.useRef)(),Ne=(0,g.useRef)(),Pe=(0,y.$)().t,Ae=(0,C.Z)().UIConfig,Le=Pe("users:consumerUsers.fields.username.validations.invalid"),Re=Pe("users:consumerUsers.fields.username.validations.regExViolation"),Ie=Pe("users:consumerUsers.fields.username.validations.invalidCharacters"),Oe=Pe("extensions:manage.features.user.addUser.validation.usernameSymbols"),Te=Pe("extensions:manage.features.user.addUser.validation.usernameSpecialCharSymbols"),Ze=Pe("extensions:manage.features.user.addUser.validation.usernameLength",{maxLength:null==le?void 0:le.maxLength,minLength:null==le?void 0:le.minLength}),_e=N.l.getInstance(),ke=(0,R.LM)(ge).data,Me=(0,g.useMemo)((function(){var e;if(ke)return null==ke||null===(e=ke.properties)||void 0===e||null===(e=e.find((function(e){return e.name===I.y8.UsernameRegEx})))||void 0===e?void 0:e.value}),[ke]),Ve=(0,g.useMemo)((function(){var e;if(ke)return null==ke||null===(e=ke.properties)||void 0===e||null===(e=e.find((function(e){return e.name===I.y8.PasswordRegEx})))||void 0===e?void 0:e.value}),[ke]);(0,g.useEffect)((function(){if(Y===F.Rd.CREATE_PASSWORD)d(!0),p(!0),E(!1);else{if("offline"===J)return d(!0),p(!1),void E(!0);d(!1),p(!1),E(!1)}}),[Y,J]),(0,g.useEffect)((function(){D&&(se((0,B.P_)(D)),ue((0,B.t$)(D)))}),[D]),(0,g.useEffect)((function(){je()?Se(!1):Se(!0)}),[le]);var je=function(){return"true"===(null==le?void 0:le.enableValidator)},ze=function(e){me(e)},Fe={"data-testid":"user-mgt-add-user-form-ask-password-option-radio-button",label:Pe("user:forms.addUserForm.buttons.radioButton.options.askPassword"),value:F.Rd.ASK_PASSWORD},Be={"data-testid":"user-mgt-add-user-form-create-password-option-radio-button",label:Pe("user:forms.addUserForm.buttons.radioButton.options.createPassword"),value:F.Rd.CREATE_PASSWORD},De=function(e){var t=e.get("newPassword").toString();ne(t)},Ge=function(e){var t;""===(null===(t=e.get("email"))||void 0===t?void 0:t.toString())?xe(!1):xe(!0)},qe=function(e){var t,r,n,a,i;return _e.publish("manage-users-customer-password-option",{type:Y}),{domain:v,email:null===(t=e.get("email"))||void 0===t?void 0:t.toString(),firstName:null===(r=e.get("firstName"))||void 0===r?void 0:r.toString(),lastName:null===(n=e.get("lastName"))||void 0===n?void 0:n.toString(),newPassword:e.get("newPassword")&&void 0!==e.get("newPassword")?e.get("newPassword").toString():"",passwordOption:Y,userName:null!=Ae&&Ae.enableEmailDomain?null===(a=e.get("email"))||void 0===a?void 0:a.toString():null===(i=e.get("username"))||void 0===i?void 0:i.toString()}},We=function(e){var t={behavior:"smooth",block:"center"};switch(e){case"email":Ne.current.scrollIntoView(t);break;case"formBottom":Ce.current.scrollIntoView(t)}},He=function(){var e=W(G().mark((function e(t){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie){e.next=2;break}return e.abrupt("return",de);case 2:return e.abrupt("return",P.w.validateInputAgainstRegEx(t,Ve));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=W(G().mark((function e(t,r){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t);case 2:if(e.sent){e.next=5;break}r.isValid=!1,r.errorMessages.push(Pe(ie?"extensions:manage.features.user.addUser.validation.error.passwordValidation":"extensions:manage.features.user.addUser.validation.password"));case 5:We("formBottom");case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Qe=function(){return J===F.mt.EMAIL?g.createElement(S.Z.Row,{columns:1},g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement(k.Z,{icon:"mail",content:Pe("extensions:manage.features.user.addUser.inviteUserTooltip"),size:"small"}))):J===F.mt.OFFLINE?g.createElement(S.Z.Row,{columns:1},g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement(k.Z,{icon:"copy",content:Pe("extensions:manage.features.user.addUser.inviteUserOfflineTooltip"),size:"small"}))):null};return g.createElement(m.Es,{"data-testid":"user-mgt-add-user-form",onSubmit:function(){var e=W(G().mark((function e(t){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y!==F.Rd.CREATE_PASSWORD){e.next=7;break}return e.next=3,He(t.get("newPassword")?t.get("newPassword").toString():"");case 3:if(!e.sent){e.next=5;break}i(qe(t));case 5:e.next=8;break;case 7:i(qe(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),submitState:n},g.createElement(S.Z,null,!s.includes(F.Wx.USERSTORE)&&g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement("div",{ref:Ne}),g.createElement(M.Z.Field,{required:o},g.createElement("label",null,Pe("user:forms.addUserForm.inputs.domain.placeholder")),g.createElement(V.Z,{fluid:!0,selection:!0,labeled:!0,options:q,"data-testid":"user-mgt-add-user-form-userstore-dropdown",name:"userstore",disabled:!1,value:ge,onChange:function(e,t){var r;ye(t.value.toString()),h(null==q||null===(r=q.find((function(e){return e.value===t.value})))||void 0===r||null===(r=r.text)||void 0===r?void 0:r.toString())},tabIndex:1,maxLength:60})))),function(){var e,t;if(null!=Ae&&Ae.enableEmailDomain)return g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement("div",{ref:Ne}),g.createElement(m.gN,{loading:b,"data-testid":"user-mgt-add-user-form-email-input",label:Pe("extensions:manage.features.user.addUser.inputLabel.emailUsername"),name:"email",placeholder:Pe("user:forms.addUserForm.inputs.email.placeholder"),required:!0,requiredErrorMessage:Pe("user:forms.addUserForm.inputs.email.validations.empty"),validation:function(){var e=W(G().mark((function e(t,r){var n,a;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),(t&&!P.w.validateInputAgainstRegEx(t,Me)||!O.I.email(t))&&(r.isValid=!1,r.errorMessages.push(Re),We("email"),w(!1)),e.prev=2,!t||!0!==r.isValid){e.next=9;break}return e.next=6,(0,z.Fp)(null,null,"userName eq "+t,null,v);case 6:(null==(n=e.sent)?void 0:n.totalResults)>0&&(r.isValid=!1,r.errorMessages.push(Le),We("email")),w(!1);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),500===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(r.isValid=!1,r.errorMessages.push(Ie),We("email")),w(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),type:"email",value:r&&r.email,tabIndex:1,maxLength:60})));if(!s.includes(F.Wx.USERNAME)&&!je())return g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement("div",{ref:Ne}),g.createElement(m.gN,{loading:b,"data-testid":"user-mgt-add-user-form-email-input",label:Pe("extensions:manage.features.user.addUser.inputLabel.emailUsername"),name:"email",placeholder:Pe("user:forms.addUserForm.inputs.email.placeholder"),required:!0,requiredErrorMessage:Pe("user:forms.addUserForm.inputs.email.validations.empty"),validation:function(){var e=W(G().mark((function e(t,r){var n,a;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!0),(t&&!P.w.validateInputAgainstRegEx(t,Me)||!O.I.email(t))&&(r.isValid=!1,r.errorMessages.push(Re),We("email"),w(!1)),e.prev=2,!t||!0!==r.isValid){e.next=9;break}return e.next=6,(0,z.Fp)(null,null,"userName eq "+t,null,v);case 6:(null==(n=e.sent)?void 0:n.totalResults)>0&&(r.isValid=!1,r.errorMessages.push(Le),We("email")),w(!1);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),500===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(r.isValid=!1,r.errorMessages.push(Ie),We("email")),w(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}(),type:"email",value:r&&r.email,tabIndex:1,maxLength:60})));var n,a;return g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement("div",{ref:Ne}),g.createElement(m.gN,{loading:b,"data-testid":"user-mgt-add-user-form-username-input",label:Pe("extensions:manage.features.user.addUser.inputLabel.alphanumericUsername"),name:"username",placeholder:Pe("extensions:manage.features.user.addUser.inputLabel.alphanumericUsernamePlaceholder"),required:!0,requiredErrorMessage:Pe("extensions:manage.features.user.addUser.validation.usernameEmpty"),validation:function(){var e=W(G().mark((function e(t,r){var n,a,i,s,o;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==A.x&&void 0!==A.x&&null!==(n=A.x.userNameValidation)&&void 0!==n&&n.validateViaAPI?(a=new RegExp(F._F.USERNAME_VALIDATION_REGEX),null!=le&&le.isAlphanumericOnly||(a=new RegExp(F._F.USERNAME_VALIDATION_REGEX_WITH_SPECIAL_CHARS)),t.length<Number(le.minLength)||t.length>Number(le.maxLength)?(r.isValid=!1,r.errorMessages.push(Ze),We("email")):a.test(t)||(r.isValid=!1,null!=le&&le.isAlphanumericOnly?r.errorMessages.push(Oe):r.errorMessages.push(Te),We("email"))):(0,T.Z)(Me)||new RegExp(Me).test(t)||(r.isValid=!1,Me===(null===A.x||void 0===A.x||null===(i=A.x.userNameValidation)||void 0===i?void 0:i.defaultRegex)?r.errorMessages.push(Pe("user:forms.addUserForm.inputs.username.validations.defaultRegex")):r.errorMessages.push(Pe("user:forms.addUserForm.inputs.username.validations.customRegex",{regex:Me})),We("email")),e.prev=1,w(!0),!t||!0!==r.isValid){e.next=8;break}return e.next=6,(0,z.Fp)(null,null,"userName eq "+t,null,v);case 6:(null==(s=e.sent)?void 0:s.totalResults)>0&&(r.isValid=!1,r.errorMessages.push(Le),We("email"));case 8:w(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),500===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)&&(r.isValid=!1,r.errorMessages.push(Ie),We("email")),w(!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,r){return e.apply(this,arguments)}}(),type:"text",value:r&&r.userName,tabIndex:1,maxLength:60}),((null===A.x||void 0===A.x||null===(e=A.x.userNameValidation)||void 0===e?void 0:e.validateViaAPI)||Me===(null===A.x||void 0===A.x||null===(t=A.x.userNameValidation)||void 0===t?void 0:t.defaultRegex))&&g.createElement(f.kW,null,null!==A.x&&void 0!==A.x&&null!==(n=A.x.userNameValidation)&&void 0!==n&&n.validateViaAPI||Me!==(null===A.x||void 0===A.x||null===(a=A.x.userNameValidation)||void 0===a?void 0:a.defaultRegex)?null!=le&&le.isAlphanumericOnly?Pe("extensions:manage.features.user.addUser.validation.usernameHint",{maxLength:null==le?void 0:le.maxLength,minLength:null==le?void 0:le.minLength}):Pe("extensions:manage.features.user.addUser.validation.usernameSpecialCharHint",{maxLength:null==le?void 0:le.maxLength,minLength:null==le?void 0:le.minLength}):Pe("user:forms.addUserForm.inputs.username.hint.defaultRegex")),g.createElement(m.gN,{"data-testid":"user-mgt-add-user-form-alphanumeric-email-input",label:"Email",name:"email",placeholder:Pe("user:forms.addUserForm.inputs.email.placeholder"),required:c,requiredErrorMessage:Pe("user:forms.addUserForm.inputs.email.validations.empty"),validation:function(){var e=W(G().mark((function e(t,r){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0),t&&!O.I.email(t)?(r.isValid=!1,r.errorMessages.push(Re),We("email"),Se(!1)):Se(!0),w(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),type:"email",value:r&&r.email,tabIndex:1,maxLength:60,listen:Ge})))}(),!s.includes(F.Wx.FIRSTNAME)&&g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement(m.gN,{"data-testid":"user-mgt-add-user-form-firstName-input",label:Pe("user:forms.addUserForm.inputs.firstName.label"),name:"firstName",placeholder:Pe("user:forms.addUserForm.inputs.firstName.placeholder"),required:l,requiredErrorMessage:Pe("user:forms.addUserForm.inputs.firstName.validations.empty"),type:"text",value:r&&r.firstName,tabIndex:2,maxLength:30,validation:function(){var e=W(G().mark((function e(t,r){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.includes("/")&&(r.isValid=!1,r.errorMessages.push("First Name cannot contain the forward slash (/) character."));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}))),!s.includes(F.Wx.LASTNAME)&&g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement(m.gN,{"data-testid":"user-mgt-add-user-form-lastName-input",label:Pe("user:forms.addUserForm.inputs.lastName.label"),name:"lastName",placeholder:Pe("user:forms.addUserForm.inputs.lastName.placeholder"),required:u,requiredErrorMessage:Pe("user:forms.addUserForm.inputs.lastName.validations.empty"),type:"text",value:r&&r.lastName,tabIndex:3,maxLength:30,validation:function(){var e=W(G().mark((function e(t,r){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.includes("/")&&(r.isValid=!1,r.errorMessages.push("Last Name cannot contain the forward slash (/) character."));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}))),s.includes(F.Wx.PASSWORD)?null:g.createElement(S.Z.Row,{columns:1},g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement(M.Z.Field,null,g.createElement("label",{className:"mb-3"},Pe("user:forms.addUserForm.buttons.radioButton.label")),g.createElement(j.Z,{label:Fe.label,"data-testId":Fe["data-testid"],name:"handlePasswordGroup",value:Fe.value,checked:Y===Fe.value,onChange:function(e,t){return K(null==t?void 0:t.value)}})),Y===Fe.value?g.createElement("div",{className:"mt-4 mb-4 ml-4"},g.createElement(_.Z,{compact:!0,size:"small",className:"mb-4"},a?g.createElement(_.Z.Item,{name:Pe("user:modals.addUserWizard.askPassword.inviteViaEmail"),active:J===F.mt.EMAIL,onClick:function(){return ee(F.mt.EMAIL)}}):g.createElement(f.GI,{basic:!0,inverted:!0,position:"top center",content:a?Ue&&be?null:Pe("user:modals.addUserWizard.askPassword.emailInvalid"):g.createElement(Z.c,{i18nKey:"user:modals.addUserWizard.askPassword.emailVerificationDisabled"},"To invite users to set the password, enable email invitations for user password setup from ",g.createElement(f.rU,{onClick:function(){return x.m.push(U.$.getPaths().get("GOVERNANCE_CONNECTOR_EDIT").replace(":categoryId",L.v.USER_ONBOARDING_CONNECTOR_ID).replace(":connectorId",L.v.ASK_PASSWORD_CONNECTOR_ID))},external:!1},"Login & Registration settings"),"."),hoverable:!0,trigger:g.createElement(_.Z.Item,{name:Pe("user:modals.addUserWizard.askPassword.inviteViaEmail"),disabled:!0})}),g.createElement(_.Z.Item,{name:Pe("user:modals.addUserWizard.askPassword.inviteOffline"),active:J===F.mt.OFFLINE,onClick:function(){return ee(F.mt.OFFLINE)}})),Qe()):null,g.createElement(M.Z.Field,null,g.createElement(j.Z,{label:Be.label,"data-testId":Be["data-testid"],name:"handlePasswordGroup",value:Be.value,checked:Y===Be.value,onChange:function(e,t){return K(null==t?void 0:t.value)}})),Y===Be.value?g.createElement(g.Fragment,null,g.createElement(S.Z.Row,{columns:2},g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:10},g.createElement("div",{className:"generate-password"},g.createElement(m.gN,{"data-testid":"user-mgt-add-user-form-newPassword-input",className:"addon-field-wrapper full-width",hidePassword:Pe("common:hidePassword"),label:Pe("user:forms.addUserForm.inputs.newPassword.label"),name:"newPassword",placeholder:Pe("user:forms.addUserForm.inputs.newPassword.placeholder"),required:!0,requiredErrorMessage:Pe("user:forms.addUserForm.inputs.newPassword.validations.empty"),showPassword:Pe("common:showPassword"),type:"password",value:pe||(null==r?void 0:r.newPassword),validation:$e,tabIndex:5,enableReinitialize:!0,listen:De,maxWidth:60}),ie&&g.createElement(f.zx,{basic:!0,primary:!0,size:"tiny","data-testid":"user-mgt-password-generate-button",type:"button",className:"info add-user-step-button",onClick:function(){var e=(0,B.F2)(Number(ie.minLength),Number(ie.minLowerCaseCharacters)>0,Number(ie.minUpperCaseCharacters)>0,Number(ie.minNumbers)>0,Number(ie.minSpecialCharacters)>0,Number(ie.minLowerCaseCharacters),Number(ie.minUpperCaseCharacters),Number(ie.minNumbers),Number(ie.minSpecialCharacters),Number(ie.minUniqueCharacters));ve(e),ne(e)}},"Generate")),ie&&g.createElement(f.Tj,{password:re,minLength:Number(ie.minLength),maxLength:Number(ie.maxLength),minNumbers:Number(ie.minNumbers),minUpperCase:Number(ie.minUpperCaseCharacters),minLowerCase:Number(ie.minLowerCaseCharacters),minSpecialChr:Number(ie.minSpecialCharacters),minUniqueChr:Number(ie.minUniqueCharacters),maxConsecutiveChr:Number(ie.maxConsecutiveCharacters),onPasswordValidate:ze,translations:{case:Number(null==ie?void 0:ie.minUpperCaseCharacters)>0&&Number(null==ie?void 0:ie.minLowerCaseCharacters)>0?Pe("extensions:manage.features.user.addUser.validation.passwordCase",{minLowerCase:ie.minLowerCaseCharacters,minUpperCase:ie.minUpperCaseCharacters}):Number(null==ie?void 0:ie.minUpperCaseCharacters)>0?Pe("extensions:manage.features.user.addUser.validation.upperCase",{minUpperCase:ie.minUpperCaseCharacters}):Pe("extensions:manage.features.user.addUser.validation.lowerCase",{minLowerCase:ie.minLowerCaseCharacters}),consecutiveChr:Pe("extensions:manage.features.user.addUser.validation.consecutiveCharacters",{repeatedChr:ie.maxConsecutiveCharacters}),length:Pe("extensions:manage.features.user.addUser.validation.passwordLength",{max:ie.maxLength,min:ie.minLength}),numbers:Pe("extensions:manage.features.user.addUser.validation.passwordNumeric",{min:ie.minNumbers}),specialChr:Pe("extensions:manage.features.user.addUser.validation.specialCharacter",{specialChr:ie.minSpecialCharacters}),uniqueChr:Pe("extensions:manage.features.user.addUser.validation.uniqueCharacters",{uniqueChr:ie.minUniqueCharacters})}}))),g.createElement("div",{ref:Ce})):null))))};Q.defaultProps={hiddenFields:[],requestedPasswordOption:F.Rd.ASK_PASSWORD};var Y=r(29893);function K(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return ee(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ee(e,t):void 0}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var te=function(e){var t,r,n=e.initialValues,a=e.triggerSubmit,i=e.onSubmit,s=e.handleGroupListChange,o=e.handleTempListChange,l=e.handleInitialTempListChange,u=e.handleSetGroupId,c=(0,y.$)().t,d=X((0,g.useState)([]),2),p=d[0],v=d[1],h=X((0,g.useState)(!1),2)[1];(0,g.useEffect)((function(){v(null==n?void 0:n.tempGroupList)}),[null==n?void 0:n.tempGroupList]);return g.createElement(m.Es,{onSubmit:function(){i({groups:null==n?void 0:n.tempGroupList})},submitState:a},g.createElement(f.IX,{selectionComponent:!0,searchPlaceholder:c("transferList:searchPlaceholder",{type:"Groups"}),handleUnelectedListSearch:function(e,t){var r=t.value,a=[];if((0,T.Z)(r))s(null==n?void 0:n.initialGroupList);else{var i=new RegExp((0,Y.Z)(r),"i");n.initialGroupList&&n.initialGroupList.map((function(e){i.test(e.displayName)&&(a.push(e),s(a))}))}},"data-testid":"user-mgt-add-user-wizard-modal"},g.createElement(f.Jv,{isListEmpty:!((null==n||null===(t=n.groupList)||void 0===t?void 0:t.length)>0),listType:"unselected",emptyPlaceholderContent:c("transferList:list.emptyPlaceholders.users.roles.unselected",{type:"groups"}),"data-testid":"user-mgt-add-user-wizard-modal-unselected-transfer-list",emptyPlaceholderDefaultContent:c("transferList:list.emptyPlaceholders.default")},null==n||null===(r=n.groupList)||void 0===r?void 0:r.map((function(e,t){var r,a=null==e||null===(r=e.displayName)||void 0===r?void 0:r.split("/");return g.createElement(f.qT,{handleItemChange:function(){return function(e){var t,r=K(p);null!=r&&r.includes(e)?r.splice(r.indexOf(e),1):r.push(e),o(r),l(r),h((null==n||null===(t=n.groupList)||void 0===t?void 0:t.length)===r.length)}(e)},key:t,listItem:(null==a?void 0:a.length)>1?a[1]:null==e?void 0:e.displayName,listItemId:e.id,listItemIndex:t,listItemTypeLabel:null,isItemChecked:null==p?void 0:p.includes(e),showSecondaryActions:!1,handleOpenPermissionModal:function(){return u(e.id)},"data-testid":"user-mgt-add-user-wizard-modal-unselected-groups"})})))))},re=r(77337),ne=r(78864),ae=r(33763),ie=r(49748),se=r(89497),oe=r(37612),le=r(51835),ue=r.n(le),ce=r(27975),de=r.n(ce),me=r(55900),fe=r.n(me),pe=r(21555),ve=r.n(pe),he=r(3621),ge=r.n(he),ye=r(5062),Ee=r.n(ye),be=r(72516),Se={};Se.styleTagTransform=Ee(),Se.setAttributes=ve(),Se.insert=fe().bind(null,"head"),Se.domAPI=de(),Se.insertStyleElement=ge();ue()(be.Z,Se);be.Z&&be.Z.locals&&be.Z.locals;var we=r(82555),Ue=function(e){var t=e.setUserTypeSelection,r=e.userTypeSelection,n=(0,y.$)().t;return g.createElement(g.Fragment,null,g.createElement(ie.Z,{container:!0,spacing:4,padding:2,alignContent:"center",height:"100%"},g.createElement(ie.Z,{xs:6},g.createElement(ne.Z,{key:"external-user-selection",onClick:function(){return t(we.lu.EXTERNAL)},className:r===we.lu.EXTERNAL?"user-type-card selected-card":"user-type-card"},g.createElement(ae.Z,null,g.createElement(ie.Z,{container:!0,padding:0,justifyContent:"center",className:"mb-5"},g.createElement(re.Z,{variant:"rounded"},g.createElement(oe.Wg,null))),g.createElement(ie.Z,{padding:1,textAlign:"center"},g.createElement(se.Z,{variant:"h6"},n("users:addUserType.createUser.title"))),g.createElement(ie.Z,{padding:1,textAlign:"center"},g.createElement(se.Z,{variant:"body2",color:"text.secondary"},n("users:addUserType.createUser.description")))))),g.createElement(ie.Z,{xs:6},g.createElement(ne.Z,{key:"internal-user-selection",onClick:function(){return t(we.lu.INTERNAL)},className:r===we.lu.INTERNAL?"user-type-card selected-card":"user-type-card"},g.createElement(ae.Z,null,g.createElement(ie.Z,{container:!0,padding:0,justifyContent:"center",className:"mb-5"},g.createElement(re.Z,{variant:"rounded",className:"user-type-avatar"},g.createElement(oe.Wg,null))),g.createElement(ie.Z,{padding:1,textAlign:"center"},g.createElement(se.Z,{variant:"h6"},n("users:addUserType.inviteParentUser.title"))),g.createElement(ie.Z,{padding:1,textAlign:"center"},g.createElement(se.Z,{variant:"body2",color:"text.secondary"},n("users:addUserType.inviteParentUser.description"))))))))},xe=r(87029),Ce=r(16590),Ne=r(62508),Pe=r(10909),Ae=r(92e3);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Te=function(e){var t=e.selectedUserStore,r=e.username,n=e.password,a=e.isPasswordBased,i=e["data-componentid"],s=(0,y.$)().t,o=(0,E.I0)(),l=(0,E.v9)((function(e){return e.auth.tenantDomain})),u=(0,E.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organizationType})),m=(0,E.v9)((function(e){var t;return null==e||null===(t=e.organization)||void 0===t?void 0:t.organization})),p=Ie((0,g.useState)(""),2),v=p[0],h=p[1],b=Ie((0,g.useState)(!0),2),U=b[0],x=b[1],C=(0,g.useMemo)((function(){return u===xe.$B.SUBORGANIZATION?null==m?void 0:m.name:l}),[l,m]);(0,g.useEffect)((function(){!a&&N()}),[]);var N=function(){(0,Ae.mK)(r,t).then((function(e){h(e)})).catch((function(e){var t;e.response&&401!==e.response.status?null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.detail?o((0,d.V_)({description:s("extensions:manage.features.user.addUser.inviteLink.error.description",{description:e.response.data.detail}),level:c.QU.ERROR,message:s("extensions:manage.features.user.addUser.inviteLink.error.message")})):o((0,d.V_)({description:s("extensions:manage.features.user.addUser.inviteLink.genericError.description"),level:c.QU.ERROR,message:s("extensions:manage.features.user.addUser.inviteLink.genericError.message")})):o((0,d.V_)({description:s("extensions:manage.features.user.addUser.inviteLink.error.description"),level:c.QU.ERROR,message:s("extensions:manage.features.user.addUser.inviteLink.error.message")}))})).finally((function(){x(!1)}))},P=function(){if(a){var e=s("extensions:manage.features.user.addUser.summary.invitationBody.hi")+"\n\n"+s("extensions:manage.features.user.addUser.summary.invitationPasswordBodyCopy.accountHasBeenCreated").replace("$tenantname",C)+"\n\n"+s("extensions:manage.features.user.addUser.summary.username")+": ".concat(r,"\n")+s("extensions:manage.features.user.addUser.summary.password")+": ".concat(n,"\n\n")+s("extensions:manage.features.user.addUser.summary.invitationBody.thanks")+",\n"+s("extensions:manage.features.user.addUser.summary.invitationBodyCopy.team").replace("$tenantname",C);Ce.CommonUtils.copyTextToClipboard(e)}else{var t=s("extensions:manage.features.user.addUser.summary.invitationBody.hi")+"\n\n"+s("extensions:manage.features.user.addUser.summary.invitationBodyCopy.accountHasBeenCreated").replace("$username",r).replace("$tenantname",C)+"\n\n"+s("extensions:manage.features.user.addUser.summary.invitationBody.pleaseFollowTheLink")+"\n\n"+s("extensions:manage.features.user.addUser.summary.invitationLink")+":\n"+"".concat(v,"\n\n")+s("extensions:manage.features.user.addUser.summary.invitationBody.thanks")+",\n"+s("extensions:manage.features.user.addUser.summary.invitationBodyCopy.team").replace("$tenantname",C);Ce.CommonUtils.copyTextToClipboard(t)}};return a?g.createElement(S.Z,{className:"wizard-summary"},g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16},g.createElement(f.v0,{className:"mb-5",warning:!0},g.createElement(S.Z,null,g.createElement(S.Z.Column,{width:1,className:"pt-0 pb-0"},g.createElement(w.Z,{name:"info circle",size:"large"})),g.createElement(S.Z.Column,{width:15,className:"pt-0 pb-0"},s("extensions:manage.features.user.addUser.summary.passwordWarningMessage")))),g.createElement("label",null,s("extensions:manage.features.user.addUser.summary.password")),g.createElement(f.OR,{className:"mt-2",value:n,"data-componentid":"".concat(i,"-user-password-field"),secret:!0}),g.createElement(Ne.Z,{horizontal:!0,section:!0},"Or"),g.createElement("label",null,s("extensions:manage.features.user.addUser.summary.invitation")),g.createElement(S.Z,{className:"segment mt-2"},g.createElement(S.Z.Column,{width:14},s("extensions:manage.features.user.addUser.summary.invitationBody.hi"),g.createElement("br",null),g.createElement("br",null),g.createElement(Z.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationPasswordBody.accountHasBeenCreated",tOptions:{tenantname:C}},"An account has been created for you in the ",C," organization. Your credentials are as follows."),g.createElement("br",null),g.createElement("br",null),s("extensions:manage.features.user.addUser.summary.username"),": ",r,g.createElement("br",null),s("extensions:manage.features.user.addUser.summary.password"),": ",n,g.createElement("br",null),g.createElement("br",null),s("extensions:manage.features.user.addUser.summary.invitationBody.thanks"),",",g.createElement("br",null),g.createElement(Z.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationBody.team",tOptions:{tenantname:C}},C," team")),g.createElement(S.Z.Column,{width:2},g.createElement(f.GI,{content:"Copy to clipboard",position:"top center",trigger:g.createElement(Pe.Z,{icon:"copy",floated:"right",onClick:function(){return P()}}),inverted:!0,popper:g.createElement("div",{style:{filter:"none"}})})))))):U?g.createElement(f.pO,null):g.createElement(S.Z,{className:"wizard-summary"},g.createElement(S.Z.Row,null,g.createElement(S.Z.Column,{mobile:16,tablet:16,computer:16},g.createElement(f.v0,{className:"mb-5",warning:!0},g.createElement(S.Z,null,g.createElement(S.Z.Column,{width:1,className:"pt-0 pb-0"},g.createElement(w.Z,{name:"info circle",size:"large"})),g.createElement(S.Z.Column,{width:15,className:"pt-0 pb-0"},s("extensions:manage.features.user.addUser.summary.inviteWarningMessage")))),g.createElement("label",null,s("extensions:manage.features.user.addUser.summary.invitationLink")),g.createElement(f.OR,{className:"mt-2",value:v,"data-componentid":"".concat(i,"-invitation-link")}),g.createElement(Ne.Z,{horizontal:!0,section:!0},"Or"),g.createElement("label",null,s("extensions:manage.features.user.addUser.summary.invitation")),g.createElement(S.Z,{className:"segment mt-2"},g.createElement(S.Z.Column,{width:14},s("extensions:manage.features.user.addUser.summary.invitationBody.hi"),g.createElement("br",null),g.createElement("br",null),g.createElement(Z.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationBody.accountHasBeenCreated",tOptions:{tenantname:C,username:r}},"An account has been created for the username,",r," in the ",C," organization."),g.createElement("br",null),g.createElement("br",null),s("extensions:manage.features.user.addUser.summary.invitationBody.pleaseFollowTheLink"),g.createElement("br",null),g.createElement("br",null),s("extensions:manage.features.user.addUser.summary.invitationLink"),":",g.createElement("br",null),g.createElement("p",{className:"line-break-anywhere"},v),g.createElement("br",null),g.createElement("br",null),s("extensions:manage.features.user.addUser.summary.invitationBody.thanks"),",",g.createElement("br",null),g.createElement(Z.c,{i18nKey:"extensions:manage.features.user.addUser.summary.invitationBody.team",tOptions:{tenantname:C}},C," team")),g.createElement(S.Z.Column,{width:2},g.createElement(f.GI,{content:"Copy to clipboard",position:"top center",trigger:g.createElement(Pe.Z,{icon:"copy",floated:"right",onClick:function(){return P()}}),inverted:!0,popper:g.createElement("div",{style:{filter:"none"}})}))))))};Te.defaultProps=Re(Re({},"data-componentid","add-user-wizard-summary"),"isPasswordBased",!1);var Ze=r(91749),_e=r(66796);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Me(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ze(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ke(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||Be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){if(e){if("string"==typeof e)return De(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ge=function(e){var t,r=e.closeWizard,U=e.currentStep,x=e.defaultUserTypeSelection,C=e.emailVerificationEnabled,N=e.onSuccessfulUserAddition,P=e.userStore,A=e.requiredSteps,L=e["data-testid"],R=e["data-componentid"],I=(0,y.$)().t,O=(0,E.I0)(),T=Fe((0,f.IK)(),3),Z=T[0],_=T[1],k=T[2],M=(0,o.z)().isSubOrganization,V=(0,l.Z)(),j=V.isUserStoreReadOnly,z=V.userStoresList,D=Fe((0,m.cC)(),2),G=D[0],q=D[1],W=Fe((0,m.cC)(),2),H=W[0],$=W[1],Y=Fe((0,m.cC)(),2),K=Y[0],X=Y[1],J=(0,E.v9)((function(e){return e.profile.profileSchemas})),ee=Fe((0,g.useState)(void 0),2),re=ee[0],ne=ee[1],ae=Fe((0,g.useState)(U),2),ie=ae[0],se=ae[1],oe=Fe((0,g.useState)(void 0),2),le=oe[0],ue=oe[1],ce=Fe((0,g.useState)(void 0),2),de=ce[0],me=ce[1],fe=Fe((0,g.useState)([]),2),pe=fe[0],ve=fe[1],he=Fe((0,g.useState)([]),2),ge=he[0],ye=he[1],Ee=Fe((0,g.useState)([]),2),be=Ee[0],Se=Ee[1],we=Fe((0,g.useState)([]),2),xe=we[0],Ce=we[1],Ne=Fe((0,g.useState)(!1),2),Pe=Ne[0],Le=Ne[1],Re=Fe((0,g.useState)(!1),2),Ie=Re[0],Oe=Re[1],ke=Fe((0,g.useState)(!1),2),Ve=ke[0],De=ke[1],Ge=Fe((0,g.useState)(!1),2),qe=Ge[0],We=Ge[1],He=Fe((0,g.useState)(!0),2),$e=He[0],Qe=He[1],Ye=Fe((0,g.useState)(!0),2),Ke=Ye[0],Xe=Ye[1],Je=Fe((0,g.useState)(!1),2),et=Je[0],tt=Je[1],rt=Fe((0,g.useState)(!0),2),nt=rt[0],at=rt[1],it=Fe((0,g.useState)(!1),2),st=it[0],ot=it[1],lt=Fe((0,g.useState)([]),2),ut=lt[0],ct=lt[1],dt=Fe((0,g.useState)(null!=P?P:i.w.primaryUserstoreName),2),mt=dt[0],ft=dt[1],pt=Fe((0,g.useState)([]),2),vt=pt[0],ht=pt[1],gt=Fe((0,g.useState)(!0),2),yt=gt[0],Et=gt[1],bt=Fe((0,g.useState)(""),2),St=bt[0],wt=bt[1],Ut=Fe((0,g.useState)(F.lu.EXTERNAL),2),xt=Ut[0],Ct=Ut[1],Nt=Fe((0,g.useState)(void 0),2),Pt=Nt[0],At=Nt[1],Lt=(0,u.W)().data,Rt=(0,s.Ug)(mt,"members",null,xt===F.lu.EXTERNAL),It=Rt.data,Ot=Rt.error,Tt=(0,g.useMemo)((function(){var e=[{key:-1,text:i.w.primaryUserstoreName,value:i.w.primaryUserstoreId}];return(null==z?void 0:z.length)>0&&z.map((function(t,r){var n=j(t.name),a=t.enabled;if(t.name.toUpperCase()!==i.w.primaryUserstoreName&&!n&&a){var s={key:r,text:t.name,value:t.id};e.push(s)}})),e}),[z]);(0,g.useEffect)((function(){jt(J)}),[]),(0,g.useEffect)((function(){if(It){var e=It.Resources;if(0===It.itemsPerPage)return ve([]),Se([]),void me([]);e&&e instanceof Array&&(ve(e),Se(e),me(e))}}),[It]),(0,g.useEffect)((function(){x&&ue(je(je({},le),{},ze({},F.lP.USER_TYPE,{userType:x})))}),[x]),(0,g.useEffect)((function(){var e;Oe("true"===(null===(e=(0,B.t$)(Lt))||void 0===e?void 0:e.enableValidator))}),[Lt]),(0,g.useEffect)((function(){void 0!==re&&(se(ie-1),ne(void 0))}),[re]),(0,g.useEffect)((function(){var e,t;le&&null!==(e=le[F.lP.BASIC_DETAILS])&&void 0!==e&&e.domain&&ft(le&&(null===(t=le[F.lP.BASIC_DETAILS])||void 0===t?void 0:t.domain))}),[le&&(null===(t=le[F.lP.BASIC_DETAILS])||void 0===t?void 0:t.domain)]),(0,g.useEffect)((function(){if(le&&de&&(M()||z)){var e=[];e.push.apply(e,Me(zt([F.lP.BASIC_DETAILS]))),At(F.lP.BASIC_DETAILS),(null==de?void 0:de.length)>0&&(e.push.apply(e,Me(zt([F.lP.GROUP_LIST]))),At(F.lP.GROUP_LIST)),xt===F.lu.EXTERNAL&&yt&&e.push.apply(e,Me(zt([F.lP.USER_SUMMARY]))),ct(e),We(!0)}}),[de,yt,xt]),(0,g.useEffect)((function(){Ot&&(Ot.response&&Ot.response.data&&Ot.response.data.description?O((0,d.V_)({description:Ot.response.data.description,level:c.QU.ERROR,message:I("console:manage.features.groups.notifications.fetchGroups.error.message")})):O((0,d.V_)({description:I("console:manage.features.groups.notifications.fetchGroups.genericError.description"),level:c.QU.ERROR,message:I("console:manage.features.groups.notifications.fetchGroups.genericError.message")})))}),[Ot]);var Zt,_t,kt,Mt,Vt=function(){var e=i.w.primaryUserstoreId;if(mt){var t=null==z?void 0:z.find((function(e){return e.name===mt}));t&&(e=t.id)}return e},jt=function(e){var t,r=[],n=e.find((function(e){return"name"===e.name})),a=e.find((function(e){return"emails"===e.name}));if(a&&(r.push(F.Wx.EMAIL),tt(a.required)),(null==n||null===(t=n.subAttributes)||void 0===t?void 0:t.length)>0){var i=n.subAttributes.find((function(e){return"givenName"===e.name})),s=n.subAttributes.find((function(e){return"familyName"===e.name}));i&&s?(Qe(i.required),Xe(s.required)):(i&&(r.push(F.Wx.LASTNAME),Qe(i.required)),s&&(r.push(F.Wx.FIRSTNAME),Xe(s.required)))}else r.push(F.Wx.FIRSTNAME,F.Wx.LASTNAME);ht(r)},zt=function(e){var t=function(e){var t=[];return e.forEach((function(e){e===F.lP.USER_MODE?t.push(Ht()):e===F.lP.BASIC_DETAILS?t.push($t()):e===F.lP.GROUP_LIST?t.push(Qt()):e===F.lP.USER_SUMMARY&&t.push(Yt())})),t};return t(A?(0,v.Z)(e,A):e)},Ft=function(){var e,t,n,a;(null===(e=ut[ie])||void 0===e?void 0:e.name)===F.lP.USER_MODE&&Gt(le[F.lP.USER_MODE],F.lP.USER_MODE),(null===(t=ut[ie])||void 0===t?void 0:t.name)===F.lP.BASIC_DETAILS&&q(),(null===(n=ut[ie])||void 0===n?void 0:n.name)===F.lP.GROUP_LIST&&$(),(null===(a=ut[ie])||void 0===a?void 0:a.name)===F.lP.USER_SUMMARY&&(X(),N(St),r())},Bt=function(){ne(ie)},Dt=function(e,t){var r=[],n={Operations:[{op:"add",value:{members:[{display:e.userName,value:e.id}]}}],schemas:["urn:ietf:params:scim:api:messages:2.0:PatchOp"]};if(t.length>0){t.map((function(e){r.push(e.id)}));var a,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Be(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}(r);try{for(i.s();!(a=i.n()).done;){var o=a.value;(0,s.fF)(o,n).catch((function(e){e.response&&401!==e.response.status?e.response&&e.response.data&&e.response.data.detail?_({description:I("users:notifications.addUser.error.description",{description:e.response.data.detail}),level:c.QU.ERROR,message:I("users:notifications.addUser.error.message")}):_({description:I("users:notifications.addUser.genericError.description"),level:c.QU.ERROR,message:I("users:notifications.addUser.genericError.message")}):_({description:I("users:notifications.addUser.error.description"),level:c.QU.ERROR,message:I("users:notifications.addUser.error.message")})}))}}catch(l){i.e(l)}finally{i.f()}}},Gt=function(e,t){!yt||t!==F.lP.BASIC_DETAILS&&t!==F.lP.GROUP_LIST||ue(je(je({},le),{},ze({},t,e))),Pt!==t?(se(ie+1),ue(je(je({},le),{},ze({},t,e)))):Wt(qt(e))},qt=function(e){if(le){var t=je({},le),r={};e&&(r=je({},e));for(var n=0,a=Object.values(t);n<a.length;n++){var i=a[n];r=je(je({},r),i)}return(0,h.Z)((0,p.Z)(r))}},Wt=function(e){!function(e){var t="";t=Ie?e.domain+"/"+e.userName:e.domain+"/"+e.email;var n,i=(0,_e.N0)(),s=e.newPassword;i=nt?{emails:[{primary:!0,value:e.email}],name:{familyName:e.lastName,givenName:e.firstName},password:s,profileUrl:e.profileUrl,userName:t}:st?{emails:[{primary:!0,value:e.email}],name:{familyName:e.lastName,givenName:e.firstName},password:(n=(0,B.P_)(Lt),void 0===n?(0,B.F2)(10,!0,!0,!0,!0,1,1,1,1):(0,B.F2)(Number(n.minLength),Number(n.minLowerCaseCharacters)>0,Number(n.minUpperCaseCharacters)>0,Number(n.minNumbers)>0,Number(n.minSpecialCharacters)>0,Number(n.minLowerCaseCharacters),Number(n.minUpperCaseCharacters),Number(n.minNumbers),Number(n.minSpecialCharacters),Number(n.minUniqueCharacters))),profileUrl:e.profileUrl,userName:t}:ze(ze({emails:[{primary:!0,value:e.email}],name:{familyName:e.lastName,givenName:e.firstName},profileUrl:e.profileUrl},a.k.scim.systemSchema,{askPassword:"true"}),"userName",t),Le(!0),(0,Ae.cn)(i).then((function(t){var n,a;202===t.status?O((0,d.V_)({description:I("users:notifications.addUserPendingApproval.success.description"),level:c.QU.WARNING,message:I("users:notifications.addUserPendingApproval.success.message")})):O((0,d.V_)({description:I("users:notifications.addUser.success.description"),level:c.QU.SUCCESS,message:I("users:notifications.addUser.success.message")})),null!=e&&e.groups&&Dt(t.data,null==e?void 0:e.groups),wt(null===(n=t.data)||void 0===n?void 0:n.id),yt?se(ie+1):(r(),N(null===(a=t.data)||void 0===a?void 0:a.id))})).catch((function(e){e.response&&401!==e.response.status?e.response&&403===e.response.status&&e.response.data&&e.response.data.scimType===F._F.ERROR_USER_LIMIT_REACHED?(r(),O((0,d.V_)({description:I("extensions:manage.users.notifications.addUser.customerUser.limitReachError.description"),level:c.QU.ERROR,message:I("extensions:manage.users.notifications.addUser.customerUser.limitReachError.message")}))):e.response&&e.response.data&&e.response.data.detail?(r(),O((0,d.V_)({description:I("users:notifications.addUser.error.description",{description:e.response.data.detail}),level:c.QU.ERROR,message:I("users:notifications.addUser.error.message")}))):(r(),O((0,d.V_)({description:I("users:notifications.addUser.genericError.description"),level:c.QU.ERROR,message:I("users:notifications.addUser.genericError.message")}))):(r(),O((0,d.V_)({description:I("users:notifications.addUser.error.description"),level:c.QU.ERROR,message:I("users:notifications.addUser.error.message")})))})).finally((function(){Le(!1)}))}(e)},Ht=function(){return{content:g.createElement(Ue,{userTypeSelection:xt,setUserTypeSelection:Ct}),icon:(0,Ze.J)().user,name:F.lP.USER_MODE,title:I("user:modals.addUserWizard.steps.method")}},$t=function(){var e;return{content:g.createElement(Q,{triggerSubmit:G,initialValues:le&&le[F.lP.BASIC_DETAILS],emailVerificationEnabled:C,onSubmit:function(e){return Gt(e,F.lP.BASIC_DETAILS)},hiddenFields:vt,requestedPasswordOption:le&&(null===(e=le[F.lP.BASIC_DETAILS])||void 0===e?void 0:e.passwordOption),isUserstoreRequired:!1,isFirstNameRequired:$e,isLastNameRequired:Ke,isEmailRequired:et,setUserSummaryEnabled:Et,setAskPasswordFromUser:at,setOfflineUser:ot,selectedUserStore:mt,setSelectedUserStore:ft,isBasicDetailsLoading:Ve,setBasicDetailsLoading:De,validationConfig:Lt,readWriteUserStoresList:Tt,selectedUserStoreId:Vt()}),icon:(0,Ze.J)().general,name:F.lP.BASIC_DETAILS,title:I("user:modals.addUserWizard.steps.basicDetails")}},Qt=function(){return{content:g.createElement(te,{triggerSubmit:H,onSubmit:function(e){return Gt(e,F.lP.GROUP_LIST)},initialValues:{groupList:pe,initialGroupList:be,initialTempGroupList:xe,tempGroupList:ge},handleGroupListChange:function(e){return function(e){ve(e)}(e)},handleTempListChange:function(e){ye(e)},handleInitialTempListChange:function(e){Ce(e)},handleInitialGroupListChange:function(e){return function(e){Se(e)}(e)},handleSetGroupId:null}),icon:(0,Ze.J)().groups,name:F.lP.GROUP_LIST,title:I("user:modals.addUserWizard.steps.groups")}},Yt=function(){var e,t,r;return{content:g.createElement(Te,{triggerSubmit:K,selectedUserStore:mt,username:Ie?le&&(null===(e=le[F.lP.BASIC_DETAILS])||void 0===e?void 0:e.userName):le&&(null===(t=le[F.lP.BASIC_DETAILS])||void 0===t?void 0:t.email),password:le&&(null===(r=le[F.lP.BASIC_DETAILS])||void 0===r?void 0:r.newPassword),isPasswordBased:nt}),icon:(0,Ze.J)().summary,name:F.lP.USER_SUMMARY,title:I("user:modals.addUserWizard.steps.invitation")}};return ut&&qe?g.createElement(b.Z,{"data-testid":L,"data-componentid":R,open:!0,className:"wizard application-create-wizard",dimmer:"blurring",size:"small",onClose:r,closeOnDimmerClick:!1,closeOnEscape:!0},g.createElement(b.Z.Header,{className:"wizard-header"},function(){var e,t,r="";(r=xt===F.rb.EXTERNAL?I("extensions:manage.users.wizard.addUser.title"):I("parentOrgInvitations:addUserWizard.heading"),le&&null!==(e=le[F.lP.BASIC_DETAILS])&&void 0!==e&&e.firstName)?r+=" - "+(null===(t=le[F.lP.BASIC_DETAILS])||void 0===t?void 0:t.firstName):r+="";return r}(),g.createElement(f.X6,{as:"h6"},I("extensions:manage.users.wizard.addUser.subtitle"))),g.createElement(g.Fragment,null,g.createElement(b.Z.Content,{className:"steps-container"},g.createElement(f.Rg.Group,{current:ie},ut.map((function(e,t){return g.createElement(f.Rg.Step,{key:t,icon:e.icon,title:e.title})})))),g.createElement(b.Z.Content,{className:"content-container",scrolling:!0},Z&&k,function(){var e,t,r,n,a;switch(null===(e=ut[ie])||void 0===e?void 0:e.name){case F.lP.USER_MODE:return null===(t=Ht())||void 0===t?void 0:t.content;case F.lP.BASIC_DETAILS:return null===(r=$t())||void 0===r?void 0:r.content;case F.lP.GROUP_LIST:return null===(n=Qt())||void 0===n?void 0:n.content;case F.lP.USER_SUMMARY:return null===(a=Yt())||void 0===a?void 0:a.content}}())),g.createElement(b.Z.Actions,null,g.createElement(S.Z,null,g.createElement(S.Z.Row,{column:1},g.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},(null===(Zt=ut[ie])||void 0===Zt?void 0:Zt.name)!==F.lP.USER_SUMMARY&&g.createElement(f.Qj,{"data-testid":"".concat(L,"-cancel-button"),"data-componentid":"".concat(R,"-cancel-button"),floated:"left",onClick:function(){r()}},I("common:cancel"))),g.createElement(S.Z.Column,{mobile:8,tablet:8,computer:8},ie<ut.length-1&&g.createElement(f.KM,{"data-testid":"".concat(L,"-next-button"),"data-componentid":"".concat(R,"-next-button"),floated:"right",onClick:Ft,loading:Ve,disabled:Ve},ie===ut.length-2?I("user:modals.addUserWizard.buttons.saveAndContinue"):I("user:modals.addUserWizard.buttons.next"),g.createElement(w.Z,{name:"arrow right"})),ie===ut.length-1&&g.createElement(f.KM,{"data-testid":"".concat(L,"-finish-button"),"data-componentid":"".concat(R,"-finish-button"),floated:"right",onClick:Ft,loading:Pe,disabled:Pe},le?((null===(kt=le[F.lP.USER_TYPE])||void 0===kt?void 0:kt.userType)===n.$.adminRoleName&&I("extensions:manage.features.user.addUser.add"),(null===(Mt=ut[ie])||void 0===Mt?void 0:Mt.name)===F.lP.USER_SUMMARY?I("extensions:manage.features.user.addUser.close"):I("extensions:manage.features.user.addUser.finish")):null),(null==ut?void 0:ut.length)>1&&ie>0&&(null===(_t=ut[ie])||void 0===_t?void 0:_t.name)!==F.lP.USER_SUMMARY&&g.createElement(f.Qj,{"data-testid":"".concat(L,"-previous-button"),"data-componentid":"".concat(R,"-previous-button"),floated:"right",onClick:Bt},g.createElement(w.Z,{name:"arrow left"}),I("user:modals.addUserWizard.buttons.previous"))))))):null};Ge.defaultProps={compact:!1,conditionallyShowStepper:!1,currentStep:0,emailVerificationEnabled:!1,showStepper:!0}},91749:(e,t,r)=>{r.d(t,{J:()=>l});var n=r(51080),a=(r(73611),r(60941)),i=r(58628),s=r(1475),o=r(34137),l=function(){return{general:n.r,groups:a.r,roles:s.r,summary:i.r,user:o.r}}},6643:(e,t,r)=>{r.d(t,{F2:()=>a.F2,I_:()=>n.I_,P_:()=>a.P_,QH:()=>n.QH,t$:()=>n.t$});var n=r(22669),a=r(51318)},34763:(e,t,r)=>{r.d(t,{Z:()=>a});var n=(0,r(44194).createContext)(null);n.displayName="UserStoresContext";const a=n},58613:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(44194),a=r(34763);const i=function(){var e=(0,n.useContext)(a.Z);if(!e)throw new Error("useUserStores must be used within a UserStoresProvider");return e}},58628:(e,t,r)=>{r.d(t,{r:()=>f});var n,a,i,s,o,l,u=r(44194),c=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(null,arguments)}var m=function(e,t){var r=e.title,m=e.titleId,f=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,c);return u.createElement("svg",d({id:"report-icon",className:"icon",width:14,height:14,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",ref:t,"aria-labelledby":m},f),r?u.createElement("title",{id:m},r):null,n||(n=u.createElement("g",null,u.createElement("g",null,u.createElement("path",{className:"path primary",d:"M502,208.749h-64c-5.523,0-10,4.478-10,10v50.5c0,5.522,4.477,10,10,10s10-4.478,10-10v-40.5h44V492h-22h-22V344.249 c0-5.522-4.477-10-10-10s-10,4.478-10,10V492h-20V285c0-5.522-4.477-10-10-10h-64c-5.523,0-10,4.478-10,10v207h-20V355 c0-5.522-4.477-10-10-10h-64c-5.523,0-10,4.478-10,10v137h-20v-79.625c0-5.522-4.477-10-10-10h-64c-5.523,0-10,4.478-10,10V492H30 c-5.514,0-10-4.486-10-10V30c0-5.514,4.486-10,10-10h257.975v66.003c0,16.542,13.458,30,30,30h66V239c0,5.522,4.477,10,10,10 s10-4.478,10-10V106.003c0-2.652-1.054-5.195-2.929-7.071l-96-96.003C303.17,1.054,300.627,0,297.975,0H30C13.458,0,0,13.458,0,30 v452c0,16.542,13.458,30,30,30h472c5.523,0,10-4.478,10-10V218.749C512,213.227,507.523,208.749,502,208.749z M307.975,34.143 l61.859,61.86h-51.859c-5.515,0-10-4.486-10-10V34.143z M180,492h-44v-69.625h44V492z M284,492h-44V365h44V492z M388,492h-44V295 h44V492z"})))),a||(a=u.createElement("g",null,u.createElement("g",null,u.createElement("path",{className:"path secondary",d:"M445.07,297.82c-1.86-1.869-4.44-2.93-7.07-2.93s-5.21,1.061-7.07,2.93c-1.86,1.86-2.93,4.44-2.93,7.07 s1.07,5.21,2.93,7.07c1.86,1.859,4.44,2.93,7.07,2.93s5.21-1.07,7.07-2.93s2.93-4.44,2.93-7.07S446.93,299.68,445.07,297.82z"})))),i||(i=u.createElement("g",null,u.createElement("g",null,u.createElement("path",{className:"path primary",d:"M145.577,54.729c-5.523,0-10,4.478-10,10v17.989c-46.031,4.997-81.975,44.097-81.975,91.435 c0,50.715,41.26,91.975,91.975,91.975c47.338,0,86.438-35.943,91.435-81.975H255c5.523,0,10-4.478,10-10 C265,108.302,211.427,54.729,145.577,54.729z M145.577,246.127c-39.687,0-71.975-32.288-71.975-71.975 c0-36.293,27.005-66.399,61.975-71.282v71.282c0,5.522,4.477,10,10,10h71.282C211.976,219.122,181.87,246.127,145.577,246.127z  M155.577,164.153v-0.001V75.228c46.852,4.702,84.222,42.073,88.924,88.925H155.577z"})))),s||(s=u.createElement("g",null,u.createElement("g",null,u.createElement("path",{className:"path secondary",d:"M255,294.25H64c-5.523,0-10,4.478-10,10c0,5.522,4.477,10,10,10h191c5.523,0,10-4.478,10-10 C265,298.728,260.523,294.25,255,294.25z"})))),o||(o=u.createElement("g",null,u.createElement("g",null,u.createElement("path",{className:"path primary",d:"M128,342.5H64c-5.523,0-10,4.478-10,10c0,5.522,4.477,10,10,10h64c5.523,0,10-4.478,10-10 C138,346.978,133.523,342.5,128,342.5z"})))),l||(l=u.createElement("g",null,u.createElement("g",null,u.createElement("path",{className:"path secondary",d:"M185.15,345.43c-1.86-1.86-4.44-2.93-7.07-2.93c-2.64,0-5.21,1.069-7.07,2.93c-1.87,1.86-2.93,4.44-2.93,7.07 s1.06,5.21,2.93,7.069c1.86,1.86,4.43,2.931,7.07,2.931c2.63,0,5.21-1.07,7.07-2.931c1.86-1.859,2.93-4.439,2.93-7.069 S187.01,347.29,185.15,345.43z"})))))},f=(0,u.forwardRef)(m);r.p},1475:(e,t,r)=>{r.d(t,{r:()=>f});var n,a,i,s,o,l,u=r(44194),c=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(null,arguments)}var m=function(e,t){var r=e.title,m=e.titleId,f=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,c);return u.createElement("svg",d({id:"spin-wheel-icon",className:"icon",height:14,viewBox:"0 0 512 512",width:14,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":m},f),r?u.createElement("title",{id:m},r):null,n||(n=u.createElement("path",{className:"path primary",d:"m90.050781 395.949219c-7.167969 0-14.058593 1.789062-20.171875 5.148437-32.203125-41.28125-49.878906-92.5625-49.878906-145.097656 0-130.132812 105.867188-236 236-236 15.820312 0 31.632812 1.574219 47 4.679688 5.40625 1.09375 10.6875-2.40625 11.78125-7.820313s-2.40625-10.6875-7.820312-11.785156c-16.667969-3.367188-33.8125-5.074219-50.960938-5.074219-68.378906 0-132.667969 26.628906-181.019531 74.980469-48.351563 48.351562-74.980469 112.640625-74.980469 181.019531 0 57.519531 19.53125 113.652344 55.089844 158.652344-4.578125 6.839844-7.039063 14.878906-7.039063 23.296875 0 11.21875 4.371094 21.765625 12.304688 29.695312 7.929687 7.933594 18.476562 12.304688 29.695312 12.304688s21.765625-4.371094 29.699219-12.304688c7.933594-7.929687 12.300781-18.480469 12.300781-29.699219 0-11.214843-4.367187-21.765624-12.300781-29.695312-7.933594-7.933594-18.480469-12.300781-29.699219-12.300781zm15.554688 57.554687c-4.152344 4.15625-9.679688 6.445313-15.554688 6.445313s-11.398437-2.289063-15.554687-6.445313-6.445313-9.679687-6.445313-15.554687c0-5.878907 2.289063-11.402344 6.445313-15.558594 4.152344-4.15625 9.679687-6.441406 15.554687-6.441406s11.398438 2.289062 15.554688 6.441406c4.15625 4.15625 6.445312 9.679687 6.445312 15.558594 0 5.875-2.289062 11.398437-6.445312 15.554687zm0 0"})),a||(a=u.createElement("path",{className:"path primary",d:"m456.902344 97.335938c10.871094-16.308594 9.125-38.605469-5.253906-52.984376-7.933594-7.929687-18.480469-12.300781-29.699219-12.300781s-21.765625 4.371094-29.699219 12.300781c-7.933594 7.933594-12.300781 18.480469-12.300781 29.699219s4.367187 21.765625 12.300781 29.699219 18.480469 12.300781 29.699219 12.300781c7.167969 0 14.058593-1.789062 20.171875-5.148437 32.203125 41.285156 49.878906 92.5625 49.878906 145.097656 0 130.132812-105.867188 236-236 236-15.664062 0-31.328125-1.542969-46.550781-4.589844-5.414063-1.082031-10.683594 2.429688-11.769531 7.84375-1.082032 5.417969 2.429687 10.683594 7.84375 11.769532 16.511718 3.300781 33.496093 4.976562 50.476562 4.976562 68.378906 0 132.667969-26.628906 181.019531-74.980469 48.351563-48.351562 74.980469-112.640625 74.980469-181.019531 0-57.523438-19.535156-113.660156-55.097656-158.664062zm-50.507813-7.726563c-4.15625-4.15625-6.445312-9.679687-6.445312-15.558594 0-5.875 2.289062-11.398437 6.445312-15.554687 4.152344-4.15625 9.679688-6.445313 15.554688-6.445313s11.402343 2.289063 15.558593 6.445313c8.574219 8.578125 8.574219 22.535156 0 31.113281-4.15625 4.152344-9.683593 6.441406-15.558593 6.441406-5.878907 0-11.402344-2.289062-15.554688-6.441406zm0 0"})),i||(i=u.createElement("path",{className:"path primary",d:"m214.734375 428c0 5.523438 4.480469 10 10 10h62.527344c5.523437 0 10-4.476562 10-10v-19.386719c13.148437-3.539062 25.71875-8.75 37.53125-15.554687l13.6875 13.6875c1.875 1.875 4.417969 2.929687 7.074219 2.929687 2.648437 0 5.195312-1.054687 7.070312-2.933593l44.195312-44.226563c3.902344-3.90625 3.902344-10.238281 0-14.140625l-13.671874-13.671875c6.804687-11.8125 12.015624-24.382813 15.554687-37.53125h19.3125c5.523437 0 10-4.476563 10-10v-62.527344c0-5.523437-4.476563-10-10-10h-19.316406c-3.539063-13.144531-8.746094-25.714843-15.550781-37.527343l13.597656-13.597657c1.875-1.875 2.929687-4.421875 2.929687-7.074219-.003906-2.652343-1.058593-5.199218-2.933593-7.074218l-44.230469-44.195313c-3.902344-3.902343-10.234375-3.902343-14.140625.003907l-13.578125 13.582031c-11.8125-6.804688-24.382813-12.015625-37.53125-15.554688v-19.207031c0-5.523438-4.476563-10-10-10h-62.527344c-5.519531 0-10 4.476562-10 10v19.210938c-13.144531 3.535156-25.714844 8.746093-37.527344 15.550781l-13.582031-13.582031c-3.902344-3.902344-10.234375-3.90625-14.140625-.003907l-44.226563 44.199219c-1.878906 1.875-2.933593 4.417969-2.933593 7.070312 0 2.652344 1.054687 5.199219 2.929687 7.074219l13.597656 13.597657c-6.804687 11.8125-12.015624 24.378906-15.554687 37.527343h-19.277344c-5.523437 0-10 4.476563-10 9.996094l-.035156 62.527344c-.003906 2.652343 1.050781 5.199219 2.925781 7.074219s4.417969 2.929687 7.074219 2.929687h19.3125c3.539063 13.148437 8.75 25.71875 15.554687 37.53125l-13.671874 13.671875c-3.902344 3.902344-3.90625 10.234375 0 14.140625l44.195312 44.226563c1.875 1.875 4.417969 2.933593 7.070312 2.933593h.003907c2.652343 0 5.195312-1.054687 7.070312-2.929687l13.683594-13.6875c11.816406 6.804687 24.386719 12.015625 37.53125 15.554687zm-33.609375-55.972656c-3.957031-2.558594-9.164062-2.003906-12.5 1.328125l-12.175781 12.175781-30.058594-30.082031 12.164063-12.167969c3.332031-3.332031 3.886718-8.539062 1.328124-12.496094-9.066406-14.03125-15.441406-29.410156-18.941406-45.714844-.992187-4.605468-5.0625-7.898437-9.777344-7.898437h-17.175781l.023438-42.527344h17.152343c4.714844 0 8.785157-3.289062 9.777344-7.898437 3.5-16.300782 9.875-31.679688 18.941406-45.710938 2.558594-3.957031 2.003907-9.164062-1.328124-12.496094l-12.085938-12.089843 30.082031-30.058594 12.074219 12.078125c3.335938 3.332031 8.539062 3.882812 12.5 1.328125 14.027344-9.066406 29.40625-15.441406 45.710938-18.941406 4.605468-.992188 7.898437-5.066407 7.898437-9.777344v-17.078125h42.527344v17.074219c0 4.714843 3.289062 8.789062 7.898437 9.777343 16.300782 3.503907 31.683594 9.875 45.710938 18.941407 3.957031 2.558593 9.164062 2.007812 12.496094-1.328125l12.078124-12.074219 30.082032 30.058594-12.085938 12.085937c-3.335937 3.335938-3.886718 8.542969-1.328125 12.5 9.066407 14.03125 15.4375 29.410156 18.941407 45.710938.988281 4.609375 5.0625 7.898437 9.777343 7.898437h17.183594v42.527344h-17.183594c-4.714843 0-8.785156 3.292969-9.777343 7.898437-3.5 16.300782-9.875 31.683594-18.941407 45.710938-2.558593 3.960938-2.003906 9.167969 1.328125 12.5l12.164063 12.164062-30.058594 30.082032-12.175781-12.171875c-3.335938-3.335938-8.542969-3.886719-12.5-1.328125-14.03125 9.066406-29.410156 15.4375-45.710938 18.941406-4.609375.992188-7.898437 5.0625-7.898437 9.777344v17.253906h-42.527344v-17.253906c0-4.710938-3.292969-8.785156-7.898437-9.777344-16.300782-3.5-31.679688-9.875-45.710938-18.941406zm0 0"})),s||(s=u.createElement("path",{className:"path secondary",d:"m338.628906 256c0-45.5625-37.066406-82.628906-82.628906-82.628906s-82.628906 37.066406-82.628906 82.628906 37.066406 82.628906 82.628906 82.628906 82.628906-37.066406 82.628906-82.628906zm-145.257812 0c0-34.535156 28.09375-62.628906 62.628906-62.628906s62.628906 28.097656 62.628906 62.628906-28.09375 62.628906-62.628906 62.628906-62.628906-28.09375-62.628906-62.628906zm0 0"})),o||(o=u.createElement("path",{className:"path secondary",d:"m348.078125 37.820312c2.632813 0 5.210937-1.070312 7.070313-2.929687 1.859374-1.871094 2.929687-4.449219 2.929687-7.082031 0-2.617188-1.066406-5.199219-2.929687-7.070313-1.859376-1.859375-4.4375-2.929687-7.070313-2.929687-2.640625 0-5.207031 1.070312-7.066406 2.929687-1.863281 1.871094-2.933594 4.441407-2.933594 7.070313 0 2.640625 1.070313 5.210937 2.933594 7.082031 1.859375 1.859375 4.425781 2.929687 7.066406 2.929687zm0 0"})),l||(l=u.createElement("path",{className:"path secondary",d:"m164.359375 474.359375c-2.628906 0-5.210937 1.070313-7.070313 2.929687-1.859374 1.859376-2.929687 4.441407-2.929687 7.070313 0 2.640625 1.070313 5.210937 2.929687 7.070313 1.859376 1.859374 4.441407 2.929687 7.070313 2.929687s5.210937-1.070313 7.070313-2.929687c1.859374-1.859376 2.929687-4.441407 2.929687-7.070313s-1.070313-5.210937-2.929687-7.070313c-1.859376-1.859374-4.441407-2.929687-7.070313-2.929687zm0 0"})))},f=(0,u.forwardRef)(m);r.p},72516:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(51139),a=r.n(n),i=r(32234),s=r.n(i)()(a());s.push([e.id,".user-type-card{height:100%}.selected-card{border-bottom:3px solid var(--oxygen-palette-primary-main)}",""]);const o=s},1651:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(22084),a=r(38419),i=r(78880),s=r(99424);const o=(0,i.Z)((function(e){var t=(0,n.Z)(e,s.Z);return t.length&&t[0]===e[0]?(0,a.Z)(t):[]}))}}]);