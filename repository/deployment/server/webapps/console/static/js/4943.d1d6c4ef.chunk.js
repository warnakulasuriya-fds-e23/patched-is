"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[4943,9846],{14943:(e,t,n)=>{n.r(t),n.d(t,{IntegrateSDKs:()=>b});var a=n(16590),l=n(43516),r=n(50699),i=n(44194),o=n(10479),c=n(59673),s=n(47245),u=n(66528),d=n(26154),m=n(62508),p=n(77757),g=n(79846),h=n(8951);function E(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,r,i,o=[],c=!0,s=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(o.push(a.value),o.length!==t);c=!0);}catch(e){s=!0,l=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw l}}return o}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var R=["openid","profile"],b=function(e){var t=e.inboundProtocolConfig,n=e.technology,v=e["data-componentid"],y=(0,o.$)().t,b=(0,l.fQ)().getLink,k=(0,s.v9)((function(e){return e.config})),I=f((0,i.useState)(void 0),2),C=I[0],U=I[1],w=f((0,i.useState)([]),2),L=w[0],S=w[1],K=f((0,i.useState)(""),2),A=K[0],O=K[1],Z=f((0,i.useState)(""),2),x=Z[0],D=Z[1];(0,i.useEffect)((function(){var e;if(null!=t&&null!==(e=t.oidc)&&void 0!==e&&e.callbackURLs&&Array.isArray(t.oidc.callbackURLs)&&!(t.oidc.callbackURLs.length<1)){var n=a.EncodeDecodeUtils.decodeURLRegex(t.oidc.callbackURLs[0]);n&&Array.isArray(n)&&n.length>1&&(n.forEach((function(e){S((function(t){return[].concat(E(t),[{key:e,text:e,value:e}])}))})),O(n[0]),D(n[0]))}}),[t]),(0,i.useEffect)((function(){if(null!=t&&t.oidc){var e={baseUrl:k.deployment.customServerHost,clientID:t.oidc.clientId,scope:R,signInRedirectURL:L.length>1?A:t.oidc.callbackURLs[0],signOutRedirectURL:L.length>1?x:t.oidc.callbackURLs[0]};U(e)}}),[t,L,A,x]);return i.createElement(i.Fragment,{"data-componentid":v},i.createElement(g.IntegrateStepGeneratorFactory,{technology:n,configurationOptions:function(e){return function(e){var t;return(0,r.Z)(C)?null:i.createElement(l.v0,{header:e,content:i.createElement("div",null,i.createElement(u.Z,{basic:"very",celled:!0,collapsing:!0},i.createElement(u.Z.Body,null,i.createElement(u.Z.Row,null,i.createElement(u.Z.Cell,null,i.createElement(l.EK,null,"clientID"),i.createElement(l.kW,{popup:!0},y("extensions:develop.applications.quickstart.spa.integrate.common.sdkConfigs.clientId.hint"))),i.createElement(u.Z.Cell,null,i.createElement(l.EK,{withBackground:!1},C.clientID))),i.createElement(u.Z.Row,null,i.createElement(u.Z.Cell,null,i.createElement(l.EK,null,"baseUrl"),i.createElement(l.kW,{popup:!0},y("extensions:develop.applications.quickstart.spa.integrate.common.sdkConfigs.serverOrigin.hint"))),i.createElement(u.Z.Cell,null,i.createElement(l.EK,{withBackground:!1},C.baseUrl))),i.createElement(u.Z.Row,null,i.createElement(u.Z.Cell,null,i.createElement(l.EK,null,"signInRedirectURL"),i.createElement(l.kW,{popup:!0,popupOptions:{wide:!0},warning:L.length>1},L.length>1&&i.createElement(i.Fragment,null,i.createElement(l.v0,{attached:"top",warning:!0},i.createElement(d.Z,{name:"warning sign"}),y("extensions:develop.applications.quickstart.spa.integrate.common.sdkConfigs.signInRedirectURL.hint.multipleWarning")),i.createElement(m.Z,{hidden:!0})),i.createElement(c.c,{i18nKey:"extensions:develop.applications.quickstart.spa.integrate.common.sdkConfigs.signInRedirectURL.hint.content"},"The URL that determines where the authorization code is sent to upon user authentication.",i.createElement(m.Z,{hidden:!0}),"If your application is hosted on a different URL, go to the ",i.createElement(l.rU,{link:"#tab=".concat(2),target:"_self",external:!1},"protocol")," tab and configure the correct URL from the ",i.createElement(l.EK,null,"Authorized redirect URLs")," field."))),i.createElement(u.Z.Cell,null,L.length>1?i.createElement(i.Fragment,null,i.createElement(p.Z.Select,{fluid:!0,onChange:function(e,t){O(t.value)},defaultValue:L[0].value,options:L})):i.createElement(l.EK,{withBackground:!1},C.signInRedirectURL))),i.createElement(u.Z.Row,null,i.createElement(u.Z.Cell,null,i.createElement(l.EK,null,"signOutRedirectURL"),i.createElement(l.kW,{popup:!0,popupOptions:{wide:!0},warning:L.length>1},L.length>1&&i.createElement(i.Fragment,null,i.createElement(l.v0,{attached:"top",warning:!0},i.createElement(d.Z,{name:"warning sign"}),y("extensions:develop.applications.quickstart.spa.integrate.common.sdkConfigs.signOutRedirectURL.hint.multipleWarning")),i.createElement(m.Z,{hidden:!0})),i.createElement(c.c,{i18nKey:"extensions:develop.applications.quickstart.spa.integrate.common.sdkConfigs.signOutRedirectURL.hint.content"},"The URL that determines where the user is redirected to upon logout.",i.createElement(m.Z,{hidden:!0}),"If your application is hosted on a different URL, go to the ",i.createElement(l.rU,{link:"#tab=".concat(2),target:"_self",external:!1},"protocol")," tab and configure the correct URL from the ",i.createElement(l.EK,null,"Authorized redirect URLs")," field."))),i.createElement(u.Z.Cell,null,L.length>1?i.createElement(p.Z.Select,{fluid:!0,onChange:function(e,t){D(t.value)},defaultValue:L[0].value,options:L,placeholder:"Sign-out Redirect URL"}):i.createElement(l.EK,{withBackground:!1},C.signOutRedirectURL))),i.createElement(u.Z.Row,null,i.createElement(u.Z.Cell,null,i.createElement(l.EK,null,"scope"),i.createElement(l.kW,{popup:!0},i.createElement(c.c,{i18nKey:"extensions:develop.applications.quickstart.spa.integrate.common.sdkConfigs.scope.hint"},"These are the set of scopes that are used to request user attributes.",i.createElement(m.Z,{hidden:!0}),"If you need to to add more scopes other than ",i.createElement(l.EK,null,"openid")," &",i.createElement(l.EK,null,"profile"),", you can append them to the array.",i.createElement(m.Z,{hidden:!0}),"Read through our ",i.createElement(l.rU,{link:b("develop.applications.editApplication.oidcApplication.quickStart.applicationScopes.learnMore")},"documentation")," to learn  more."))),i.createElement(u.Z.Cell,null,i.createElement(l.EK,{withBackground:!1},"[".concat(null==C||null===(t=C.scope)||void 0===t?void 0:t.map((function(e){return'"'.concat(e,'"')})),"]")))))))})}(e)},productName:k.ui.productName,sdkConfig:{baseUrl:null==C?void 0:C.baseUrl,clientID:null==C?void 0:C.clientID,scope:null==C?void 0:C.scope,signInRedirectURL:L.length>1?A:null==C?void 0:C.signInRedirectURL,signOutRedirectURL:L.length>1?x:null==C?void 0:C.signOutRedirectURL}}),i.createElement(m.Z,{hidden:!0,className:"x2"}),i.createElement("div",{className:"mt-3 mb-6"},i.createElement(l.v0,{type:"info",header:y("extensions:develop.applications.quickstart.spa.common.addTestUser.title"),content:i.createElement(h.HF,null)})))};b.defaultProps={"data-componentid":"integrate-sdks"}},79846:(e,t,n)=>{n.r(t),n.d(t,{IntegrateStepGeneratorFactory:()=>o});var a=n(44194),l=n(36163),r=n(43204),i=n(22660),o=function(e){var t=e.configurationOptions,n=e.sdkConfig,o=e.technology,c=e.productName;switch(o){case i.It.REACT:return a.createElement(r.ReactSDKIntegrateSteps,{sdkConfig:n,productName:c,configurationOptions:t});case i.It.JAVASCRIPT:return a.createElement(l.JavaScriptSDKIntegrateSteps,{sdkConfig:n,productName:c,configurationOptions:t})}};o.defaultProps={"data-componentid":"integrate-sdk-step-generator-factory"}},36163:(e,t,n)=>{n.r(t),n.d(t,{JavaScriptSDKIntegrateSteps:()=>c});var a=n(5840),l=n(43516),r=n(44194),i=n(62508),o=n(21878),c=function(e){var t=e.configurationOptions,n=e.sdkConfig,c=e["data-componentid"],s=[{stepContent:r.createElement(r.Fragment,null,r.createElement(l.xv,null,"There are two ways that you can integrate the ",r.createElement(l.EK,null,"@asgardeo/auth-spa")," SDK to your"," ","JavaScript application. Pick one of the following approaches based on your requirement."),r.createElement(l.X6,{as:"h4"},"Load from a CDN"),r.createElement(l.xv,null,"You can pull down the ",r.createElement(l.EK,null,"@asgardeo/auth-spa")," SDK from the ",r.createElement(l.EK,null,"unpkg")," ","content delivery network (CDN)."),r.createElement("div",{className:"code-segment"},r.createElement(l.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"htmlmixed",sourceCode:'<script src="'.concat(o.n.javascript.cdn,'"><\/script>')})),r.createElement(l.X6,{as:"h4"},"Install using a package manager"),r.createElement(l.xv,null,"You can also install the ",r.createElement(l.EK,null,"@asgardeo/auth-spa")," package from ",r.createElement(l.EK,null,"npm")," or"," ",r.createElement(l.EK,null,"yarn")," package manager."),r.createElement("div",{className:"code-segment"},r.createElement(l.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:o.n.javascript.npmInstallCommand}))),stepTitle:"Install SDK"},{stepContent:function(){if(!n)return null;var e,a,o;return r.createElement(r.Fragment,null,r.createElement(l.xv,null,"Copy and use the following code within the root file of your project"," ",r.createElement(l.EK,null,"E.g., index.html")," to configure ",r.createElement(l.EK,null,"AsgardeoSPAClient")," for your application."),r.createElement(i.Z,{hidden:!0}),(o=r.createElement(l.xv,null,"To initialize the SDK, use the ",r.createElement(l.EK,null,"getInstance()")," function in the SDK and pass in"," ","the required configurations to the ",r.createElement(l.EK,null,"auth.initialize()")," function."),t(o)),r.createElement(i.Z,{hidden:!0}),r.createElement("div",{className:"code-segment"},r.createElement(l.pq,{height:"100%",showLineNumbers:!0,withClipboardCopy:!0,language:"javascript",sourceCode:(e={baseUrl:null==n?void 0:n.baseUrl,clientID:n.clientID,scope:n.scope,signInRedirectURL:n.signInRedirectURL,signOutRedirectURL:n.signOutRedirectURL},'<script>\n    var auth = AsgardeoAuth.AsgardeoSPAClient.getInstance();\n\n    auth.initialize({\n        signInRedirectURL: "'.concat(e.signInRedirectURL,'",\n        signOutRedirectURL: "').concat(e.signOutRedirectURL,'",\n        clientID: "').concat(e.clientID,'",\n        baseUrl: "').concat(e.baseUrl,'",\n        scope: ').concat("[ ".concat(null==e||null===(a=e.scope)||void 0===a?void 0:a.map((function(e){return'"'.concat(e,'"')}))," ]"),"\n    });\n<\/script>")),options:{lineWrapping:!0},theme:"dark",readOnly:!0})))}(),stepTitle:r.createElement(r.Fragment,null,"Configure ",r.createElement(l.EK,null,"AsgardeoSPAClient"))},{stepContent:r.createElement(r.Fragment,null,r.createElement(l.xv,null,"The created instance of the SDK could be used to access the session state that contains"," ","information such as the email address of the authenticated user and the methods that are"," ","required for implementing authentication."),r.createElement(l.X6,{as:"h4"},"Add a Login Button"),r.createElement(l.xv,null,"We can call the ",r.createElement(l.EK,null,"signIn()")," function using the created instance to easily"," ","implement a ",r.createElement("strong",null,"login button"),"."),r.createElement("div",{className:"code-segment"},r.createElement(l.pq,{oneLiner:!0,readOnly:!0,withClipboardCopy:!0,language:"javascript",sourceCode:'<button onClick="auth.signIn()">Log In</button>'})),r.createElement(l.xv,{spaced:"top"},"Similarly to the above step, we can use the ",r.createElement(l.EK,null,"signOut()")," function to implement a"," ",r.createElement("strong",null,"logout button"),"."),r.createElement(l.X6,{as:"h4"},"Show Authenticated User's Information"),r.createElement(l.xv,null,"The following code snippet demonstrates the process of accesing the authenticated user's"," ","information together with other functions from the SDK."),r.createElement("div",{className:"code-segment"},r.createElement(l.pq,{height:"100%",showLineNumbers:!0,withClipboardCopy:!0,language:"javascript",sourceCode:'<div>\n    \x3c!-- Authenticated View ---\x3e\n    <div id="authenticated-view" style="display: none;">\n        <ul>\n            <li id="username"></li>\n        </ul>\n        <button onClick="auth.signOut()">Log Out</button>\n    </div>\n    \x3c!-- Un-Authenticated View ---\x3e\n    <div id="unauthenticated-view" style="display: none;">\n        <button onClick="auth.signIn()">Log In</button>\n    </div>\n</div>\n\n<script>\n    (async () => {\n        let user = undefined;\n\n        // If there are auth search params i.e code, session_state, automatically trigger login.\n        // Else, try to see if there\'s a session.\n        if (AsgardeoAuth.SPAUtils.hasAuthSearchParamsInURL()) {\n            user = await auth.signIn({ callOnlyOnRedirect: true });\n        } else {\n            user = await auth.trySignInSilently();\n        }\n\n        // Update the UI accordingly.\n        if (user) {\n            document.getElementById("authenticated-view").style.display = "block";\n            document.getElementById("unauthenticated-view").style.display = "none";\n            document.getElementById("username").innerHTML = user.username;\n        } else {\n            document.getElementById("authenticated-view").style.display = "none";\n            document.getElementById("unauthenticated-view").style.display = "block";\n        }\n    })();\n<\/script>',options:{lineWrapping:!0},theme:"dark",readOnly:!0}))),stepTitle:"Use API"}];return r.createElement(r.Fragment,null,r.createElement(a.t,{alwaysOpen:!0,isSidePanelOpen:!0,isNextEnabled:!0,stepContent:s,"data-testid":"".concat(c,"-vertical-stepper")}))};c.defaultProps={"data-componentid":"react-sdk-integrate-steps"}}}]);