"use strict";(self.webpackChunk_wso2is_console=self.webpackChunk_wso2is_console||[]).push([[1213],{81389:(e,t,n)=>{n.d(t,{c:()=>o});var r=n(96124),i=n(76271),a=n(6833),o=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o={headers:{"Content-Type":"application/json"},method:a.f2.GET,url:i.h.getState().config.endpoints.organizationEndpointV2.replace("{organization}",e)},s=(0,r.Z)(n?o:null,t),l=s.data,u=s.error;return{data:l,error:u,isLoading:!u&&!l,isValidating:s.isValidating,mutate:s.mutate}}},11063:(e,t,n)=>{n.d(t,{k:()=>l});var r=n(60486);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var l=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},n=[{key:"getPaths",value:function(){return(new Map).set("USERS_PATH","".concat(r.$.getAdminViewBasePath(),"/users")).set("USERS_EDIT_PATH","".concat(r.$.getAdminViewBasePath(),"/:user-type/:id")).set("CUSTOMER_USERS_PATH","".concat(r.$.getAdminViewBasePath(),"/users")).set("CUSTOMER_USER_EDIT_PATH","".concat(r.$.getAdminViewBasePath(),"/users/:id")).set("COLLABORATOR_USERS_PATH","".concat(r.$.getAdminViewBasePath(),"/administrators")).set("COLLABORATOR_USER_EDIT_PATH","".concat(r.$.getAdminViewBasePath(),"/administrators/:id")).set("COLLABORATOR_SETTINGS_EDIT_PATH","".concat(r.$.getAdminViewBasePath(),"/administrator-settings-edit"))}}],(t=null)&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();o(l,"ASGARDEO_USERSTORE","ASGARDEO_USER"),o(l,"ERROR_COLLABORATOR_USER_LIMIT_REACHED","ASG-UIM-10010"),o(l,"READONLY_USERSTORE_TYPE_NAME","WSOutboundUserStoreManager"),o(l,"DEFAULT_USERSTORE_TYPE_NAME","AsgardeoBusinessUserStoreManager"),o(l,"RESOURCE_NOT_FOUND_ERROR_MESSAGE","Resource not found."),o(l,"GROUPS_AND_ROLES_ATTRIBUTE","groups,roles"),o(l,"GROUPS_ATTRIBUTE","groups"),o(l,"INVALID_STATUS_CODE_ERROR","Invalid Status Code. Expected Code 200."),o(l,"USER_CREATE_WIZARD_TRIGGER_URL_SEARCH_PARAM_KEY","open"),o(l,"USERNAME_VALIDATION_REGEX","^(?=.*[a-zA-Z])[a-zA-Z0-9]+$"),o(l,"DEBOUNCE_TIMEOUT",1e3),o(l,"INVITE_INTERNAL_USER_FORM_ID","inviteInternalUserForm"),o(l,"INVITE_EXTERNAL_USER_FORM_ID","inviteExternalUserForm"),o(l,"PASSWORD_JS_REGEX","^[\\S]{5,30}$"),o(l,"ROLENAME_JS_REGEX","^[\\S]{3,30}$"),o(l,"USERNAME_JS_REGEX","^[\\S]{3,30}$"),o(l,"ALL_USER_DESCRIPTION_SHOWN_STATUS_KEY","isAllUserDescriptionShown"),o(l,"CONSUMER_DESCRIPTION_SHOWN_STATUS_KEY","isConsumerDescriptionShown"),o(l,"QUEST_DESCRIPTION_SHOWN_STATUS_KEY","isGuestDescriptionShown"),o(l,"FORM_FIELD_CONSTRAINTS",{PASSWORD_LOWER_CASE:/[a-z]/g,PASSWORD_MIN_LENGTH:8,PASSWORD_NUMERIC:/[0-9]/g,PASSWORD_UPPER_CASE:/[A-Z]/g}),o(l,"FEATURE_DICTIONARY",(new Map).set("ADVANCED_USER_MGT","advancedUserManagement"))},1213:(e,t,n)=>{n.r(t),n.d(t,{AdminSettingsPage:()=>T,default:()=>O});var r=n(60486),i=n(40838),a=n(76271),o=n(6833),s=n(82406),l=n(43516),u=n(44194),c=n(10479),d=n(47245),g=n(39114),S=n(72857),E=n(26154),m=n(11526),R=m.AsgardeoSPAClient.getInstance().httpRequest.bind(m.AsgardeoSPAClient.getInstance()),_=function(e){var t={data:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":a.h.getState().config.deployment.clientHost,"Content-Type":"application/json"},method:o.f2.PATCH,url:a.h.getState().config.endpoints.organizationPatchEndpointV2};return R(t).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.reject(e)}))},p=n(81389),A=n(11063);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t=e["data-componentid"],n=(0,d.I0)(),m=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.consoleSettings})),R=(0,d.v9)((function(e){var t;return null==e||null===(t=e.config)||void 0===t||null===(t=t.ui)||void 0===t||null===(t=t.features)||void 0===t?void 0:t.administrators})),v=(null==m?void 0:m.enabled)&&!(null!=R&&R.enabled),T=p.c,O=_,b=(0,c.$)().t,U=(0,l.fQ)().getLink,h=f((0,u.useState)(!1),2),y=h[0],I=h[1],P=T(a.h.getState().auth.tenantDomain,{revalidateIfStale:!1}),C=P.data,N=P.isLoading,D=P.error;(0,u.useEffect)((function(){I(null==C?void 0:C.isEnterpriseLoginEnabled)}),[N]),(0,u.useEffect)((function(){var e,t,r,i,a,l,u;D&&(null!=D&&null!==(e=D.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.description?n((0,s.V_)({description:null!==(t=null!==(r=null==D||null===(i=D.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.description)&&void 0!==r?r:null==D||null===(a=D.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.detail)&&void 0!==t?t:b("extensions:manage.users.administratorSettings.error.description"),level:o.QU.ERROR,message:null!==(l=null==D||null===(u=D.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.message)&&void 0!==l?l:b("extensions:manage.users.administratorSettings.error.message")})):n((0,s.V_)({description:b("extensions:manage.users.administratorSettings.genericError.description"),level:o.QU.ERROR,message:b("extensions:manage.users.administratorSettings.genericError.message")})))}),[D]);var L=function(e,t){var r={isEnterpriseLoginEnabled:t.checked};I(t.checked),O(r).then((function(){n((0,s.V_)({description:b("extensions:manage.users.administratorSettings.success.description"),level:o.QU.SUCCESS,message:b("extensions:manage.users.administratorSettings.success.message")}))})).catch((function(e){var t,r,i,a,l,u,c;null!=e&&null!==(t=e.response)&&void 0!==t&&null!==(t=t.data)&&void 0!==t&&t.description?n((0,s.V_)({description:null!==(r=null!==(i=null==e||null===(a=e.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.description)&&void 0!==i?i:null==e||null===(l=e.response)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.detail)&&void 0!==r?r:b("extensions:manage.users.administratorSettings.error.description"),level:o.QU.ERROR,message:null!==(u=null==e||null===(c=e.response)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.message)&&void 0!==u?u:b("extensions:manage.users.administratorSettings.error.message")})):n((0,s.V_)({description:b("extensions:manage.users.administratorSettings.genericError.description"),level:o.QU.ERROR,message:b("extensions:manage.users.administratorSettings.genericError.message")}))}))};return u.createElement(l.Xg,{title:b("extensions:manage.users.administratorSettings.administratorSettingsTitle"),description:u.createElement(u.Fragment,null,b("extensions:manage.users.administratorSettings.administratorSettingsSubtitle"),u.createElement(l.eb,{link:U("manage.users.collaboratorAccounts.adminSettingsLearnMore")},b("common:learnMore"))),backButton:{"data-componentid":"".concat(t,"-page-back-button"),onClick:function(){i.m.push(v?r.$.getPaths().get("CONSOLE_SETTINGS"):A.k.getPaths().get("COLLABORATOR_USERS_PATH"))},text:b(v?"extensions:manage.users.administratorSettings.backButtonConsoleSettings":"extensions:manage.users.administratorSettings.backButton")},bottomMargin:!1,contentTopMargin:!0,pageHeaderMaxWidth:!0,"data-componentid":"".concat(t,"-page-layout")},u.createElement(u.Fragment,null,u.createElement(g.Z,{label:b(y?"extensions:manage.users.administratorSettings.enableToggleMessage":"extensions:manage.users.administratorSettings.disableToggleMessage"),toggle:!0,onChange:L,checked:y,readOnly:!1,"data-componentid":"".concat(t,"-enable-toggle")})),u.createElement(S.Z,{info:!0,content:u.createElement(u.Fragment,null,u.createElement(E.Z,{name:"info circle"}),b("extensions:manage.users.administratorSettings.toggleHint"))}))};T.defaultProps={"data-componentid":"administrator-settings-page"};const O=T}}]);